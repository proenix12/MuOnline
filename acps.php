<?php
error_reporting(E_ALL ^E_NOTICE ^E_WARNING);
session_start(); 
ob_start();
header("Cache-control: private");
ob_end_flush();

$t_acps_skip = 'yes';
require('system/engine.php'); //Web Functions

require('system/language.php');

if (file_exists("system/engine_lang/".$_SESSION["mvcoreLang"].".php")) { 
	require('system/engine_lang/'.$_SESSION["mvcoreLang"].'.php'); 
} else { 
	require('system/engine_lang/'.$mvcore['df_lang'].'.php'); 
};


?>
<?php

if(isset($_POST['hopt'])) {
	if($_POST['hopt'] == 'na') { echo '0'; } else {
		$select_joh_info= mssql_query("Select joh_id, joh_val, joh_cost from MVCore_Wshopp_Harmony where joh_name='".$_POST['hopt']."'");
		$check_joh_info = mssql_fetch_row($select_joh_info);
		echo ''.$check_joh_info[2].'';
	}
exit;
};

if(isset($_POST['s_option'])) {
	if($_POST['s_option'] == '254') { echo '0'; } else {
		$select_soc_info= mssql_query("Select sok_id, sok_name, type, sok_cost from MVCore_Wshopp_Socket where sok_id='".$_POST['s_option']."'");
		$check_soc_info = mssql_fetch_row($select_soc_info);
		echo ''.$check_soc_info[3].'';
	}
exit;
};

?>
<?php
if(isset($_POST['cleanwareergreg'])) {
	$useracc = $_SESSION['username']; // Get Loged In Username
	
	if($mvcore['db_season'] >= '8') {
		$item_empty_hex = "0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF";
	} elseif($mvcore['db_season'] == '1') {
		$item_empty_hex = "0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF";
	} else { 
		$item_empty_hex = "0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF";
	};
	
	$del_ware = mssql_query("update warehouse set items = ".$item_empty_hex." where accountid = '".$useracc."'");
	echo '<div class="mvcore-nNote mvcore-nSuccess">'.main_p_warehouse_waresuccesscleaned.'</div>';
	exit;
};
?>
<?php
if(isset($_POST['charslotselect'])) { // For Waiting Room Script
	
	$POST = explode("-ids-", $_POST['charslotselect']);
	
	$useracc = $_SESSION['username']; // Get username
	
	$check_online = mssql_query("Select ConnectStat from ".$mvcore_medb_s." where memb___id='".$useracc."'");
	$check_onlines = mssql_fetch_row($check_online);
	if( $check_onlines[0] == '0' || $check_onlines[0] == '' ){
		
		if($POST[0] != '') {
			if($POST[0] == '0'){
				$run_update = mssql_query("Update AccountCharacter set GameID1 = '' where ID = '".$useracc."'");
			} else {
				$run_update = mssql_query("Update AccountCharacter set GameID1 = '".$POST[0]."' where ID = '".$useracc."'");
			};
		};

		if($POST[1] != '') {
			if($POST[1] == '0'){
				$run_update = mssql_query("Update AccountCharacter set GameID2 = '' where ID = '".$useracc."'");
			} else {
				$run_update = mssql_query("Update AccountCharacter set GameID2 = '".$POST[1]."' where ID = '".$useracc."'");
			};
		};
		
		if($POST[2] != '') {
			if($POST[2] == '0'){
				$run_update = mssql_query("Update AccountCharacter set GameID3 = '' where ID = '".$useracc."'");
			} else {
				$run_update = mssql_query("Update AccountCharacter set GameID3 = '".$POST[2]."' where ID = '".$useracc."'");
			};
		};

		if($POST[3] != '') {
			if($POST[3] == '0'){
				$run_update = mssql_query("Update AccountCharacter set GameID4 = '' where ID = '".$useracc."'");
			} else {
				$run_update = mssql_query("Update AccountCharacter set GameID4 = '".$POST[3]."' where ID = '".$useracc."'");
			};
		};
		
		if($POST[4] != '') {
			if($POST[4] == '0'){
				$run_update = mssql_query("Update AccountCharacter set GameID5 = '' where ID = '".$useracc."'");
			} else {
				$run_update = mssql_query("Update AccountCharacter set GameID5 = '".$POST[4]."' where ID = '".$useracc."'");
			};
		};
	
	};
	
	echo'OK';
	
	exit;
}
?>
<?php
if(isset($_POST['getcgzfw'])) { // Credits & Gold Credits & Zen Calculate For Webshop
	
	$gDat = explode("-ids-", $_POST['getcgzfw']);
	
//main functions
$item_name = $gDat[0]; //1
$element = $gDat[1]; //2
$item_level = $gDat[2]; //3
$item_skill = $gDat[3]; //4
if($mvcore['refi_opt_buy'] == 'yes'){ $item_ref = $gDat[4]; } else { $item_ref = '0'; }; //5
if($mvcore['har_opt_buy'] == 'yes'){ $item_harm = $gDat[5]; } else { $item_harm = ''; } //6
if($mvcore['anc_opt_buy'] == 'yes'){ $item_anc = $gDat[6]; } else { $item_anc = ''; } //7

$is_fenrir1 = $gDat[7]; //8

if($mvcore['soc_opt_buy'] == 'yes'){
	if($mvcore['socket_type'] == 'scfmt'){
		$item_socket1 = $gDat[8] + 1; //9
		$item_socket2 = $gDat[9] + 1; //10
		$item_socket3 = $gDat[10] + 1; //11
		$item_socket4 = $gDat[11] + 1; //12
		$item_socket5 = $gDat[12] + 1; //13
	} else {
		$item_socket1 = $gDat[8]; // 254 = Empty Socket
		$item_socket2 = $gDat[9]; // 254 = Empty Socket
		$item_socket3 = $gDat[10]; // 254 = Empty Socket
		$item_socket4 = $gDat[11]; // 254 = Empty Socket
		$item_socket5 = $gDat[12]; // 254 = Empty Socket
	}
} else { 
	$item_socket1 = ''; // 254 = Empty Socket
	$item_socket2 = ''; // 254 = Empty Socket
	$item_socket3 = ''; // 254 = Empty Socket
	$item_socket4 = ''; // 254 = Empty Socket
	$item_socket5 = ''; // 254 = Empty Socket
}

$useracc = $_SESSION['username']; // Get Logedin Username

$check_item_data = mssql_query("Select item_name, item_cost, zen_cost, can_buy_w_money2, can_buy_w_money1, can_buy_w_zen, is_harmony, bought_count, has_luck, id, category, x, y, durability, is_socket from MVCore_Wshopp  where item_name='".$item_name."'");
$check_item_dat = mssql_fetch_row($check_item_data);

if($mvcore['socket_exc_item'] != 'yes' && $check_item_dat[14] >= '1') {
$item_exe1 = 0; //14
$item_exe2 = 0; //15
$item_exe3 = 0; //16
$item_exe4 = 0; //17
$item_exe5 = 0; //18
$item_exe6 = 0; //19
} else {
$item_exe1 = $gDat[13]; // 0 = nothing
$item_exe2 = $gDat[14]; // 0 = nothing
$item_exe3 = $gDat[15]; // 0 = nothing
$item_exe4 = $gDat[16]; // 0 = nothing
$item_exe5 = $gDat[17]; // 0 = nothing
$item_exe6 = $gDat[18]; // 0 = nothing
};
	
if($check_item_dat[8] == '1') {
	$item_luck = $gDat[19]; //20
	$item_opt = $gDat[20]; //21
} else {
	$item_luck = 0; // 0 = nothing
	$item_opt = 0; // 0 = nothing
}

$socket1level = $gDat[21]; // 22
$socket2level = $gDat[22]; // 23
$socket3level = $gDat[23]; // 24
$socket4level = $gDat[24]; // 25
$socket5level = $gDat[25]; // 26

if($socket1level == '254' || $socket1level == '255' || $socket1level == '') { $socket1levelCost = '0'; $socket1levelCostZen = 0; } else {
	$socket1levelCost = $mvcore['ertel_level'] * $socket1level;
	$socket1levelCostZen = $mvcore['ertel_level'] * $socket1level * $mvcore['cost_cred_to_zen'];
}
if($socket2level == '254' || $socket2level == '255' || $socket2level == '') { $socket2levelCost = '0'; $socket2levelCostZen = 0; } else {
	$socket2levelCost = $mvcore['ertel_level'] * $socket2level;
	$socket2levelCostZen = $mvcore['ertel_level'] * $socket2level * $mvcore['cost_cred_to_zen'];
}
if($socket3level == '254' || $socket3level == '255' || $socket3level == '') { $socket3levelCost = '0'; $socket3levelCostZen = 0; } else {
	$socket3levelCost = $mvcore['ertel_level'] * $socket3level;
	$socket3levelCostZen = $mvcore['ertel_level'] * $socket3level * $mvcore['cost_cred_to_zen'];
}
if($socket4level == '254' || $socket4level == '255' || $socket4level == '') { $socket4levelCost = '0'; $socket4levelCostZen = 0; } else {
	$socket4levelCost = $mvcore['ertel_level'] * $socket4level;
	$socket4levelCostZen = $mvcore['ertel_level'] * $socket4level * $mvcore['cost_cred_to_zen'];
}
if($socket5level == '254' || $socket5level == '255' || $socket5level == '') { $socket5levelCost = '0'; $socket5levelCostZen = 0; } else {
	$socket5levelCost = $mvcore['ertel_level'] * $socket5level;
	$socket5levelCostZen = $mvcore['ertel_level'] * $socket5level * $mvcore['cost_cred_to_zen'];
}

//Item Cost calculate
if($item_anc == '5'){
$c_anc = $mvcore['cost_anc1'];
$c_zen_anc = $mvcore['cost_anc1'] * $mvcore['cost_cred_to_zen'];
} elseif ($item_anc == '10') {
$c_anc = $mvcore['cost_anc2'];
$c_zen_anc = $mvcore['cost_anc2'] * $mvcore['cost_cred_to_zen'];
}

if( $check_item_dat[10] == 12 && $check_item_dat[9] >= 200 && $check_item_dat[9] <= 214 ) {
	$har_opt = '0';
	$har_opt_zen = '0';
	
	$socket_i1_item = '0';
	$socket_i1_item_zen = '0';
	
	$socket_i2_item = '0';
	$socket_i2_item_zen = '0';
	
	$socket_i3_item = '0';
	$socket_i3_item_zen = '0';
	
	$socket_i4_item = '0';
	$socket_i4_item_zen = '0';
	
	$socket_i5_item = '0';
	$socket_i5_item_zen = '0';
} else {
	
	//----- Harmony
	if($item_harm == 'na') { $har_opt='0'; } else {
		$select_joh_info= mssql_query("Select joh_id, joh_val, joh_cost from MVCore_Wshopp_Harmony where joh_name='".$item_harm."'");
		$check_joh_info = mssql_fetch_row($select_joh_info);
		if($mvcore['har_opt_inc'] == 0){
			$har_opt = ''.$check_joh_info[2].'';
			$har_opt_zen = $check_joh_info[2] * $mvcore['cost_cred_to_zen'];
		} else {
			if($check_joh_info[2] == '') {
				$har_opt = 0;
				$har_opt_zen = 0;
			} else {
				$har_opt = $check_joh_info[2] + $mvcore['har_opt_inc'];
				$har_opt_zen = $check_joh_info[2] * $mvcore['cost_cred_to_zen'] + $mvcore['har_opt_inc'];
			}
		};
	}
	//-----

if($mvcore['socket_type'] == 'scfmt'){
	$item_sockets1 = $item_socket1 - 1;
	if($item_sockets1 == 'undefined' || $item_sockets1 == '255' || $item_sockets1 == '') { $socket_i1_item = '0'; $socket_i1_item_zen = 0; } else {
		$select_soc_info= mssql_query("Select sok_id, sok_name, type, sok_cost from MVCore_Wshopp_Socket where sok_id='".$item_sockets1."'");
		$check_soc_info = mssql_fetch_row($select_soc_info);
		if($mvcore['sock_opt_inc'] == 0){
			$socket_i1_item = $check_soc_info[3];
			$socket_i1_item_zen = $check_soc_info[3] * $mvcore['cost_cred_to_zen'];
		} else {
			if($check_soc_info[3] == '') {
				$socket_i1_item = 0;
				$socket_i1_item_zen = 0;
			} else {
				$socket_i1_item = $check_soc_info[3] + $mvcore['sock_opt_inc'];
				$socket_i1_item_zen = $check_soc_info[3] * $mvcore['cost_cred_to_zen'] + $mvcore['sock_opt_inc'];
			}
		};
	}
	$item_sockets2 = $item_socket2 - 1;
	if($item_sockets2 == 'undefined' || $item_sockets2 == '255' || $item_sockets2 == '') { $socket_i2_item = '0'; $socket_i2_item_zen = 0; } else {
		$select_soc_info= mssql_query("Select sok_id, sok_name, type, sok_cost from MVCore_Wshopp_Socket where sok_id='".$item_sockets2."'");
		$check_soc_info = mssql_fetch_row($select_soc_info);
		if($mvcore['sock_opt_inc'] == 0){
			$socket_i2_item = $check_soc_info[3];
			$socket_i2_item_zen = $check_soc_info[3] * $mvcore['cost_cred_to_zen'];
		} else {
			if($check_soc_info[2] == '') {
				$socket_i2_item = 0;
				$socket_i2_item_zen = 0;
			} else {
				$socket_i2_item = $check_soc_info[3] + $mvcore['sock_opt_inc'];
				$socket_i2_item_zen = $check_soc_info[3] * $mvcore['cost_cred_to_zen'] + $mvcore['sock_opt_inc'];
			}
		};
	}
	$item_sockets3 = $item_socket3 - 1;
	if($item_sockets3 == 'undefined' || $item_sockets3 == '255' || $item_sockets3 == '') { $socket_i3_item = '0'; $socket_i3_item_zen = 0; } else {
		$select_soc_info= mssql_query("Select sok_id, sok_name, type, sok_cost from MVCore_Wshopp_Socket where sok_id='".$item_sockets3."'");
		$check_soc_info = mssql_fetch_row($select_soc_info);
		if($mvcore['sock_opt_inc'] == 0){
			$socket_i3_item = $check_soc_info[3];
			$socket_i3_item_zen = $check_soc_info[3] * $mvcore['cost_cred_to_zen'];
		} else {
			if($check_soc_info[2] == '') {
				$socket_i3_item = 0;
				$socket_i3_item_zen = 0;
			} else {
				$socket_i3_item = $check_soc_info[3] + $mvcore['sock_opt_inc'];
				$socket_i3_item_zen = $check_soc_info[3] * $mvcore['cost_cred_to_zen'] + $mvcore['sock_opt_inc'];
			}
		};
	}
	$item_sockets4 = $item_socket4 - 1;
	if($item_sockets4 == 'undefined' || $item_sockets4 == '255' || $item_sockets4 == '') { $socket_i4_item = '0'; $socket_i4_item_zen = 0; } else {
		$select_soc_info= mssql_query("Select sok_id, sok_name, type, sok_cost from MVCore_Wshopp_Socket where sok_id='".$item_sockets4."'");
		$check_soc_info = mssql_fetch_row($select_soc_info);
		if($mvcore['sock_opt_inc'] == 0){
			$socket_i4_item = $check_soc_info[3];
			$socket_i4_item_zen = $check_soc_info[3] * $mvcore['cost_cred_to_zen'];
		} else {
			if($check_soc_info[3] == '') {
				$socket_i4_item = 0;
				$socket_i4_item_zen = 0;
			} else {
				$socket_i4_item = $check_soc_info[3] + $mvcore['sock_opt_inc'];
				$socket_i4_item_zen = $check_soc_info[3] * $mvcore['cost_cred_to_zen'] + $mvcore['sock_opt_inc'];
			}
		};
	}
	$item_sockets5 = $item_socket5 - 1;
	if($item_sockets5 == 'undefined' || $item_sockets5 == '255' || $item_sockets5 == '') { $socket_i5_item = '0'; $socket_i5_item_zen = 0; } else {
		$select_soc_info= mssql_query("Select sok_id, sok_name, type, sok_cost from MVCore_Wshopp_Socket where sok_id='".$item_sockets5."'");
		$check_soc_info = mssql_fetch_row($select_soc_info);
		if($mvcore['sock_opt_inc'] == 0){
			$socket_i5_item = $check_soc_info[3];
			$socket_i5_item_zen = $check_soc_info[3] * $mvcore['cost_cred_to_zen'];
		} else {
			if($check_soc_info[3] == '') {
				$socket_i5_item = 0;
				$socket_i5_item_zen = 0;
			} else {
				$socket_i5_item = $check_soc_info[3] + $mvcore['sock_opt_inc'];
				$socket_i5_item_zen = $check_soc_info[3] * $mvcore['cost_cred_to_zen'] + $mvcore['sock_opt_inc'];
			}
		};
	}
} else {
	if($item_sockets1 == 'undefined' || $item_socket1 == '255' || $item_socket1 == '') { $socket_i1_item = '0'; $socket_i1_item_zen = 0; } else {
		$select_soc_info= mssql_query("Select sok_id, sok_name, type, sok_cost from MVCore_Wshopp_Socket where sok_id='".$item_socket1."'");
		$check_soc_info = mssql_fetch_row($select_soc_info);
		if($mvcore['sock_opt_inc'] == 0){
			$socket_i1_item = $check_soc_info[3];
			$socket_i1_item_zen = $check_soc_info[3] * $mvcore['cost_cred_to_zen'];
		} else {
			if($check_soc_info[3] == '') {
				$socket_i1_item = 0;
				$socket_i1_item_zen = 0;
			} else {
				$socket_i1_item = $check_soc_info[3] + $mvcore['sock_opt_inc'];
				$socket_i1_item_zen = $check_soc_info[3] * $mvcore['cost_cred_to_zen'] + $mvcore['sock_opt_inc'];
			}
		};
	}
	
	if($item_sockets2 == 'undefined' || $item_socket2 == '255' || $item_socket2 == '') { $socket_i2_item = '0'; $socket_i2_item_zen = 0; } else {
		$select_soc_info= mssql_query("Select sok_id, sok_name, type, sok_cost from MVCore_Wshopp_Socket where sok_id='".$item_socket2."'");
		$check_soc_info = mssql_fetch_row($select_soc_info);
		if($mvcore['sock_opt_inc'] == 0){
			$socket_i2_item = $check_soc_info[3];
			$socket_i2_item_zen = $check_soc_info[3] * $mvcore['cost_cred_to_zen'];
		} else {
			if($check_soc_info[3] == '') {
				$socket_i2_item = 0;
				$socket_i2_item_zen = 0;
			} else {
				$socket_i2_item = $check_soc_info[3] + $mvcore['sock_opt_inc'];
				$socket_i2_item_zen = $check_soc_info[3] * $mvcore['cost_cred_to_zen'] + $mvcore['sock_opt_inc'];
			}
		};
	}
	
	if($item_sockets3 == 'undefined' || $item_socket3 == '255' || $item_socket3 == '') { $socket_i3_item = '0'; $socket_i3_item_zen = 0; } else {
		$select_soc_info= mssql_query("Select sok_id, sok_name, type, sok_cost from MVCore_Wshopp_Socket where sok_id='".$item_socket3."'");
		$check_soc_info = mssql_fetch_row($select_soc_info);
		if($mvcore['sock_opt_inc'] == 0){
			$socket_i3_item = $check_soc_info[3];
			$socket_i3_item_zen = $check_soc_info[3] * $mvcore['cost_cred_to_zen'];
		} else {
			if($check_soc_info[3] == '') {
				$socket_i3_item = 0;
				$socket_i3_item_zen = 0;
			} else {
				$socket_i3_item = $check_soc_info[3] + $mvcore['sock_opt_inc'];
				$socket_i3_item_zen = $check_soc_info[3] * $mvcore['cost_cred_to_zen'] + $mvcore['sock_opt_inc'];
			}
		};
	}
	
	if($item_sockets4 == 'undefined' || $item_socket4 == '255' || $item_socket4 == '') { $socket_i4_item = '0'; $socket_i4_item_zen = 0; } else {
		$select_soc_info= mssql_query("Select sok_id, sok_name, type, sok_cost from MVCore_Wshopp_Socket where sok_id='".$item_socket4."'");
		$check_soc_info = mssql_fetch_row($select_soc_info);
		if($mvcore['sock_opt_inc'] == 0){
			$socket_i4_item = $check_soc_info[3];
			$socket_i4_item_zen = $check_soc_info[3] * $mvcore['cost_cred_to_zen'];
		} else {
			if($check_soc_info[3] == '') {
				$socket_i4_item = 0;
				$socket_i4_item_zen = 0;
			} else {
				$socket_i4_item = $check_soc_info[3] + $mvcore['sock_opt_inc'];
				$socket_i4_item_zen = $check_soc_info[3] * $mvcore['cost_cred_to_zen'] + $mvcore['sock_opt_inc'];
			}
		};
	}
	
	if($item_sockets5 == 'undefined' || $item_socket5 == '255' || $item_socket5 == '') { $socket_i5_item = '0'; $socket_i5_item_zen = 0; } else {
		$select_soc_info= mssql_query("Select sok_id, sok_name, type, sok_cost from MVCore_Wshopp_Socket where sok_id='".$item_socket5."'");
		$check_soc_info = mssql_fetch_row($select_soc_info);
		if($mvcore['sock_opt_inc'] == 0){
			$socket_i5_item = $check_soc_info[3];
			$socket_i5_item_zen = $check_soc_info[3] * $mvcore['cost_cred_to_zen'];
		} else {
			if($check_soc_info[3] == '') {
				$socket_i5_item = 0;
				$socket_i5_item_zen = 0;
			} else {
				$socket_i5_item = $check_soc_info[3] + $mvcore['sock_opt_inc'];
				$socket_i5_item_zen = $check_soc_info[3] * $mvcore['cost_cred_to_zen'] + $mvcore['sock_opt_inc'];
			}
		};
	}
}
}

if( $check_item_dat[10] == 12 && $check_item_dat[9] >= 221 && $check_item_dat[9] <= 261 ) {
	
	if($item_socket1 >= '1' && $item_socket1 <= '5') {
		$socket_i1_item = $mvcore['ertel_slopt'];
		$socket_i1_item_zen = $mvcore['ertel_slopt'] * $mvcore['cost_cred_to_zen'];
	} else { $socket_i1_item = '0'; $socket_i1_item_zen = '0'; }; 
	
	if($item_socket2 >= '1' && $item_socket2 <= '5') {
		$socket_i2_item = $mvcore['ertel_slopt'];
		$socket_i2_item_zen = $mvcore['ertel_slopt'] * $mvcore['cost_cred_to_zen'];
	} else { $socket_i2_item = '0'; $socket_i2_item_zen = '0'; }; 
	
	if($item_socket3 >= '1' && $item_socket3 <= '5') {
		$socket_i3_item = $mvcore['ertel_slopt'];
		$socket_i3_item_zen = $mvcore['ertel_slopt'] * $mvcore['cost_cred_to_zen'];
	} else { $socket_i3_item = '0'; $socket_i3_item_zen = '0'; }; 
	
	if($item_socket4 >= '1' && $item_socket4 <= '5') {
		$socket_i4_item = $mvcore['ertel_slopt'];
		$socket_i4_item_zen = $mvcore['ertel_slopt'] * $mvcore['cost_cred_to_zen'];
	} else { $socket_i4_item = '0'; $socket_i4_item_zen = '0'; }; 
	
	if($item_socket5 >= '1' && $item_socket5 <= '5') {
		$socket_i5_item = $mvcore['ertel_slopt'];
		$socket_i5_item_zen = $mvcore['ertel_slopt'] * $mvcore['cost_cred_to_zen'];
	} else { $socket_i5_item = '0'; $socket_i51_item_zen = '0'; }; 
	
}

if($item_exe1 > '0'){
$c_exe1 = $mvcore['cost_exe'];
$c_zen_exe1 = $mvcore['cost_exe'] * $mvcore['cost_cred_to_zen'];
}
if($item_exe2 > '0'){
$c_exe2 = $mvcore['cost_exe'];
$c_zen_exe2 = $mvcore['cost_exe'] * $mvcore['cost_cred_to_zen'];
}
if($item_exe3 > '0'){
$c_exe3 = $mvcore['cost_exe'];
$c_zen_exe3 = $mvcore['cost_exe'] * $mvcore['cost_cred_to_zen'];
}
if($item_exe4 > '0'){
$c_exe4 = $mvcore['cost_exe'];
$c_zen_exe4 = $mvcore['cost_exe'] * $mvcore['cost_cred_to_zen'];
}
if($item_exe5 > '0'){
$c_exe5 = $mvcore['cost_exe'];
$c_zen_exe5 = $mvcore['cost_exe'] * $mvcore['cost_cred_to_zen'];
}
if($item_exe6 > '0'){
$c_exe6 = $mvcore['cost_exe'];
$c_zen_exe6 = $mvcore['cost_exe'] * $mvcore['cost_cred_to_zen'];
}

if($is_fenrir1 == '1'){
$c_fenrir1 = $mvcore['cost_fenblack'];
$c_zen_fenrir1 = $mvcore['cost_fenblack'] * $mvcore['cost_cred_to_zen'];
}
if($is_fenrir1 == '2'){
$c_fenrir2 = $mvcore['cost_fenblue'];
$c_zen_fenrir2 = $mvcore['cost_fenblue'] * $mvcore['cost_cred_to_zen'];
}
if($is_fenrir1 == '4'){
$c_fenrir3 = $mvcore['cost_fengold'];
$c_zen_fenrir3 = $mvcore['cost_fengold'] * $mvcore['cost_cred_to_zen'];
}

if($item_level > '0'){
$c_level = $mvcore['cost_level'] * $item_level;
$c_zen_level = $mvcore['cost_level'] * $item_level * $mvcore['cost_cred_to_zen'];
}
if($item_luck > '0'){
$c_luck = $mvcore['cost_luck'];
$c_zen_luck = $mvcore['cost_luck'] * $mvcore['cost_cred_to_zen'];
}
if($item_skill > '0'){
	$c_skill = $mvcore['cost_skill'];
	$c_zen_skill = $mvcore['cost_skill'] * $mvcore['cost_cred_to_zen'];
}
if($item_ref > '0'){
	$c_ref = $mvcore['cost_ref'];
	$c_zen_ref = $mvcore['cost_ref'] * $mvcore['cost_cred_to_zen'];
}
if($item_opt > '0'){
$c_opt = $mvcore['cost_opt'] * $item_opt;
$c_zen_opt = $mvcore['cost_opt'] * $item_opt * $mvcore['cost_cred_to_zen'];
}

//total item cost
$convert_to_zen = $check_item_dat[1] * $mvcore['cost_cred_to_zen'];
$item_cost_zen = $convert_to_zen + $socket1levelCostZen + $socket2levelCostZen + $socket3levelCostZen + $socket4levelCostZen + $socket5levelCostZen + $c_zen_fenrir1 + $c_zen_fenrir2 + $c_zen_fenrir3 + $c_zen_level + $c_zen_luck + $c_zen_opt + $c_zen_skill + $c_zen_ref + $c_zen_exe1 + $c_zen_exe2 + $c_zen_exe3 + $c_zen_exe4 + $c_zen_exe5 + $c_zen_exe6 + $socket_i1_item_zen + $socket_i2_item_zen + $socket_i3_item_zen + $socket_i4_item_zen + $socket_i5_item_zen + $c_zen_anc + $har_opt_zen; // Zen

$item_cost_cred = $check_item_dat[1] + $socket1levelCost + $socket2levelCost + $socket3levelCost + $socket4levelCost + $socket5levelCost + $c_fenrir1 + $c_fenrir2 + $c_fenrir3 + $c_level + $c_luck + $c_opt + $c_skill + $c_ref + $c_exe1 + $c_exe2 + $c_exe3 + $c_exe4 + $c_exe5 + $c_exe6 + $socket_i1_item + $socket_i2_item + $socket_i3_item + $socket_i4_item + $socket_i5_item + $c_anc + $har_opt; // Tokens

$calc_into_gold = $item_cost_cred + ((- $mvcore['gold_dif'] * $item_cost_cred) / 100) ;

	if($mvcore['shop_disc'] == "on"){
		if($mvcore['shop_disc_start'] == 1){
				$item_cost_zen = floor($item_cost_zen + ((- $mvcore['shop_perc'] * $item_cost_zen) / 100));
				$item_cost_cred = floor($item_cost_cred + ((- $mvcore['shop_perc'] * $item_cost_cred) / 100));
				$calc_into_gold = floor($calc_into_gold + ((- $mvcore['shop_perc'] * $calc_into_gold) / 100));
		};
	};
	
if($mvcore['web_shop_disc_vip'] > '0' && $mvcore['vip_sys_active'] == '1'){
	$item_cost_zen = floor($item_cost_zen + ((- $mvcore['web_shop_disc_vip'] * $item_cost_zen) / 100));
	$item_cost_cred = floor($item_cost_cred + ((- $mvcore['web_shop_disc_vip'] * $item_cost_cred) / 100));
	$calc_into_gold = floor($calc_into_gold + ((- $mvcore['web_shop_disc_vip'] * $calc_into_gold) / 100));
};

	echo''.round($item_cost_zen).'-ids-'.round($item_cost_cred).'-ids-'.round($calc_into_gold).'';

	exit;
}
?>
<?php
if(isset($_POST['ytheety45657jhgerhr'])) {

	$sys_startsg = mssql_query("select accountID from character where name = '".$_POST['ytheety45657jhgerhr']."'");
	$drop_infog = mssql_fetch_row($sys_startsg);
	
	if($drop_infog[0] == ''){ $passnums = $_POST['ytheety45657jhgerhr']; } else { $passnums = $drop_infog[0]; };
	
	$check_vault = mssql_query("select Items from warehouse where AccountID ='".$passnums."'"); 
	$check_vaultDat = mssql_fetch_row($check_vault);
	
	if($check_vaultDat[0] == '' || $check_vaultDat[0] == '0x') { echo'<script>$.jGrowl("Vault not found.", { header: "<font color=red>Error</font>" });</script>'; }
	else {
		$item_empty_hex = "0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF";
		$del_ware = mssql_query("update warehouse set items = ".$item_empty_hex." where accountid = '".$passnums."'");
		echo'<script>$.jGrowl("User vault successfully cleaned.", { header: "<font color=green>Success</font>" });</script>';
	};
};
?>
<?php
if(isset($_POST['ytheeregwgjhgerhr'])) {
	$character_name = $_POST['ytheeregwgjhgerhr']; // Clear Inventory
	
	$check_vault = mssql_query("select inventory from character where name ='".$character_name."'"); 
	$check_vaultDat = mssql_fetch_row($check_vault);
	
	if($check_vaultDat[0] == '' || $check_vaultDat[0] == '0x') { echo'<script>$.jGrowl("Inventory not found.", { header: "<font color=red>Error</font>" });</script>'; }
	else {
		
if($mvcore['db_season'] >= '9') { $cvbins = '7680'; } elseif($mvcore['db_season'] == '1') { $cvbins = '1200'; } else { $cvbins = '3840'; }; // Warehouse
if($mvcore['db_season'] >= '9') { $cvbinsch = '7584'; } elseif($mvcore['db_season'] == '1') { $cvbinsch = '1080'; } else { if($mvcore['db_season'] == '8') { $cvbinsch = '3808'; } else { $cvbinsch = '3776'; }; }; // Inventory

		$query		= mssql_query("declare @it varbinary(".$cvbinsch."); set @it=(select [inventory] from [character] where [name]='".$character_name."'); print @it");
		$mycuritems	= mssql_get_last_message();

		$getfirst	= substr($mycuritems,0,386);
		$myitemfully = ''.$getfirst.'FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF';

		if($mvcore['db_season'] >= '7') {
			$myitemfully = ''.$getfirst.'FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF';
		};
		
		$getlastItem	= substr($mycuritems,7554,7648);
		if($mvcore['db_season'] >= '8') {
			$myitemfully = ''.$getfirst.'FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF'.$getlastItem.'';
		};
			 
		$run_qe = mssql_query("UPDATE character SET inventory = ".$myitemfully." WHERE name='".$character_name."'");
		
		echo'<script>$.jGrowl("User inventory successfully cleaned.", { header: "<font color=green>Success</font>" });</script>';
	};
};
?>
<?php 
	if($_SESSION['admin_panel'] != 'ok') { echo'Invalid Access Detected, Reporting Data To Admin ('.$_SERVER['SERVER_NAME'].','.$_SERVER['REMOTE_ADDR'].','.$_SERVER['REQUEST_URI'].')'; exit; };
?>
<?php
if(isset($_POST['onChsubEngine'])) { // Main Settings - Engine
	
	$POST = explode("-ids-", $_POST['onChsubEngine']);
	if($POST[0] == '0') { $dropBox1 = "0"; } else { $dropBox1= "1"; }; // IF CheckBox
	
	if(substr($POST[2],0,7) == 'http://' || substr($POST[2],0,8) == 'https://') { $http_url = $POST[2]; } else { $http_url = 'http://'.$POST[2].''; };
	
	if($has_error >= '1'){} else {
		$new_db = fopen("system/engine_configs".$db_name_multi."/main_engine_settings.php", "w");
		$data = "<?php\n";
		$data .="\$mvcore['debug_mode'] = \"".$dropBox1."\";\n";
		$data .="\$mvcore['title'] = \"".$POST[1]."\";\n";
		$data .="\$mvcore['surl'] = \"".$http_url."\";\n";
		$data .="\$mvcore['forurl'] = \"".$POST[8]."\";\n";
		$data .="\$mvcore['theme_dir'] = \"".$POST[3]."\";\n";
		$data .="\$mvcore['top_select'] = \"".$POST[4]."\";\n";
		$data .="\$mvcore['server_max_stat'] = \"".$POST[5]."\";\n";
		$data .="\$mvcore['money_name1'] = \"".$POST[6]."\";\n";
		$data .="\$mvcore['money_name2'] = \"".$POST[7]."\";\n";
		$data .="\$mvcore['gs_port'] = \"".$POST[9]."\";\n";
		$data .="\$mvcore['gs2_port'] = \"".$POST[10]."\";\n";
		$data .="\$mvcore['js_port'] = \"".$POST[11]."\";\n";
		$data .="\$mvcore['cs_port'] = \"".$POST[12]."\";\n";
		$data .="\$mvcore['w_snow_effect'] = \"".$POST[14]."\";\n";
		$data .="\$mvcore['server_max_stat_dl'] = \"".$POST[15]."\";\n";
		$data .="\$mvcore['go_to_page'] = \"".$POST[16]."\";\n";
		$data .="\$mvcore['onoff_style'] = \"".$POST[17]."\";\n";
		$data .="\$mvcore['onoff_player_count'] = \"".$POST[18]."\";\n";
		$data .="\$mvcore['fake_acc_onoff'] = \"".$POST[19]."\";\n";
		$data .="\$mvcore['fake_acc_count'] = \"".$POST[20]."\";\n";
		$data .="?>";
		fwrite($new_db,$data); fclose($new_db); chmod("system/engine_configs".$db_name_multi."/main_engine_settings.php", 0777);
		
		$new_db = fopen("system/engine_configs".$db_name_multi."/language.php", "w");
		$data = "<?php\n";
		$data .="\$mvcore['df_lang'] = \"".$POST[13]."\";\n";
		$data .="?>";
		fwrite($new_db,$data); fclose($new_db); chmod("system/engine_configs".$db_name_multi."/language.php", 0777);
		
		echo'<script>$.jGrowl("Settings successfully saved.", { header: "<font color=green>Success</font>" });</script>';
	}
	exit;
}
?>
<?php
if(isset($_POST['onChsubEngineSociAl'])) { // Main Settings - Engine
	
	$POST = explode("-ids-", $_POST['onChsubEngineSociAl']);

	if($has_error >= '1'){} else {
		$new_db = fopen("system/engine_configs".$db_name_multi."/Social_Settings.php", "w");
		$data = "<?php\n";
		$data .="\$mvcore['yt_s_url'] = \"".$POST[0]."\";\n";
		$data .="\$mvcore['fb_s_url'] = \"".$POST[1]."\";\n";
		$data .="\$mvcore['tw_s_url'] = \"".$POST[2]."\";\n";
		$data .="\$mvcore['gp_s_url'] = \"".$POST[3]."\";\n";
		$data .="\$mvcore['rss_s_url'] = \"".$POST[4]."\";\n";
		$data .="?>";
		fwrite($new_db,$data); fclose($new_db); chmod("system/engine_configs".$db_name_multi."/Social_Settings.php", 0777);
		
		echo'<script>$.jGrowl("Settings successfully saved.", { header: "<font color=green>Success</font>" });</script>';
		
	}
	exit;
}
?>
<?php
if(isset($_POST['onChewejsubEwngine'])) { // Register Settings
	
	$POST = explode("-ids-", $_POST['onChewejsubEwngine']);

	if($has_error >= '1'){} else {
		$new_db = fopen("system/engine_configs".$db_name_multi."/Register_Page_Settings.php", "w");
		$data = "<?php\n";
		$data .="\$mvcore['acc_reg_limit'] = \"".$POST[0]."\";\n";
		$data .="?>";
		fwrite($new_db,$data); fclose($new_db); chmod("system/engine_configs".$db_name_multi."/Register_Page_Settings.php", 0777);
		
		echo'<script>$.jGrowl("Settings successfully saved.", { header: "<font color=green>Success</font>" });</script>';
		
	}
	exit;
}
?>
<?php
if(isset($_POST['asdwgerwerher'])) { // Ancient_Exchange_Settings
	
	$POST = explode("-ids-", $_POST['asdwgerwerher']);

	if($has_error >= '1'){} else {
		$new_db = fopen("system/engine_configs".$db_name_multi."/Ancient_Exchange_Settings.php", "w");
		$data = "<?php\n";
		$data .="\$mvcore['anc_mob_onoff'] = \"".$POST[0]."\";\n";
		$data .="\$mvcore['anc_item_cost'] = \"".$POST[1]."\";\n";
		$data .="\$mvcore['anc_level_cost'] = \"".$POST[2]."\";\n";
		$data .="\$mvcore['anc_luck_cost'] = \"".$POST[3]."\";\n";
		$data .="\$mvcore['anc_skill_cost'] = \"".$POST[4]."\";\n";
		$data .="\$mvcore['anc_ad_cost'] = \"".$POST[5]."\";\n";
		$data .="\$mvcore['anc_exc_cost'] = \"".$POST[6]."\";\n";
		$data .="?>";
		fwrite($new_db,$data); fclose($new_db); chmod("system/engine_configs".$db_name_multi."/Ancient_Exchange_Settings.php", 0777);
		
		echo'<script>$.jGrowl("Settings successfully saved.", { header: "<font color=green>Success</font>" });</script>';
		
	}
	exit;
}
?>
<?php
if(isset($_POST['ererttytytred'])) { // Advertise Settings Save
	
	$POST = explode("-ids-", $_POST['ererttytytred']);

	if($has_error >= '1'){} else {
		$new_db = fopen("system/engine_configs".$db_name_multi."/Advertise_Settings.php", "w");
		$data = "<?php\n";
		$data .="\$mvcore['ads_spt_728x90'] = \"".$POST[0]."\";\n";
		$data .="\$mvcore['ads_spt_468x60'] = \"".$POST[1]."\";\n";
		$data .="\$mvcore['ads_spt_300x600'] = \"".$POST[2]."\";\n";
		$data .="\$mvcore['ads_spt_300x250'] = \"".$POST[3]."\";\n";
		$data .="?>";
		fwrite($new_db,$data); fclose($new_db); chmod("system/engine_configs".$db_name_multi."/Advertise_Settings.php", 0777);
		
		echo'<script>$.jGrowl("Settings successfully saved.", { header: "<font color=green>Success</font>" });</script>';
		
	}
	exit;
}
?>
<?php
if(isset($_POST['onChsubDBSett'])) { // Main Settings -DB Name
	
	$POST = explode("-ids-", $_POST['onChsubDBSett']);

	if($has_error >= '1'){} else {
		$new_db = fopen("sql.php", "w");
		$data = "<?php\n";
		$data .="\$mvcore['db_host'] = '".$mvcore['db_host']."';\n";
		$data .="\$mvcore['db_name'] = '".$POST[0]."';\n";
		$data .="\$mvcore['medb_name'] = '".$POST[1]."';\n";
		$data .="\$mvcore['db_user'] = '".$mvcore['db_user']."';\n";
		$data .="\$mvcore['db_pass'] = '".$mvcore['db_pass']."';\n";
		$data .="?>";
		fwrite($new_db,$data); fclose($new_db); chmod("sql.php", 0777);
		
		$new_db = fopen("system/me_database_support.php", "w");
		$data = "<?php\n";
		$data .="\$mvcore['medb_supp'] = \"".$POST[2]."\";\n";
		$data .="?>";
		fwrite($new_db,$data); fclose($new_db); chmod("system/me_database_support.php", 0777);
		
		echo'<script>$.jGrowl("Settings successfully saved.", { header: "<font color=green>Success</font>" });</script>';
		
	}
	exit;
}
?>
<?php
if(isset($_POST['onChsubDBmd5'])) { // Main Settings - MD5
	
	$POST = explode("-ids-", $_POST['onChsubDBmd5']);

	if($has_error >= '1'){} else {
		$new_db = fopen("system/engine_configs".$db_name_multi."/md5_support.php", "w");
		$data = "<?php\n";
		$data .="\$mvcore['md5_support'] = \"".$POST[0]."\";\n";
		$data .="\$mvcore['md5_hash_o'] = \"".$POST[1]."\";\n";
		$data .="\$mvcore['md5_hs_salt'] = \"".$POST[2]."\";\n";
		$data .="?>";
		fwrite($new_db,$data); fclose($new_db); chmod("system/engine_configs".$db_name_multi."/md5_support.php", 0777);
		
		echo'<script>$.jGrowl("Settings successfully saved.", { header: "<font color=green>Success</font>" });</script>';
		
	}
	exit;
}
?>
<?php
if(isset($_POST['onChrehrejnerd5'])) { // Multi DB Supp
	
	$POST = explode("-ids-", $_POST['onChrehrejnerd5']);

	if($has_error >= '1'){} else {
		$new_db = fopen("system/Multi_DBs_supp.php", "w");
		$data = "<?php\n";
		$data .="\$mvcore['multi_dbs_supp'] = \"".$POST[0]."\";\n";
		$data .="\$mvcore['multi_dbs_names'] = \"".$POST[1]."\";\n";
		$data .="\$mvcore['multi_dbs_titlen'] = \"".$POST[2]."\";\n";
		$data .="\$mvcore['multi_dbs_app_t_sw'] = \"".$POST[3]."\";\n";
		$data .="?>";
		fwrite($new_db,$data); fclose($new_db); chmod("system/Multi_DBs_supp.php", 0777);
		
		echo'<script>$.jGrowl("Settings successfully saved.", { header: "<font color=green>Success</font>" });</script>';
		
	}
	exit;
}
?>
<?php
if(isset($_POST['newspagesw'])) { // News Settings
	
	$POST = explode("-ids-", $_POST['newspagesw']);

	if($has_error >= '1'){} else {
		$new_db = fopen("system/engine_configs".$db_name_multi."/news_page_switch.php", "w");
		$data = "<?php\n";
		$data .="\$mvcore['news_page_switch'] = \"".$POST[0]."\";\n";
		$data .="?>";
		fwrite($new_db,$data); fclose($new_db); chmod("system/engine_configs".$db_name_multi."/news_page_switch.php", 0777);
		
		echo'<script>$.jGrowl("Settings successfully saved.", { header: "<font color=green>Success</font>" });</script>';
		
	}
	exit;
}
?>
<?php
if(isset($_POST['onCqwdhsubDBSett'])) { // News Settings
	
	$POST = explode("-ids-", $_POST['onCqwdhsubDBSett']);

	if($has_error >= '1'){} else {
		$new_db = fopen("system/engine_configs".$db_name_multi."/news_settings.php", "w");
		$data = "<?php\n";
		$data .="\$mvcore['news_ppage'] = \"".$POST[0]."\";\n";
		$data .="?>";
		fwrite($new_db,$data); fclose($new_db); chmod("system/engine_configs".$db_name_multi."/news_settings.php", 0777);
		
		echo'<script>$.jGrowl("Settings successfully saved.", { header: "<font color=green>Success</font>" });</script>';
		
	}
	exit;
}
?>
<?php
if(isset($_POST['uniforumsety'])) { // News Settings
	
	$POST = explode("-ids-", $_POST['uniforumsety']);

	if($has_error >= '1'){} else {
		$new_db = fopen("system/engine_configs".$db_name_multi."/forum_pt_settings.php", "w");
		$data = "<?php\n";
		$data .="\$mvcore['mysql_server'] = \"".$POST[0]."\";\n";
		$data .="\$mvcore['mysql_user'] = \"".$POST[1]."\";\n";
		$data .="\$mvcore['mysql_pass'] = \"".$POST[2]."\";\n";
		$data .="\$mvcore['mysql_db'] = \"".$POST[3]."\";\n";
		$data .="\$mvcore['post_topic_top'] = \"".$POST[4]."\";\n";
		$data .="?>";
		fwrite($new_db,$data); fclose($new_db); chmod("system/engine_configs".$db_name_multi."/forum_pt_settings.php", 0777);
		
		echo'<script>$.jGrowl("Settings successfully saved.", { header: "<font color=green>Success</font>" });</script>';
		
	}
	exit;
}
?>
<?php
if(isset($_POST['onChsubDBseason'])) { // Main Settings - DB Season
	
	$POST = explode("-ids-", $_POST['onChsubDBseason']);

	if($has_error >= '1'){} else {
		$new_db = fopen("system/engine_configs".$db_name_multi."/db_season.php", "w");
		$data = "<?php\n";
		$data .="\$mvcore['db_season'] = \"".$POST[0]."\";\n";
		$data .="?>";
		fwrite($new_db,$data); fclose($new_db); chmod("system/engine_configs".$db_name_multi."/db_season.php", 0777);
		
		echo'<script>$.jGrowl("Settings successfully saved.", { header: "<font color=green>Success</font>" });</script>';
		
	}
	exit;
}
?>
<?php
if(isset($_POST['recaaptchasd'])) { // Main Settings - DB Season
	
	$POST = explode("-ids-", $_POST['recaaptchasd']);

	if($has_error >= '1'){} else {
		$new_db = fopen("system/engine_configs".$db_name_multi."/reCAPTCHA.php", "w");
		$data = "<?php\n";
		$data .="\$mvcore['reC_onoff'] = \"".$POST[0]."\";\n";
		$data .="\$mvcore['reC_sitekey'] = \"".$POST[1]."\";\n";
		$data .="\$mvcore['reC_secretkey'] = \"".$POST[2]."\";\n";
		$data .="?>";
		fwrite($new_db,$data); fclose($new_db); chmod("system/engine_configs".$db_name_multi."/reCAPTCHA.php", 0777);
		
		echo'<script>$.jGrowl("Settings successfully saved.", { header: "<font color=green>Success</font>" });</script>';
		
	}
	exit;
}
?>
<?php
if(isset($_POST['onChsubendipages'])) { // Enable Disable pages
	
	$POST = explode("-ids-", $_POST['onChsubendipages']);
	if($POST[0] == '0') { $dropBox1 = "off"; } else { $dropBox1= "on"; }; // IF CheckBox
	if($POST[1] == '0') { $dropBox2 = "off"; } else { $dropBox2= "on"; }; // IF CheckBox
	if($POST[2] == '0') { $dropBox3 = "off"; } else { $dropBox3= "on"; }; // IF CheckBox
	if($POST[3] == '0') { $dropBox4 = "off"; } else { $dropBox4= "on"; }; // IF CheckBox
	if($POST[4] == '0') { $dropBox5 = "off"; } else { $dropBox5= "on"; }; // IF CheckBox
	if($POST[5] == '0') { $dropBox6 = "off"; } else { $dropBox6= "on"; }; // IF CheckBox
	if($POST[6] == '0') { $dropBox7 = "off"; } else { $dropBox7= "on"; }; // IF CheckBox
	if($POST[7] == '0') { $dropBox8 = "off"; } else { $dropBox8= "on"; }; // IF CheckBox
	if($POST[8] == '0') { $dropBox9 = "off"; } else { $dropBox9= "on"; }; // IF CheckBox
	if($POST[9] == '0') { $dropBox10 = "off"; } else { $dropBox10= "on"; }; // IF CheckBox
	if($POST[10] == '0') { $dropBox11 = "off"; } else { $dropBox11= "on"; }; // IF CheckBox
	if($POST[11] == '0') { $dropBox12 = "off"; } else { $dropBox12= "on"; }; // IF CheckBox
	if($POST[12] == '0') { $dropBox13 = "off"; } else { $dropBox13= "on"; }; // IF CheckBox
	if($POST[13] == '0') { $dropBox14 = "off"; } else { $dropBox14= "on"; }; // IF CheckBox
	if($POST[14] == '0') { $dropBox15 = "off"; } else { $dropBox15= "on"; }; // IF CheckBox
	if($POST[15] == '0') { $dropBox16 = "off"; } else { $dropBox16= "on"; }; // IF CheckBox
	if($POST[16] == '0') { $dropBox17 = "off"; } else { $dropBox17= "on"; }; // IF CheckBox
	if($POST[17] == '0') { $dropBox18 = "off"; } else { $dropBox18= "on"; }; // IF CheckBox
	if($POST[18] == '0') { $dropBox19 = "off"; } else { $dropBox19= "on"; }; // IF CheckBox
	if($POST[19] == '0') { $dropBox20 = "off"; } else { $dropBox20= "on"; }; // IF CheckBox
	if($POST[20] == '0') { $dropBox21 = "off"; } else { $dropBox21= "on"; }; // IF CheckBox
	if($POST[21] == '0') { $dropBox22 = "off"; } else { $dropBox22= "on"; }; // IF CheckBox
	if($POST[22] == '0') { $dropBox23 = "off"; } else { $dropBox23= "on"; }; // IF CheckBox
	if($POST[23] == '0') { $dropBox24 = "off"; } else { $dropBox24= "on"; }; // IF CheckBox
	if($POST[24] == '0') { $dropBox25 = "off"; } else { $dropBox25= "on"; }; // IF CheckBox
	if($POST[25] == '0') { $dropBox26 = "off"; } else { $dropBox26= "on"; }; // IF CheckBox
	if($POST[26] == '0') { $dropBox27 = "off"; } else { $dropBox27= "on"; }; // IF CheckBox
	if($POST[27] == '0') { $dropBox28 = "off"; } else { $dropBox28= "on"; }; // IF CheckBox
	if($POST[28] == '0') { $dropBox29 = "off"; } else { $dropBox29= "on"; }; // IF CheckBox
	if($POST[29] == '0') { $dropBox30 = "off"; } else { $dropBox30= "on"; }; // IF CheckBox
	if($POST[30] == '0') { $dropBox31 = "off"; } else { $dropBox31= "on"; }; // IF CheckBox
	
		//if($POST[0] == '0') { $has_error = '1'; echo'<script>$.jGrowl("Error Testing2");</script>'; };
		
	if($has_error >= '1'){} else {
		$new_db = fopen("system/engine_configs".$db_name_multi."/enable_disable_pages_main.php", "w");
		$data = "<?php\n";
		$data .="\$mvcore['Login'] = \"".$dropBox1."\";\n";
		$data .="\$mvcore['Account_Settings'] = \"".$dropBox2."\";\n";
		$data .="\$mvcore['Banned_Players'] = \"".$dropBox3."\";\n";
		$data .="\$mvcore['Character_View'] = \"".$dropBox4."\";\n";
		$data .="\$mvcore['Downloads'] = \"".$dropBox5."\";\n";
		$data .="\$mvcore['Exchange_System'] = \"".$dropBox6."\";\n";
		$data .="\$mvcore['Friend_System'] = \"".$dropBox7."\";\n";
		$data .="\$mvcore['Guild_View'] = \"".$dropBox8."\";\n";
		$data .="\$mvcore['Hide_Information'] = \"".$dropBox9."\";\n";
		$data .="\$mvcore['Lost_Password'] = \"".$dropBox10."\";\n";
		$data .="\$mvcore['Lottery_System'] = \"".$dropBox11."\";\n";
		$data .="\$mvcore['Market'] = \"".$dropBox12."\";\n";
		$data .="\$mvcore['Market_Sold_Items'] = \"".$dropBox13."\";\n";
		$data .="\$mvcore['News'] = \"".$dropBox14."\";\n";
		$data .="\$mvcore['Payment_System'] = \"".$dropBox15."\";\n";
		$data .="\$mvcore['Rankings'] = \"".$dropBox16."\";\n";
		$data .="\$mvcore['Register'] = \"".$dropBox17."\";\n";
		$data .="\$mvcore['Statistics'] = \"".$dropBox18."\";\n";
		$data .="\$mvcore['Vote'] = \"".$dropBox19."\";\n";
		$data .="\$mvcore['Warehouse'] = \"".$dropBox20."\";\n";
		$data .="\$mvcore['Webshop'] = \"".$dropBox21."\";\n";
		$data .="\$mvcore['Castle_Siege_Register'] = \"".$dropBox22."\";\n";
		$data .="\$mvcore['Item_Upgrade_System'] = \"".$dropBox23."\";\n";
		$data .="\$mvcore['Forum'] = \"".$dropBox24."\";\n";
		$data .="\$mvcore['Gallery'] = \"".$dropBox25."\";\n";
		$data .="\$mvcore['anon_sys'] = \"".$dropBox26."\";\n";
		$data .="\$mvcore['GM_Buy'] = \"".$dropBox27."\";\n";
		$data .="\$mvcore['Vip_Buy'] = \"".$dropBox28."\";\n";
		$data .="\$mvcore['reg_rules'] = \"".$dropBox29."\";\n";
		$data .="\$mvcore['My_Sponsor'] = \"".$dropBox30."\";\n";
		$data .="\$mvcore['Scramble'] = \"".$dropBox31."\";\n";
		$data .="?>";
		fwrite($new_db,$data); fclose($new_db); chmod("system/engine_configs".$db_name_multi."/enable_disable_pages_main.php", 0777);
		
		echo'<script>$.jGrowl("Settings successfully saved.", { header: "<font color=green>Success</font>" });</script>';
		
	}
	exit;
}
?>
<?php
if(isset($_POST['scascascsafdsfsfas'])) { // Enable Disable pages
	
	$POST = explode("-ids-", $_POST['scascascsafdsfsfas']);
	if($POST[0] == '0') { $dropBox1 = "off"; } else { $dropBox1= "on"; }; // IF CheckBox

	if($has_error >= '1'){} else {
		$new_db = fopen("system/engine_configs".$db_name_multi."/admincp_msg_output.php", "w");
		$data = "<?php\n";
		$data .="\$mvcore['admincp_msg_output'] = \"".$dropBox1."\";\n";
		$data .="?>";
		fwrite($new_db,$data); fclose($new_db); chmod("system/engine_configs".$db_name_multi."/admincp_msg_output.php", 0777);
		
		if($dropBox1 == 'on') {
			echo'<script>$.jGrowl("MSG output Enabled", { header: "<font color=green>Success</font>" });</script>';
		} else {
			echo'<script>$.jGrowl("MSG output Disabled", { header: "<font color=green>Success</font>" });</script>';
		};
	}
	exit;
}
?>
<?php
if(isset($_POST['onChsubendigppages'])) { // Enable Disable pages
	
	$POST = explode("-ids-", $_POST['onChsubendigppages']);
	if($POST[0] == '0') { $dropBox1 = "off"; } else { $dropBox1= "on"; }; // IF CheckBox
	if($POST[1] == '0') { $dropBox2 = "off"; } else { $dropBox2= "on"; }; // IF CheckBox
	if($POST[2] == '0') { $dropBox3 = "off"; } else { $dropBox3= "on"; }; // IF CheckBox
	if($POST[3] == '0') { $dropBox4 = "off"; } else { $dropBox4= "on"; }; // IF CheckBox
	if($POST[4] == '0') { $dropBox5 = "off"; } else { $dropBox5= "on"; }; // IF CheckBox
	if($POST[5] == '0') { $dropBox6 = "off"; } else { $dropBox6= "on"; }; // IF CheckBox
	if($POST[6] == '0') { $dropBox7 = "off"; } else { $dropBox7= "on"; }; // IF CheckBox
	if($POST[7] == '0') { $dropBox8 = "off"; } else { $dropBox8= "on"; }; // IF CheckBox
	if($POST[8] == '0') { $dropBox9 = "off"; } else { $dropBox9= "on"; }; // IF CheckBox
	if($POST[9] == '0') { $dropBox10 = "off"; } else { $dropBox10= "on"; }; // IF CheckBox
	if($POST[10] == '0') { $dropBox11 = "off"; } else { $dropBox11= "on"; }; // IF CheckBox
	if($POST[11] == '0') { $dropBox12 = "off"; } else { $dropBox12= "on"; }; // IF CheckBox
	if($POST[12] == '0') { $dropBox13 = "off"; } else { $dropBox13= "on"; }; // IF CheckBox
	if($POST[13] == '0') { $dropBox14 = "off"; } else { $dropBox14= "on"; }; // IF CheckBox
	if($POST[14] == '0') { $dropBox15 = "off"; } else { $dropBox15= "on"; }; // IF CheckBox
	if($POST[15] == '0') { $dropBox16 = "off"; } else { $dropBox16= "on"; }; // IF CheckBox
	
		//if($POST[0] == '0') { $has_error = '1'; echo'<script>$.jGrowl("Error Testing2");</script>'; };
		
	if($has_error >= '1'){} else {
		$new_db = fopen("system/engine_configs".$db_name_multi."/enable_disable_pages_game_panel.php", "w");
		$data = "<?php\n";
		$data .="\$mvcore['Reset_Character'] = \"".$dropBox1."\";\n";
		$data .="\$mvcore['Grand_Reset'] = \"".$dropBox2."\";\n";
		$data .="\$mvcore['Add_Stats'] = \"".$dropBox3."\";\n";
		$data .="\$mvcore['Buy_Level_Up_Points'] = \"".$dropBox4."\";\n";
		$data .="\$mvcore['Change_Class'] = \"".$dropBox5."\";\n";
		$data .="\$mvcore['Clear_PK_Status'] = \"".$dropBox6."\";\n";
		$data .="\$mvcore['Rename_Character'] = \"".$dropBox7."\";\n";
		$data .="\$mvcore['Reset_SkillTree'] = \"".$dropBox8."\";\n";
		$data .="\$mvcore['Reset_Stats'] = \"".$dropBox9."\";\n";
		$data .="\$mvcore['Sell_Free_Stats'] = \"".$dropBox10."\";\n";
		$data .="\$mvcore['Master_Grand_Reset'] = \"".$dropBox11."\";\n";
		$data .="\$mvcore['Warp_Character'] = \"".$dropBox12."\";\n";
		$data .="\$mvcore['Buy_Level'] = \"".$dropBox13."\";\n";
		$data .="\$mvcore['Character_Market'] = \"".$dropBox14."\";\n";
		$data .="\$mvcore['Waiting_Room'] = \"".$dropBox15."\";\n";
		$data .="\$mvcore['Inventory_Clear'] = \"".$dropBox16."\";\n";
		$data .="?>";
		fwrite($new_db,$data); fclose($new_db); chmod("system/engine_configs".$db_name_multi."/enable_disable_pages_game_panel.php", 0777);
		
		echo'<script>$.jGrowl("Settings successfully saved.", { header: "<font color=green>Success</font>" });</script>';
		
	}
	exit;
}
?>
<?php
if(isset($_POST['onChsubendigmpages'])) { // Enable Disable pages
	
	$POST = explode("-ids-", $_POST['onChsubendigmpages']);
	if($POST[0] == '0') { $dropBox1 = "off"; } else { $dropBox1= "on"; }; // IF CheckBox
	if($POST[1] == '0') { $dropBox2 = "off"; } else { $dropBox2= "on"; }; // IF CheckBox
	if($POST[2] == '0') { $dropBox3 = "off"; } else { $dropBox3= "on"; }; // IF CheckBox
	if($POST[3] == '0') { $dropBox4 = "off"; } else { $dropBox4= "on"; }; // IF CheckBox
	if($POST[4] == '0') { $dropBox5 = "off"; } else { $dropBox5= "on"; }; // IF CheckBox
	
		//if($POST[0] == '0') { $has_error = '1'; echo'<script>$.jGrowl("Error Testing2");</script>'; };
		
	if($has_error >= '1'){} else {
		$new_db = fopen("system/engine_configs".$db_name_multi."/enable_disable_pages_game_master_panel.php", "w");
		$data = "<?php\n";
		$data .="\$mvcore['Ban_System'] = \"".$dropBox1."\";\n";
		$data .="\$mvcore['Black_List_manage'] = \"".$dropBox2."\";\n";
		$data .="\$mvcore['Reward_System'] = \"".$dropBox3."\";\n";
		$data .="\$mvcore['Character_Information'] = \"".$dropBox4."\";\n";
		$data .="\$mvcore['Event_Post'] = \"".$dropBox5."\";\n";
		$data .="?>";
		fwrite($new_db,$data); fclose($new_db); chmod("system/engine_configs".$db_name_multi."/enable_disable_pages_game_master_panel.php", 0777);
		
		echo'<script>$.jGrowl("Settings successfully saved.", { header: "<font color=green>Success</font>" });</script>';
		
	}
	exit;
}
?>
<?php
if(isset($_POST['onChsubCharSMa'])) { // Character Manage

	$POST = explode("-ids-", $_POST['onChsubCharSMa']);
	
	$sys_startsg = mssql_query("select accountID from character where name = '".$POST[0]."'");
	$drop_infog = mssql_fetch_row($sys_startsg);
	
		if(clean_variable($POST[1]) == '') { $has_error = '1'; };
		if(clean_variable($POST[8]) == '') { $has_error = '1'; };
		
		if($drop_infog[0] == '') { $has_error = '1'; echo'<script>$.jGrowl("Can not save, character not found", { header: "<font color=red>Error</font>" });</script>'; };
	
			if(clean_variable($POST[14]) > $mvcore['server_max_stat']) { $has_error = '1'; echo'<script>$.jGrowl("Strength is to large, max: '.$mvcore['server_max_stat'].'.", { header: "<font color=red>Error</font>" });</script>'; };
			if(clean_variable($POST[15]) > $mvcore['server_max_stat']) { $has_error = '1'; echo'<script>$.jGrowl("Agility is to large, max: '.$mvcore['server_max_stat'].'.", { header: "<font color=red>Error</font>" });</script>'; };
			if(clean_variable($POST[16]) > $mvcore['server_max_stat']) { $has_error = '1'; echo'<script>$.jGrowl("Vitality is to large, max: '.$mvcore['server_max_stat'].'.", { header: "<font color=red>Error</font>" });</script>'; };
			if(clean_variable($POST[17]) > $mvcore['server_max_stat']) { $has_error = '1'; echo'<script>$.jGrowl("Energy is to large, max: '.$mvcore['server_max_stat'].'.", { header: "<font color=red>Error</font>" });</script>'; };
			if(clean_variable($POST[18]) > $mvcore['server_max_stat']) { $has_error = '1'; echo'<script>$.jGrowl("Command is to large, max: '.$mvcore['server_max_stat'].'.", { header: "<font color=red>Error</font>" });</script>'; };
	
	if($has_error >= '1'){} else {
		
		if(clean_variable($POST[14]) >= 32768 && $POST[14] < '0') {
			$charStat1_STR = clean_variable($POST[14]) - 32767;
			$charStat2_STR = 32769 - $charStat1_STR;
			$Result_STR = '-'.$charStat2_STR.'';
		} else { $Result_STR = clean_variable($POST[14]); };
		
		if(clean_variable($POST[15]) >= 32768 && $POST[15] < '0') {
			$charStat1_AGI = clean_variable($POST[15]) - 32767;
			$charStat2_AGI = 32769 - $charStat1_AGI;
			$Result_AGI = '-'.$charStat2_AGI.'';
		} else { $Result_AGI = clean_variable($POST[15]); };
		
		if(clean_variable($POST[16]) >= 32768 && $POST[16] < '0') {
			$charStat1_VIT = clean_variable($POST[16]) - 32767;
			$charStat2_VIT = 32769 - $charStat1_VIT;
			$Result_VIT = '-'.$charStat2_VIT.'';
		} else { $Result_VIT = clean_variable($POST[16]); };
		
		if(clean_variable($POST[17]) >= 32768 && $POST[17] < '0') {
			$charStat1_ENE = clean_variable($POST[17]) - 32767;
			$charStat2_ENE = 32769 - $charStat1_ENE;
			$Result_ENE = '-'.$charStat2_ENE.'';
		} else { $Result_ENE = clean_variable($POST[17]); };
		
		if(clean_variable($POST[18]) >= 32768 && $POST[18] < '0') {
			$charStat1_CMD = clean_variable($POST[18]) - 32767;
			$charStat2_CMD = 32769 - $charStat1_CMD;
			$Result_CMD = '-'.$charStat2_CMD.'';
		} else { $Result_CMD = clean_variable($POST[18]); };
		
		//Update when something changed.
		$run = mssql_query("update character set ctlcode='".clean_variable($POST[1])."',Experience='".clean_variable($POST[2])."',LevelUpPoint='".clean_variable($POST[3])."',money='".clean_variable($POST[4])."',class='".clean_variable($POST[5])."',clevel='".clean_variable($POST[6])."',".$mvcore['rr_column_name']."='".clean_variable($POST[7])."',".$mvcore['gr_column_name']."='".clean_variable($POST[8])."',m_grand_resets='".clean_variable($POST[9])."',PkLevel='".clean_variable($POST[10])."',MapNumber='".clean_variable($POST[11])."',MapPosX='".clean_variable($POST[12])."',MapPosY='".clean_variable($POST[13])."',strength='".$POST[14]."',dexterity='".$POST[15]."',vitality='".$POST[16]."',energy='".$POST[17]."',Leadership='".$POST[18]."' where name = '".$POST[0]."'");
		echo'<script>$.jGrowl("Settings successfully saved.", { header: "<font color=green>Success</font>" });</script>';
	}
	exit;
}
?>
<?php
if(isset($_POST['onChsubCharSMb'])) { // Character Manage

	$sys_starts = mssql_query("select name,clevel,".$mvcore['rr_column_name'].",".$mvcore['gr_column_name'].",money,LevelUpPoint,class,Inventory,MapNumber,PkLevel,strength,dexterity,vitality,energy,Leadership,accountid,MapPosX,MapPosY,m_grand_resets,ctlcode,Experience from character where name = '".$_POST['onChsubCharSMb']."'");
	$drop_info = mssql_fetch_row($sys_starts);
	echo''.$drop_info[15].'-ids-'.$drop_info[19].'-ids-'.$drop_info[20].'-ids-'.$drop_info[5].'-ids-'.$drop_info[4].'-ids-'.$drop_info[6].'-ids-'.$drop_info[1].'-ids-'.$drop_info[2].'-ids-'.$drop_info[3].'-ids-'.$drop_info[18].'-ids-'.$drop_info[9].'-ids-'.$drop_info[8].'-ids-'.$drop_info[16].'-ids-'.$drop_info[17].'-ids-'.Show65kStats($drop_info[10]).'-ids-'.Show65kStats($drop_info[11]).'-ids-'.Show65kStats($drop_info[12]).'-ids-'.Show65kStats($drop_info[13]).'-ids-'.Show65kStats($drop_info[14]).'';
	
	exit;
}
?>
<?php
if(isset($_POST['onChsubCharfac'])) { // Account Manage

		$sys_startsg = mssql_query("select accountID from character where name = '".$_POST['onChsubCharfac']."'");
		$drop_infog = mssql_fetch_row($sys_startsg);
	
		if($drop_infog[0] == ''){ $passnums = $_POST['onChsubCharfac']; } else { $passnums = $drop_infog[0]; };
		

	$sys_starts = mssql_query("select name,clevel,".$mvcore['rr_column_name'].",".$mvcore['gr_column_name'].",money,LevelUpPoint,class,Inventory,MapNumber,PkLevel,strength,dexterity,vitality,energy,Leadership,accountid,MapPosX,MapPosY,m_grand_resets,ctlcode,Experience from character where accountid = '".$passnums."'");
	for($i=0;$i < mssql_num_rows($sys_starts);++$i) {
		$acc_status = mssql_query("Select ConnectStat from ".$mvcore_medb_s." where memb___id='".$useracc."'"); 
		$acc_statusx = mssql_fetch_row($acc_status);
		switch ($acc_statusx[0]) {  case 0: $is_on_off="<font color='#FE2E2E'>Offline</font>"; break; case 1: $is_on_off="<font color='#58FA58'>Online</font>"; break; Default: $is_on_off="<font color='#FE2E2E'>Offline</font>"; break; };
		
		$drop_info = mssql_fetch_row($sys_starts);
		echo'
					<tr>
						<td>'.$passnums.'</td>
                        <td>'.$drop_info[0].'</td>
                        <td>'.$drop_info[1].'</td>
						<td>'.$drop_info[2].'</td>
						<td>'.$drop_info[3].'</td>
						<td>'.$drop_info[18].'</td>
                        <td>'.$is_on_off.'</td>
                    </tr>
		';
	};
	exit;
}
?>
<?php
if(isset($_POST['onChsubCharfacas'])) { // Character Manage

if($mvcore['db_season'] >= '9') { $cvbins = '7680'; } elseif($mvcore['db_season'] == '1') { $cvbins = '1200'; } else { $cvbins = '3840'; }; // Warehouse
if($mvcore['db_season'] >= '9') { $cvbinsch = '7584'; } elseif($mvcore['db_season'] == '1') { $cvbinsch = '1080'; } else { if($mvcore['db_season'] == '8') { $cvbinsch = '3808'; } else { $cvbinsch = '3776'; }; }; // Inventory

		$sqll= mssql_query("declare @items varbinary(".$cvbinsch."); 
			set @items = (select [Inventory] from [Character] where [name]='".$_POST['onChsubCharfacas']."');
			print @items;");
		$sqll=mssql_get_last_message();

		$sqll	= substr($sqll,2);

		if($sqll == ''){} else {

			if($mvcore['db_season'] >= '9') { $hexlen = '64'; } elseif($mvcore['db_season'] == '1') { $hexlen = '20'; } else { $hexlen = '32'; };
			if($mvcore['db_season'] >= '9') { $ilc = '480'; } elseif($mvcore['db_season'] == '1') { $ilc = '62'; } else { $ilc = '240'; };
			
		$check_inv = mssql_query("Select Inventory from Character where name='".$_POST['onChsubCharfacas']."'");
		$check_inv_s = mssql_fetch_row($check_inv);

		for( $i = 0 ; $i < $ilc ; $i++ ) {

		$item[$i]		= substr($sqll,($hexlen*$i), $hexlen);			// item Type
		$sy 			= hexdec(substr($item[$i],0,2)); 		// Item ID
		$serial 		= hexdec(substr($item[$i],6,8)); 		// Item Serial
		$itt 			= hexdec(substr($item[$i],18,2)); 		// Item Type
		$itemtype 		= floor($itt/16);						// Item Type Fix
		$iop 			= hexdec(substr($item[$i],2,2)); 		// Item Level/Skill/Option Data
		$itemdur		= hexdec(substr($item[$i],4,2)); 		// Item Durability
		$ioo 			= hexdec(substr($item[$i],14,2)); 		// Item Excellent Info/ Option
		$ioosecon 		= hexdec(substr($item[$i],14,1)); 		// AD option 1 2 3 4 5 6 7
		$ac 			= hexdec(substr($item[$i],16,2)); 		// Ancient data

		$item_socket[1] = hexdec(substr($item[$i],22,2)); 		// Socket 1
		$item_socket[2] = hexdec(substr($item[$i],24,2)); 		// Socket 2
		$item_socket[3] = hexdec(substr($item[$i],26,2)); 		// Socket 3
		$item_socket[4] = hexdec(substr($item[$i],28,2));		// Socket 4
		$item_socket[5] = hexdec(substr($item[$i],30,2)); 		// Socket 5

		$item_harmony 	= hexdec(substr($item[$i],20,1)); 		// Item harmony
		$item_harm_val 	= hexdec(substr($item[$i],21,1)); 		// Item harmony Value
		$item_refinary 	= hexdec(substr($item[$i],19,1)); 		// Item Refinery
	
		if($mvcore['db_season'] == '1') {
			$type = hexdec(substr($item[$i], 0,2))/32; // Category
			$ioo = hexdec(substr($item[$i], 14,2)); // Excelent
			$ids = hexdec(substr($item[$i], 0,2));	$idss = $ids / 32; $syfd = $ids - (floor($idss) * 32); //ID Algoritm
			if($ioo >= 128) { $ioo = $ioo - 128; $type = $type + 8; }; $itemtype = round($type); $sy = floor($syfd);
		};
		
		if($mvcore['db_season'] >= '9') { $hexlens = 'FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF'; } elseif($mvcore['db_season'] == '1') { $hexlens = 'FFFFFFFFFFFFFFFFFFFF'; } else { $hexlens = 'FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF'; };
			
		if($item[$i] == $hexlens || $item[$i] == '' || $check_inv_s[0] == '' || $check_inv_s[0] == '0x'){ } else {
				
		include"system/engine_s_fnc.php";
		
		$drop_item_info ='<table><tr valign=top><td><img src=system/engine_images/webshop/item_images/'.$itemtype.'/'.$sy.'.gif><br>'.$iname.' '.$item_has_def.''.$item_has_dmg.''.$item_need_dur.''.$item_need_level.''.$item_class_need.''.$other_item_infos.''.$fenrir.'<font color=#cc7fcc>'.$ref.'</font>'.$joh_info_drop.'<font color=#7fb2ff>'.$skill.''.$luck.''.$itemoptionname.''.$itemoptionnamess.''.$db_item_info.''.$itemoptionnames.''.$anc_option.'</font><font color=#ff19ff>'.$socketinfos.'</font>'.$sok_info_drop1.''.$sok_info_drop2.''.$sok_info_drop3.''.$sok_info_drop4.''.$sok_info_drop5.'</td></tr></table>';

		$show_on_off = 'onMouseover="ddrivetip(\''.$drop_item_info.'\')" onMouseout="hideddrivetip()"';

		
		$unpostingdat = ''.$_POST['onChsubCharfacas'].'-ids-'.$item[$i].'';
		
			if( $itemtype >= 0 && $itemtype <= 11 || $itemtype == 12 && $sy >= 0 && $sy <= 6 || $itemtype == 12 && $sy >= 36 && $sy <= 43 || $itemtype == 12 && $sy >= 49 && $sy <= 50 || $itemtype == 12 && $sy >= 262 && $sy <= 267 || $itemtype == 13 && $sy >= 8 && $sy <= 9 || $itemtype == 13 && $sy >= 12 && $sy <= 13 || $itemtype == 13 && $sy >= 21 && $sy <= 28) { 
				$dropsetting[$i] = '<div style="margin-left:102px;margin-top:-77px;">'; $itemeditopt[$i] = '<a href="-id-admincp-id-Character_manage-id-Get_Inventory-id-'.$_POST['onChsubCharfacas'].'-id-'.$item[$i].'.html" title="Edit Item" class="edit"><img src="admincp/theme/images/icons/update.png" alt=""></a>';
			} else { $dropsetting[$i] = '<div style="margin-left:102px;margin-top:-45px;">'; };
			
			 $isNotEmpty = '1';
				list($Imgwidth[$i], $Imgheight[$i], $Imgtype, $Imgattr) = getimagesize("system/engine_images/webshop/item_images/".$itemtype."/".$sy.".gif");
				if($Imgwidth[$i] > '130') { $imgNewWith[$i] = 'width="130px"'; }
				if($Imgheight[$i] > '130') { $imgNewhegh[$i] = 'height="130px"'; }
				
			echo'<li>
					<a href="#" title="" class="lightbox" style="width:130px;height:130px;" '.$show_on_off.' ><img src="system/engine_images/webshop/item_images/'.$itemtype.'/'.$sy.'.gif" '.$imgNewWith[$i].' '.$imgNewhegh[$i].' alt=""></a>
					'.$dropsetting[$i].'
					'.$itemeditopt[$i].'
					<a href="#" title="Delete Item" class="remove" onclick="invclickDeleteItem(\''.$unpostingdat.'\')"><img src="admincp/theme/images/icons/delete.png" alt=""></a>
					</div>
				</li>';
			}
		};
		if($sqll != '' && $isNotEmpty != '1') { echo''; } else { echo''; };
		}
	exit;
}
?>
<?php
if(isset($_POST['invclickDeleteItem'])) { // Character Manage ( DELETE )
		
		$POST = explode("-ids-", $_POST['invclickDeleteItem']);
		$sys_startsg = mssql_query("select accountID from character where name = '".$POST[0]."'");
		$drop_infog = mssql_fetch_row($sys_startsg);
	
if($mvcore['db_season'] >= '9') { $cvbins = '7680'; } elseif($mvcore['db_season'] == '1') { $cvbins = '1200'; } else { $cvbins = '3840'; }; // Warehouse
if($mvcore['db_season'] >= '9') { $cvbinsch = '7584'; } elseif($mvcore['db_season'] == '1') { $cvbinsch = '1080'; } else { if($mvcore['db_season'] == '8') { $cvbinsch = '3808'; } else { $cvbinsch = '3776'; }; }; // Inventory

				$sqllas= mssql_query("declare @items varbinary(".$cvbinsch."); 
					set @items = (select [Inventory] from [Character] where [name]='".$POST[0]."');
					print @items;");
				$mycuritems	= mssql_get_last_message();

				$sqll	= substr($mycuritems,2);
				
				if($mvcore['db_season'] >= '9') { $hexlen = '64'; } elseif($mvcore['db_season'] == '1') { $hexlen = '20'; } else { $hexlen = '32'; };
				if($mvcore['db_season'] >= '9') { $hexlens = 'FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF'; } elseif($mvcore['db_season'] == '1') { $hexlens = 'FFFFFFFFFFFFFFFFFFFF'; } else { $hexlens = 'FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF'; };
				if($mvcore['db_season'] >= '9') { $hexlena = 'FF66FFFFFFFeeFFFzzFFFFFddFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF'; } elseif($mvcore['db_season'] == '1') { $hexlena = 'FFDEEFFFF33FFFFFEFFF'; } else { $hexlena = 'FF66FFFFFFFeeFFFzzFFFFFddFFFFFFF'; };
				if($mvcore['db_season'] >= '9') { $ilc = '480'; } elseif($mvcore['db_season'] == '1') { $ilc = '62'; } else { $ilc = '240'; };
				$icok = '0';
					for( $i = 0 ; $i < $ilc; $i++ ) {
					$item[$i]		= substr($sqll,($hexlen*$i), $hexlen);			// item Type
					if($istop == '1'){ $specialcalc = $hexlena; } else { $specialcalc = $POST[1]; };
					switch ($item[$i]) {case $specialcalc: $icok +="1"; $item_now_empty[$i] = $hexlens; $istop = 1; break; default: $icok += "0"; $item_now_empty[$i] = $item[$i]; break;};
					
					};
				
				$check_item_exist = $icok;
				
				$check_item_new_hex = implode(",", $item_now_empty); $check_item_new_hex = ('0x'.str_replace(",","",$check_item_new_hex).''); // Will set FOR Loop Array into single string
				
		//if($check_item_exist == '1') {} else { $has_error = '1'; echo '<script>$.jGrowl("Item was not found.");</script>'; };
		
		if($has_error >= '1'){} else {
			$run_qe = mssql_query("UPDATE Character SET Inventory = ".$check_item_new_hex." WHERE name='".$POST[0]."'");
			
			echo'<script>$.jGrowl("Item successfully deleted.", { header: "<font color=green>Success</font>" });</script>';
			
		};
	exit;
}
?>
<?php
if(isset($_POST['invitemeditsecondrun'])) { // Character Manage ( EDIT )
		
		$POST = explode("-ids-", $_POST['invitemeditsecondrun']);
		
		$char_name = $POST[0];
		$item_hex = $POST[1];

		$item_level = $POST[2];
		$item_opt = $POST[3];
		$item_luck = $POST[4];
		$item_skill = $POST[5];
		$item_ref = $POST[6];
		$item_anc = $POST[7];
		$item_har_data = $POST[8];
		$item_exe1 = $POST[9];
		$item_exe2 = $POST[10];
		$item_exe3 = $POST[11];
		$item_exe4 = $POST[12];
		$item_exe5 = $POST[13];
		$item_exe6 = $POST[14];
		if($mvcore['socket_type'] == 'scfmt'){
		$item_socket1 = $POST[15] + 1;
		$item_socket2 = $POST[16] + 1;
		$item_socket3 = $POST[17] + 1;
		$item_socket4 = $POST[18] + 1;
		$item_socket5 = $POST[19] + 1;
		} else {
		$item_socket1 = $POST[15];
		$item_socket2 = $POST[16];
		$item_socket3 = $POST[17];
		$item_socket4 = $POST[18];
		$item_socket5 = $POST[19];
		}
		echo''.$char_name.'-ids-';
		//Mew Hex Create POST 2 - 99 New Options Information
		
			$sy 			= hexdec(substr($item_hex,0,2)); 		// Item ID
			$serial 		= $POST[20];
			$itt 			= hexdec(substr($item_hex,18,2)); 		// Item Type
			$itemtype 		= floor($itt/16);						// Item Type Fix
			
			//FOR Item ID 256+
			$ioo 			= hexdec(substr($item_hex,14,2)); 		// Item Excellent Info/ Option
			
		if($mvcore['db_season'] == '1') {
			$type = hexdec(substr($item_hex, 0,2))/32; // Category
			$ioo = hexdec(substr($item_hex, 14,2)); // Excelent
			$ids = hexdec(substr($item_hex, 0,2));	$idss = $ids / 32; $syfd = $ids - (floor($idss) * 32); //ID Algoritm
			if($ioo >= 128) { $ioo = $ioo - 128; $type = $type + 8; }; $itemtype = round($type); $sy = floor($syfd);
		};
		
			if( $ioo >= '128' && $itemtype == '12' && $sy >= '0' ){
				
				$sy = 256 + $sy;
				//$ioo = $iooc;
			}
			
			if( $ioo >= '128' && $itemtype == '13' && $sy >= '0'){
			
				$sy = 256 + $sy;
				
			}
			
			if( $ioo >= '128' && $itemtype == '14' && $sy >= '0'){
				
				$sy = 256 + $sy;
				
			}
		
			//ID
			$check_item_data = mssql_query("Select item_name, item_cost, zen_cost, can_buy_w_money2, can_buy_w_money1, can_buy_w_zen, is_harmony, bought_count, id, category, x, y, durability, is_socket from MVCore_Wshopp  where id='".$sy."' and category='".$itemtype."'");
			$check_item_dat = mssql_fetch_row($check_item_data);

if( $check_item_dat[8] >= '256' ){
	
	$calcRightID = $check_item_dat[8] - 256;
	
	if(strlen(dechex($calcRightID)) == '1') { $it_id = '0'.dechex($calcRightID).''; } else { $it_id = ''.dechex($calcRightID).''; }; //Fix id
	
	echo''.$check_item_dat[8].' && '.$it_id.'';
	
} else {
	if(strlen(dechex($check_item_dat[8])) == '1') { $it_id = '0'.dechex($check_item_dat[8]).''; } else { $it_id = ''.dechex($check_item_dat[8]).''; }; //Fix id
};

			//Option data
			if($item_luck == '1') { $item_luck = '4'; } else { $item_luck = '0'; };
			if($item_skill == '1') { $item_skill = '128'; } else { $item_skill = '0'; };
			if($item_opt > '3') { $item_opt_add = '64'; } else { $item_opt_add = '0'; };
			if($item_opt == '4') { $item_opt = '0'; } 
			elseif($item_opt == '5' || $item_opt == '1') { $item_opt = '1'; }
			elseif($item_opt == '6' || $item_opt == '2') { $item_opt = '2'; }
			elseif($item_opt == '7' || $item_opt == '3') { $item_opt = '3'; };
			$item_level_calc = $item_level * 8;
			$optwo_count = $item_luck + $item_level_calc + $item_skill + $item_opt;
			if(strlen(dechex($optwo_count)) == '1') { $optwo_count = '0'.dechex($optwo_count).''; } else { $optwo_count = dechex($optwo_count); }; //Fix opts

			//Item Duration
			$item_dur_c = $check_item_dat[12];
			if(strlen(dechex($item_dur_c)) == '1') { $item_dur_c = '0'.dechex($item_dur_c).''; } else { $item_dur_c = dechex($item_dur_c); }; //Fix Exc

			//Exc option
			if($item_exe1 == '1') { $item_exe1 = '1'; } else { $item_exe1 = '0'; };
			if($item_exe2 == '1') { $item_exe2 = '2'; } else { $item_exe2 = '0'; };
			if($item_exe3 == '1') { $item_exe3 = '4'; } else { $item_exe3 = '0'; };
			if($item_exe4 == '1') { $item_exe4 = '8'; } else { $item_exe4 = '0'; };
			if($item_exe5 == '1') { $item_exe5 = '16'; } else { $item_exe5 = '0'; };
			if($item_exe6 == '1') { $item_exe6 = '32'; } else { $item_exe6 = '0'; };
			
			if( $check_item_dat[8] >= '256' ){
				$calc_item_exc = $item_opt_add + $item_exe1 + $item_exe2 + $item_exe3 + $item_exe4 + $item_exe5 + $item_exe6 + 128;
			} else {
				$calc_item_exc = $item_opt_add + $item_exe1 + $item_exe2 + $item_exe3 + $item_exe4 + $item_exe5 + $item_exe6;
			};
			
			if($is_fenrir1 == '1') { $calc_item_exc = '1'; } elseif($is_fenrir1 == '2') { $calc_item_exc = '2'; } elseif($is_fenrir1 == '4') { $calc_item_exc = '4'; };

			if(strlen(dechex($calc_item_exc)) == '1') { $calc_item_exc = '0'.dechex($calc_item_exc).''; } else { $calc_item_exc = dechex($calc_item_exc); }; //Fix Exc

			//Ancient option
			if($item_anc == '5') { $addhex = '05'; } elseif($item_anc == '10') { $addhex = '0A'; } else { $addhex = '00'; };

			//Item Category
			$item_cat_calc = $check_item_dat[9] ;
			if(strlen(dechex($item_cat_calc)) == '1') { $item_cat_calc = ''.dechex($item_cat_calc).''; } else { $item_cat_calc = dechex($item_cat_calc); }; //Fix cat

			//item refinary
			if($item_ref == '1') { $item_ref = '8'; } else { $item_ref = '0'; }; //refin

				$harData = explode(",", $item_har_data);
				
			//Item harmony
			$item_har_data = ''.dechex($harData[0]).''.dechex($harData[1]).''; // Might be wrong.

			//Socket option
			if(strlen(dechex($item_socket1)) == '1') { $item_socket1 = '0'.dechex($item_socket1).''; } else { $item_socket1 = dechex($item_socket1); }; //Fix sk
			if(strlen(dechex($item_socket2)) == '1') { $item_socket2 = '0'.dechex($item_socket2).''; } else { $item_socket2 = dechex($item_socket2); }; //Fix sk
			if(strlen(dechex($item_socket3)) == '1') { $item_socket3 = '0'.dechex($item_socket3).''; } else { $item_socket3 = dechex($item_socket3); }; //Fix sk
			if(strlen(dechex($item_socket4)) == '1') { $item_socket4 = '0'.dechex($item_socket4).''; } else { $item_socket4 = dechex($item_socket4); }; //Fix sk
			if(strlen(dechex($item_socket5)) == '1') { $item_socket5 = '0'.dechex($item_socket5).''; } else { $item_socket5 = dechex($item_socket5); }; //Fix sk

			if($check_item_dat[13] >= '1') {
				if($mvcore['socket_type'] == 'scfmt'){
					if($item_socket1 == '0' || $item_socket1 == '255' || $item_socket1 == '00') { $item_socket1 = dechex(255); } else { $item_socket1 = $item_socket1; }; //Fix sk2
					if($item_socket2 == '0' || $item_socket2 == '255' || $item_socket2 == '00') { $item_socket2 = dechex(255); } else { $item_socket2 = $item_socket2; }; //Fix sk2
					if($item_socket3 == '0' || $item_socket3 == '255' || $item_socket3 == '00') { $item_socket3 = dechex(255); } else { $item_socket3 = $item_socket3; }; //Fix sk2
					if($item_socket4 == '0' || $item_socket4 == '255' || $item_socket4 == '00') { $item_socket4 = dechex(255); } else { $item_socket4 = $item_socket4; }; //Fix sk2
					if($item_socket5 == '0' || $item_socket5 == '255' || $item_socket5 == '00') { $item_socket5 = dechex(255); } else { $item_socket5 = $item_socket5; }; //Fix sk2
				} else {
					if($item_socket1 == '254') { $item_socket1 = dechex(254); } else { $item_socket1 = $item_socket1; }; //Fix sk2
					if($item_socket2 == '254') { $item_socket2 = dechex(254); } else { $item_socket2 = $item_socket2; }; //Fix sk2
					if($item_socket3 == '254') { $item_socket3 = dechex(254); } else { $item_socket3 = $item_socket3; }; //Fix sk2
					if($item_socket4 == '254') { $item_socket4 = dechex(254); } else { $item_socket4 = $item_socket4; }; //Fix sk2
					if($item_socket5 == '254') { $item_socket5 = dechex(254); } else { $item_socket5 = $item_socket5; }; //Fix sk2
				};
			} else {
				if($item_socket1 == '0' || $item_socket1 == '254' || $item_socket1 == '00') { $item_socket1 = '00'; } else { $item_socket1 = $item_socket1; }; //Fix sk2
				if($item_socket2 == '0' || $item_socket2 == '254' || $item_socket2 == '00') { $item_socket2 = '00'; } else { $item_socket2 = $item_socket2; }; //Fix sk2
				if($item_socket3 == '0' || $item_socket3 == '254' || $item_socket3 == '00') { $item_socket3 = '00'; } else { $item_socket3 = $item_socket3; }; //Fix sk2
				if($item_socket4 == '0' || $item_socket4 == '254' || $item_socket4 == '00') { $item_socket4 = '00'; } else { $item_socket4 = $item_socket4; }; //Fix sk2
				if($item_socket5 == '0' || $item_socket5 == '254' || $item_socket5 == '00') { $item_socket5 = '00'; } else { $item_socket5 = $item_socket5; }; //Fix sk2	
			};

			if($mvcore['socket_type'] == 'scfmt'){
			if($check_item_dat[13] >= '1') { $item_socket1 = $item_socket1; } else { $item_socket1 = '00'; };
			if($check_item_dat[13] >= '2') { $item_socket2 = $item_socket2; } else { $item_socket2 = '00'; };
			if($check_item_dat[13] >= '3') { $item_socket3 = $item_socket3; } else { $item_socket3 = '00'; };
			if($check_item_dat[13] >= '4') { $item_socket4 = $item_socket4; } else { $item_socket4 = '00'; };
			if($check_item_dat[13] == '5') { $item_socket5 = $item_socket5; } else { $item_socket5 = '00'; };
			} else {
			if($check_item_dat[13] >= '1') { $item_socket1 = $item_socket1; } else { $item_socket1 = dechex(255); };
			if($check_item_dat[13] >= '2') { $item_socket2 = $item_socket2; } else { $item_socket2 = dechex(255); };
			if($check_item_dat[13] >= '3') { $item_socket3 = $item_socket3; } else { $item_socket3 = dechex(255); };
			if($check_item_dat[13] >= '4') { $item_socket4 = $item_socket4; } else { $item_socket4 = dechex(255); };
			if($check_item_dat[13] == '5') { $item_socket5 = $item_socket5; } else { $item_socket5 = dechex(255); };
			}

			$NewHexOut = "".$it_id."".$optwo_count."".$item_dur_c."".$serial."".$calc_item_exc."".$addhex."".$item_cat_calc."".$item_ref."".$item_har_data."".$item_socket1."".$item_socket2."".$item_socket3."".$item_socket4."".$item_socket5."";
			//echo'<br>'.$item_hex.'<br>'.$NewHexOut.'';
		//end
		
		$sys_startsg = mssql_query("select accountID from character where name = '".$char_name."'");
		$drop_infog = mssql_fetch_row($sys_startsg);
		
	
if($mvcore['db_season'] >= '9') { $cvbins = '7680'; } elseif($mvcore['db_season'] == '1') { $cvbins = '1200'; } else { $cvbins = '3840'; }; // Warehouse
if($mvcore['db_season'] >= '9') { $cvbinsch = '7584'; } elseif($mvcore['db_season'] == '1') { $cvbinsch = '1080'; } else { if($mvcore['db_season'] == '8') { $cvbinsch = '3808'; } else { $cvbinsch = '3776'; }; }; // Inventory

				$sqllas= mssql_query("declare @items varbinary(".$cvbinsch."); 
					set @items = (select [Inventory] from [Character] where [name]='".$char_name."');
					print @items;");
				$mycuritems	= mssql_get_last_message();
				
				$sqll	= substr($mycuritems,2);
				
				if($mvcore['db_season'] >= '9') { $hexlen = '64'; } elseif($mvcore['db_season'] == '1') { $hexlen = '20'; } else { $hexlen = '32'; };
				if($mvcore['db_season'] >= '9') { $hexlens = ''.$NewHexOut.'FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF'; } else { $hexlens = ''.$NewHexOut.''; };
				if($mvcore['db_season'] >= '9') { $hexlena = 'FF66FFFFFFFeeFFFzzFFFFFddFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF'; } elseif($mvcore['db_season'] == '1') { $hexlena = 'FFDEEFFFF33FFFFFEFFF'; } else { $hexlena = 'FF66FFFFFFFeeFFFzzFFFFFddFFFFFFF'; };
				
				if($mvcore['db_season'] >= '9') { $ilc = '480'; } elseif($mvcore['db_season'] == '1') { $ilc = '62'; } else { $ilc = '240'; };
				
				$icok = '0';
					for( $i = 0 ; $i < $ilc; $i++ ) {
					$item[$i]		= substr($sqll,($hexlen*$i), $hexlen);			// item Type
					if($istop == '1'){ $specialcalc = $hexlena; } else { $specialcalc = $item_hex; };
					switch ($item[$i]) {case $specialcalc: $icok +="1"; $item_now_empty[$i] = $hexlens; $istop = 1; break; default: $icok += "0"; $item_now_empty[$i] = $item[$i]; break;};
					
					};
				
				$check_item_exist = $icok;
				
				$check_item_new_hex = implode(",", $item_now_empty); $check_item_new_hex = ('0x'.str_replace(",","",$check_item_new_hex).''); // Will set FOR Loop Array into single string
		
		//if($check_item_exist == '1') {} else { $has_error = '1'; echo '<script>$.jGrowl("Item was not found.");</script>'; };
		
		if($has_error >= '1'){} else {
			$run_qe = mssql_query("UPDATE Character SET Inventory = ".$check_item_new_hex." WHERE name='".$char_name."'");
			
			echo'<script>$.jGrowl("Item successfully saved in '.$char_name.' inventory.", { header: "<font color=green>Success</font>" });</script>';
			
		};
	exit;
}
?>
<?php
if(isset($_POST['onaccsubCharfacas'])) { // Account Manage

		$sys_startsg = mssql_query("select accountID from character where name = '".$_POST['onaccsubCharfacas']."'");
		$drop_infog = mssql_fetch_row($sys_startsg);
	
		if($drop_infog[0] == ''){ $passnums = $_POST['onaccsubCharfacas']; } else { $passnums = $drop_infog[0]; };
		
		$sys_startsgwef = mssql_query("select name from character where accountID = '".$passnums."'");
		$drop_infogdw = mssql_fetch_row($sys_startsgwef);
		
if($mvcore['db_season'] >= '9') { $cvbins = '7680'; } elseif($mvcore['db_season'] == '1') { $cvbins = '1200'; } else { $cvbins = '3840'; }; // Warehouse
if($mvcore['db_season'] >= '9') { $cvbinsch = '7584'; } elseif($mvcore['db_season'] == '1') { $cvbinsch = '1080'; } else { $cvbinsch = '3776'; }; // Inventory

		$sqll= mssql_query("declare @items varbinary(".$cvbins."); 
			set @items = (select [items] from [warehouse] where [accountid]='".$passnums."');
			print @items;");
			
		$sqll=mssql_get_last_message();

		$sqll	= substr($sqll,2);

		if($sqll == ''){} else {

			if($mvcore['db_season'] >= '9') { $hexlen = '64'; } elseif($mvcore['db_season'] == '1') { $hexlen = '20'; } else { $hexlen = '32'; };
			if($mvcore['db_season'] >= '9') { $ilc = '480'; } elseif($mvcore['db_season'] == '1') { $ilc = '62'; } else { $ilc = '240'; };
			
		$check_ware = mssql_query("Select Items from warehouse where AccountID='".$passnums."'");
		$check_ware_s = mssql_fetch_row($check_ware);
		
		for( $i = 0 ; $i < $ilc ; $i++ ) {

		$item[$i]		= substr($sqll,($hexlen*$i), $hexlen);			// item Type
		$sy 			= hexdec(substr($item[$i],0,2)); 		// Item ID
		$serial 		= hexdec(substr($item[$i],6,8)); 		// Item Serial
		$itt 			= hexdec(substr($item[$i],18,2)); 		// Item Type
		$itemtype 		= floor($itt/16);						// Item Type Fix
		$iop 			= hexdec(substr($item[$i],2,2)); 		// Item Level/Skill/Option Data
		$itemdur		= hexdec(substr($item[$i],4,2)); 		// Item Durability
		$ioo 			= hexdec(substr($item[$i],14,2)); 		// Item Excellent Info/ Option
		$ioosecon 		= hexdec(substr($item[$i],14,1)); 		// AD option 1 2 3 4 5 6 7
		$ac 			= hexdec(substr($item[$i],16,2)); 		// Ancient data

		$item_socket[1] = hexdec(substr($item[$i],22,2)); 		// Socket 1
		$item_socket[2] = hexdec(substr($item[$i],24,2)); 		// Socket 2
		$item_socket[3] = hexdec(substr($item[$i],26,2)); 		// Socket 3
		$item_socket[4] = hexdec(substr($item[$i],28,2));		// Socket 4
		$item_socket[5] = hexdec(substr($item[$i],30,2)); 		// Socket 5

		$item_harmony 	= hexdec(substr($item[$i],20,1)); 		// Item harmony
		$item_harm_val 	= hexdec(substr($item[$i],21,1)); 		// Item harmony Value
		$item_refinary 	= hexdec(substr($item[$i],19,1)); 		// Item Refinery

		if($mvcore['db_season'] == '1') {
			$type = hexdec(substr($item[$i], 0,2))/32; // Category
			$ioo = hexdec(substr($item[$i], 14,2)); // Excelent
			$ids = hexdec(substr($item[$i], 0,2));	$idss = $ids / 32; $syfd = $ids - (floor($idss) * 32); //ID Algoritm
			if($ioo >= 128) { $ioo = $ioo - 128; $type = $type + 8; }; $itemtype = round($type); $sy = floor($syfd);
		};
		
			if($mvcore['db_season'] >= '9') { $hexlena = 'FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF'; } elseif($mvcore['db_season'] == '1') { $hexlena = 'FFFFFFFFFFFFFFFFFFFF'; } else { $hexlena = 'FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF'; };
			
		if($item[$i] == $hexlena || $item[$i] == '' || $check_ware_s[0] == '' || $check_ware_s[0] == '0x'){ } else {
			
		include"system/engine_s_fnc.php";

		$drop_item_info ='<table><tr valign=top><td><img src=system/engine_images/webshop/item_images/'.$itemtype.'/'.$sy.'.gif><br>'.$iname.' '.$item_has_def.''.$item_has_dmg.''.$item_need_dur.''.$item_need_level.''.$item_class_need.''.$other_item_infos.''.$fenrir.'<font color=#cc7fcc>'.$ref.'</font>'.$joh_info_drop.'<font color=#7fb2ff>'.$skill.''.$luck.''.$itemoptionname.''.$itemoptionnamess.''.$db_item_info.''.$itemoptionnames.''.$anc_option.'</font><font color=#ff19ff>'.$socketinfos.'</font>'.$sok_info_drop1.''.$sok_info_drop2.''.$sok_info_drop3.''.$sok_info_drop4.''.$sok_info_drop5.'</td></tr></table>';

		$show_on_off = 'onMouseover="ddrivetip(\''.$drop_item_info.'\')" onMouseout="hideddrivetip()"';

			$unpostingdat = ''.$passnums.'-ids-'.$item[$i].'';
			
			if( $itemtype >= 0 && $itemtype <= 11 || $itemtype == 12 && $sy >= 0 && $sy <= 6 || $itemtype == 12 && $sy >= 36 && $sy <= 43 || $itemtype == 12 && $sy >= 49 && $sy <= 50 || $itemtype == 12 && $sy >= 262 && $sy <= 267 || $itemtype == 13 && $sy >= 8 && $sy <= 9 || $itemtype == 13 && $sy >= 12 && $sy <= 13 || $itemtype == 13 && $sy >= 21 && $sy <= 28) {
				$dropsetting[$i] = '<div style="margin-left:102px;margin-top:-77px;">'; $itemeditopt[$i] = '<a href="-id-admincp-id-Account_manage-id-Get_warehouse-id-'.$passnums.'-id-'.$item[$i].'.html" title="Edit Item" class="edit"><img src="admincp/theme/images/icons/update.png" alt=""></a>';
			} else { $dropsetting[$i] = '<div style="margin-left:102px;margin-top:-45px;">'; };
			
		
				$isNotEmpty = '1';
			list($Imgwidth[$i], $Imgheight[$i], $Imgtype, $Imgattr) = getimagesize("system/engine_images/webshop/item_images/".$itemtype."/".$sy.".gif");
				if($Imgwidth[$i] > '130') { $imgNewWith[$i] = 'width="130px"'; }
		echo'				
							<li>
								<a href="#" title="" class="lightbox" style="width:130px;height:130px;" '.$show_on_off.' ><img src="system/engine_images/webshop/item_images/'.$itemtype.'/'.$sy.'.gif" '.$imgNewWith[$i].' alt=""></a>
								'.$dropsetting[$i].'
								'.$itemeditopt[$i].'
								<a href="#" title="Delete Item" class="remove" onclick="invclickDeleteItemacc(\''.$unpostingdat.'\')"><img src="admincp/theme/images/icons/delete.png" alt=""></a>
								</div>
							</li>
		'; }
		}  if($sqll != '' && $isNotEmpty != '1') { echo''; } else { echo'';  };
		}
	exit;
}
?>
<?php
if(isset($_POST['invclickDeleteItemacc'])) { // Account Manage ( DELETE )
		
		$POST = explode("-ids-", $_POST['invclickDeleteItemacc']);
		
		$sys_startsg = mssql_query("select accountID from character where name = '".$_POST['onaccsubCharfacas']."'");
		$drop_infog = mssql_fetch_row($sys_startsg);
	
		if($drop_infog[0] == ''){ $passnums = $POST[0]; } else { $passnums = $drop_infog[0]; };
		
		$sys_startsgwef = mssql_query("select memb_name from ".$mvcore_medb_i." where memb___id = '".$passnums."'");
		$drop_infogdw = mssql_fetch_row($sys_startsgwef);
		
				if($drop_infogdw[0] == '') { $has_error = '1'; echo'<script>$.jGrowl("User not found.", { header: "<font color=red>Error</font>" });</script>'; };
		
	if($has_error >= '1'){} else {
	
if($mvcore['db_season'] >= '9') { $cvbins = '7680'; } elseif($mvcore['db_season'] == '1') { $cvbins = '1200'; } else { $cvbins = '3840'; }; // Warehouse
if($mvcore['db_season'] >= '9') { $cvbinsch = '7584'; } elseif($mvcore['db_season'] == '1') { $cvbinsch = '1080'; } else { $cvbinsch = '3776'; }; // Inventory

				$sqllas= mssql_query("declare @items varbinary(".$cvbins."); 
					set @items = (select [items] from [warehouse] where [accountid]='".$passnums."');
					print @items;");
				$mycuritems	= mssql_get_last_message();

				$sqll	= substr($mycuritems,2);
				
				if($mvcore['db_season'] >= '9') { $hexlen = '64'; } elseif($mvcore['db_season'] == '1') { $hexlen = '20'; } else { $hexlen = '32'; };
				if($mvcore['db_season'] >= '9') { $hexlena = 'FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF'; } elseif($mvcore['db_season'] == '1') { $hexlena = 'FFFFFFFFFFFFFFFFFFFF'; } else { $hexlena = 'FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF'; };
				if($mvcore['db_season'] >= '9') { $hexlensa = 'FF66FFFFFFFeeFFFzzFFFFFddFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF'; } elseif($mvcore['db_season'] == '1') { $hexlensa = 'FFDEEFFFF33FFFFFEFFF'; } else { $hexlensa = 'FF66FFFFFFFeeFFFzzFFFFFddFFFFFFF'; };
				$icok = '0';
				if($mvcore['db_season'] >= '9') { $ilc = '480'; } elseif($mvcore['db_season'] == '1') { $ilc = '62'; } else { $ilc = '240'; };
					for( $i = 0 ; $i < $ilc; $i++ ) {
					$item[$i]		= substr($sqll,($hexlen*$i), $hexlen);			// item Type
					if($istop == '1'){ $specialcalc = $hexlensa; } else { $specialcalc = $POST[1]; };
					switch ($item[$i]) {case $specialcalc: $icok +="1"; $item_now_empty[$i] = $hexlena; $istop = 1; break; default: $icok += "0"; $item_now_empty[$i] = $item[$i]; break;};
					
					};
				
				$check_item_exist = $icok;

				$check_item_new_hex = implode(",", $item_now_empty); $check_item_new_hex = ('0x'.str_replace(",","",$check_item_new_hex).''); // Will set FOR Loop Array into single string
				

		if($has_error >= '1'){} else {
			$run_qe = mssql_query("UPDATE warehouse SET items = ".$check_item_new_hex." WHERE accountid='".$passnums."'");
			
			echo'<script>$.jGrowl("Item successfully deleted.", { header: "<font color=green>Success</font>" });</script>';
			
		};
	};
	exit;
}
?>
<?php
if(isset($_POST['invitemeditsecondrunacc'])) { // Account Manage ( EDIT )
		
		$POST = explode("-ids-", $_POST['invitemeditsecondrunacc']);
		
		$sys_startsg = mssql_query("select accountID from character where name = '".$_POST['onaccsubCharfacas']."'");
		$drop_infog = mssql_fetch_row($sys_startsg);
	
		if($drop_infog[0] == ''){ $passnums = $POST[0]; } else { $passnums = $drop_infog[0]; };
		
		$sys_startsgwef = mssql_query("select memb_name from ".$mvcore_medb_i." where memb___id = '".$passnums."'");
		$drop_infogdw = mssql_fetch_row($sys_startsgwef);
		
				if($drop_infogdw[0] == '') { $has_error = '1'; echo'<script>$.jGrowl("User not found.", { header: "<font color=red>Error</font>" });</script>'; };
		
	if($has_error >= '1'){} else {
		
		$char_name =  $passnums;
		$item_hex = $POST[1];
		$item_level = $POST[2];
		$item_opt = $POST[3];
		$item_luck = $POST[4];
		$item_skill = $POST[5];
		$item_ref = $POST[6];
		$item_anc = $POST[7];
		$item_har_data = $POST[8];
		$item_exe1 = $POST[9];
		$item_exe2 = $POST[10];
		$item_exe3 = $POST[11];
		$item_exe4 = $POST[12];
		$item_exe5 = $POST[13];
		$item_exe6 = $POST[14];
		if($mvcore['socket_type'] == 'scfmt'){
		$item_socket1 = $POST[15] + 1;
		$item_socket2 = $POST[16] + 1;
		$item_socket3 = $POST[17] + 1;
		$item_socket4 = $POST[18] + 1;
		$item_socket5 = $POST[19] + 1;
		} else {
		$item_socket1 = $POST[15];
		$item_socket2 = $POST[16];
		$item_socket3 = $POST[17];
		$item_socket4 = $POST[18];
		$item_socket5 = $POST[19];
		}
		echo''.$char_name.'-ids-';
		//Mew Hex Create POST 2 - 99 New Options Information
		
			$sy 			= hexdec(substr($item_hex,0,2)); 		// Item ID
			$serial 		= $POST[20];
			$itt 			= hexdec(substr($item_hex,18,2)); 		// Item Type
			$itemtype 		= floor($itt/16);						// Item Type Fix
			
			//FOR Item ID 256+
			$ioo 			= hexdec(substr($item_hex,14,2)); 		// Item Excellent Info/ Option
			
		if($mvcore['db_season'] == '1') {
			$type = hexdec(substr($item_hex, 0,2))/32; // Category
			$ioo = hexdec(substr($item_hex, 14,2)); // Excelent
			$ids = hexdec(substr($item_hex, 0,2));	$idss = $ids / 32; $syfd = $ids - (floor($idss) * 32); //ID Algoritm
			if($ioo >= 128) { $ioo = $ioo - 128; $type = $type + 8; }; $itemtype = round($type); $sy = floor($syfd);
		};
		
			if( $ioo >= '128' && $itemtype == '12' && $sy >= '0' ){
				
				$sy = 256 + $sy;
				//$ioo = $iooc;
			}
			
			if( $ioo >= '128' && $itemtype == '13' && $sy >= '0'){
			
				$sy = 256 + $sy;
				
			}
			
			if( $ioo >= '128' && $itemtype == '14' && $sy >= '0'){
				
				$sy = 256 + $sy;
				
			}
			
			//ID
			$check_item_data = mssql_query("Select item_name, item_cost, zen_cost, can_buy_w_money2, can_buy_w_money1, can_buy_w_zen, is_harmony, bought_count, id, category, x, y, durability, is_socket from MVCore_Wshopp  where id='".$sy."' and category='".$itemtype."'");
			$check_item_dat = mssql_fetch_row($check_item_data);

if( $check_item_dat[8] >= '256' ){
	
	$calcRightID = $check_item_dat[8] - 256;
	
	if(strlen(dechex($calcRightID)) == '1') { $it_id = '0'.dechex($calcRightID).''; } else { $it_id = ''.dechex($calcRightID).''; }; //Fix id
	
	echo''.$check_item_dat[8].' && '.$it_id.'';
	
} else {
	if(strlen(dechex($check_item_dat[8])) == '1') { $it_id = '0'.dechex($check_item_dat[8]).''; } else { $it_id = ''.dechex($check_item_dat[8]).''; }; //Fix id
};

			//Option data
			if($item_luck == '1') { $item_luck = '4'; } else { $item_luck = '0'; };
			if($item_skill == '1') { $item_skill = '128'; } else { $item_skill = '0'; };
			if($item_opt > '3') { $item_opt_add = '64'; } else { $item_opt_add = '0'; };
			if($item_opt == '4') { $item_opt = '0'; } 
			elseif($item_opt == '5' || $item_opt == '1') { $item_opt = '1'; }
			elseif($item_opt == '6' || $item_opt == '2') { $item_opt = '2'; }
			elseif($item_opt == '7' || $item_opt == '3') { $item_opt = '3'; };
			$item_level_calc = $item_level * 8;
			$optwo_count = $item_luck + $item_level_calc + $item_skill + $item_opt;
			if(strlen(dechex($optwo_count)) == '1') { $optwo_count = '0'.dechex($optwo_count).''; } else { $optwo_count = dechex($optwo_count); }; //Fix opts

			//Item Duration
			$item_dur_c = $check_item_dat[12];
			if(strlen(dechex($item_dur_c)) == '1') { $item_dur_c = '0'.dechex($item_dur_c).''; } else { $item_dur_c = dechex($item_dur_c); }; //Fix Exc

			//Exc option
			if($item_exe1 == '1') { $item_exe1 = '1'; } else { $item_exe1 = '0'; };
			if($item_exe2 == '1') { $item_exe2 = '2'; } else { $item_exe2 = '0'; };
			if($item_exe3 == '1') { $item_exe3 = '4'; } else { $item_exe3 = '0'; };
			if($item_exe4 == '1') { $item_exe4 = '8'; } else { $item_exe4 = '0'; };
			if($item_exe5 == '1') { $item_exe5 = '16'; } else { $item_exe5 = '0'; };
			if($item_exe6 == '1') { $item_exe6 = '32'; } else { $item_exe6 = '0'; };
		
			//If Item ID 256+
				if( $check_item_dat[8] >= '256' ){
					$calc_item_exc = $item_opt_add + $item_exe1 + $item_exe2 + $item_exe3 + $item_exe4 + $item_exe5 + $item_exe6 + 128;
				} else {
					$calc_item_exc = $item_opt_add + $item_exe1 + $item_exe2 + $item_exe3 + $item_exe4 + $item_exe5 + $item_exe6;
				};
			//end IF
			
			if($is_fenrir1 == '1') { $calc_item_exc = '1'; } elseif($is_fenrir1 == '2') { $calc_item_exc = '2'; } elseif($is_fenrir1 == '4') { $calc_item_exc = '4'; };

			if(strlen(dechex($calc_item_exc)) == '1') { $calc_item_exc = '0'.dechex($calc_item_exc).''; } else { $calc_item_exc = dechex($calc_item_exc); }; //Fix Exc

			//Ancient option
			if($item_anc == '5') { $addhex = '05'; } elseif($item_anc == '10') { $addhex = '0A'; } else { $addhex = '00'; };

			//Item Category
			$item_cat_calc = $check_item_dat[9] ;
			if(strlen(dechex($item_cat_calc)) == '1') { $item_cat_calc = ''.dechex($item_cat_calc).''; } else { $item_cat_calc = dechex($item_cat_calc); }; //Fix cat

			//item refinary
			
			
			if($item_ref == '1') { $item_ref = '8'; } else { $item_ref = '0'; }; //refin

				$harData = explode(",", $item_har_data);
				
			//Item harmony
			$item_har_data = ''.dechex($harData[0]).''.dechex($harData[1]).''; // Might be wrong.

			//Socket option
			if(strlen(dechex($item_socket1)) == '1') { $item_socket1 = '0'.dechex($item_socket1).''; } else { $item_socket1 = dechex($item_socket1); }; //Fix sk
			if(strlen(dechex($item_socket2)) == '1') { $item_socket2 = '0'.dechex($item_socket2).''; } else { $item_socket2 = dechex($item_socket2); }; //Fix sk
			if(strlen(dechex($item_socket3)) == '1') { $item_socket3 = '0'.dechex($item_socket3).''; } else { $item_socket3 = dechex($item_socket3); }; //Fix sk
			if(strlen(dechex($item_socket4)) == '1') { $item_socket4 = '0'.dechex($item_socket4).''; } else { $item_socket4 = dechex($item_socket4); }; //Fix sk
			if(strlen(dechex($item_socket5)) == '1') { $item_socket5 = '0'.dechex($item_socket5).''; } else { $item_socket5 = dechex($item_socket5); }; //Fix sk

			if($check_item_dat[13] >= '1') {
				if($mvcore['socket_type'] == 'scfmt'){
					if($item_socket1 == '0' || $item_socket1 == '255' || $item_socket1 == '00') { $item_socket1 = dechex(255); } else { $item_socket1 = $item_socket1; }; //Fix sk2
					if($item_socket2 == '0' || $item_socket2 == '255' || $item_socket2 == '00') { $item_socket2 = dechex(255); } else { $item_socket2 = $item_socket2; }; //Fix sk2
					if($item_socket3 == '0' || $item_socket3 == '255' || $item_socket3 == '00') { $item_socket3 = dechex(255); } else { $item_socket3 = $item_socket3; }; //Fix sk2
					if($item_socket4 == '0' || $item_socket4 == '255' || $item_socket4 == '00') { $item_socket4 = dechex(255); } else { $item_socket4 = $item_socket4; }; //Fix sk2
					if($item_socket5 == '0' || $item_socket5 == '255' || $item_socket5 == '00') { $item_socket5 = dechex(255); } else { $item_socket5 = $item_socket5; }; //Fix sk2
				} else {
					if($item_socket1 == '254') { $item_socket1 = dechex(254); } else { $item_socket1 = $item_socket1; }; //Fix sk2
					if($item_socket2 == '254') { $item_socket2 = dechex(254); } else { $item_socket2 = $item_socket2; }; //Fix sk2
					if($item_socket3 == '254') { $item_socket3 = dechex(254); } else { $item_socket3 = $item_socket3; }; //Fix sk2
					if($item_socket4 == '254') { $item_socket4 = dechex(254); } else { $item_socket4 = $item_socket4; }; //Fix sk2
					if($item_socket5 == '254') { $item_socket5 = dechex(254); } else { $item_socket5 = $item_socket5; }; //Fix sk2
				};
			} else {
				if($item_socket1 == '0' || $item_socket1 == '254' || $item_socket1 == '00') { $item_socket1 = '00'; } else { $item_socket1 = $item_socket1; }; //Fix sk2
				if($item_socket2 == '0' || $item_socket2 == '254' || $item_socket2 == '00') { $item_socket2 = '00'; } else { $item_socket2 = $item_socket2; }; //Fix sk2
				if($item_socket3 == '0' || $item_socket3 == '254' || $item_socket3 == '00') { $item_socket3 = '00'; } else { $item_socket3 = $item_socket3; }; //Fix sk2
				if($item_socket4 == '0' || $item_socket4 == '254' || $item_socket4 == '00') { $item_socket4 = '00'; } else { $item_socket4 = $item_socket4; }; //Fix sk2
				if($item_socket5 == '0' || $item_socket5 == '254' || $item_socket5 == '00') { $item_socket5 = '00'; } else { $item_socket5 = $item_socket5; }; //Fix sk2	
			};

			if($mvcore['socket_type'] == 'scfmt'){
			if($check_item_dat[13] >= '1') { $item_socket1 = $item_socket1; } else { $item_socket1 = '00'; };
			if($check_item_dat[13] >= '2') { $item_socket2 = $item_socket2; } else { $item_socket2 = '00'; };
			if($check_item_dat[13] >= '3') { $item_socket3 = $item_socket3; } else { $item_socket3 = '00'; };
			if($check_item_dat[13] >= '4') { $item_socket4 = $item_socket4; } else { $item_socket4 = '00'; };
			if($check_item_dat[13] == '5') { $item_socket5 = $item_socket5; } else { $item_socket5 = '00'; };
			} else {
			if($check_item_dat[13] >= '1') { $item_socket1 = $item_socket1; } else { $item_socket1 = dechex(255); };
			if($check_item_dat[13] >= '2') { $item_socket2 = $item_socket2; } else { $item_socket2 = dechex(255); };
			if($check_item_dat[13] >= '3') { $item_socket3 = $item_socket3; } else { $item_socket3 = dechex(255); };
			if($check_item_dat[13] >= '4') { $item_socket4 = $item_socket4; } else { $item_socket4 = dechex(255); };
			if($check_item_dat[13] == '5') { $item_socket5 = $item_socket5; } else { $item_socket5 = dechex(255); };
			}

			$NewHexOut = "".$it_id."".$optwo_count."".$item_dur_c."".$serial."".$calc_item_exc."".$addhex."".$item_cat_calc."".$item_ref."".$item_har_data."".$item_socket1."".$item_socket2."".$item_socket3."".$item_socket4."".$item_socket5."";
		//end

if($mvcore['db_season'] >= '9') { $cvbins = '7680'; } elseif($mvcore['db_season'] == '1') { $cvbins = '1200'; } else { $cvbins = '3840'; }; // Warehouse
if($mvcore['db_season'] >= '9') { $cvbinsch = '7584'; } elseif($mvcore['db_season'] == '1') { $cvbinsch = '1080'; } else { $cvbinsch = '3776'; }; // Inventory

				$query		= mssql_query("declare @it varbinary(".$cvbins."); set @it=(select [Items] from [warehouse] where [AccountID]='".$char_name."'); print @it");
				$mycuritems	= mssql_get_last_message();

				$sqll	= substr($mycuritems,2);
				
				if($mvcore['db_season'] >= '9') { $hexlen = '64'; } elseif($mvcore['db_season'] == '1') { $hexlen = '20'; } else { $hexlen = '32'; };
				if($mvcore['db_season'] >= '9') { $hexlens = ''.$NewHexOut.'FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF'; } else { $hexlens = ''.$NewHexOut.''; };
				if($mvcore['db_season'] >= '9') { $hexlensa = 'FF66FFFFFFFeeFFFzzFFFFFddFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF'; } elseif($mvcore['db_season'] == '1') { $hexlensa = 'FFDEEFFFF33FFFFFEFFF'; } else { $hexlensa = 'FF66FFFFFFFeeFFFzzFFFFFddFFFFFFF'; };
				$icok = '0';
				if($mvcore['db_season'] >= '9') { $ilc = '480'; } elseif($mvcore['db_season'] == '1') { $ilc = '62'; } else { $ilc = '240'; };
					for( $i = 0 ; $i < $ilc; $i++ ) {
					$item[$i]		= substr($sqll,($hexlen*$i), $hexlen);			// item Type
					if($istop == '1'){ $specialcalc = $hexlensa; } else { $specialcalc = $item_hex; };
					switch ($item[$i]) {case $specialcalc: $icok +="1"; $item_now_empty[$i] = $hexlens; $istop = 1; break; default: $icok += "0"; $item_now_empty[$i] = $item[$i]; break;};
					
					};
				
				$check_item_exist = $icok;
				
				$check_item_new_hex = implode(",", $item_now_empty); $check_item_new_hex = ('0x'.str_replace(",","",$check_item_new_hex).''); // Will set FOR Loop Array into single string
				
		//if($check_item_exist == '1') {} else { $has_error = '1'; echo '<script>$.jGrowl("Item was not found.");</script>'; };
		
		if($has_error >= '1'){} else {
			$run_qe = mssql_query("UPDATE warehouse SET items = ".$check_item_new_hex." WHERE accountid='".$char_name."'");
			
			echo'<script>$.jGrowl("Item successfully saved in '.$char_name.' warehouse.", { header: "<font color=green>Success</font>" });</script>';
			
		};
	};
	exit;
}
?>
<?php
if(isset($_POST['onChsubaccfisa'])) { // Account Manage

	$POST = explode("-ids-", $_POST['onChsubaccfisa']);
	
		if(clean_variable($POST[3]) == '') { $has_error = '1'; };

	$sys_startsg = mssql_query("select accountID from character where name = '".$POST[0]."'");
	$drop_infog = mssql_fetch_row($sys_startsg);
	
		if($drop_infog[0] == ''){ $passnums = $POST[0]; } else { $passnums = $drop_infog[0]; };

		if($POST[3] == 'MD5Protected'){ $sPassChange = 0; } else { $sPassChange = 1; };
		
		$sys_startsgwef = mssql_query("select memb_name from ".$mvcore_medb_i." where memb___id = '".$passnums."'");
		$drop_infogdw = mssql_fetch_row($sys_startsgwef);
		
				if($drop_infogdw[0] == '') { $has_error = '1'; echo'<script>$.jGrowl("User not found.", { header: "<font color=red>Error</font>" });</script>'; };
				
	if($has_error >= '1'){} else {
	
		if($POST[1] == '') { $block_cod = '0'; } else { $block_cod = $POST[1]; } ;
	
		if($mvcore['md5_support'] == 'yes' && $sPassChange == '0') {
			$run = mssql_query("update ".$mvcore_medb_i." set acc_info_text='".clean_variable($POST[6])."', bloc_code='".clean_variable($block_cod)."', admincp='".clean_variable($POST[2])."', mail_addr='".clean_variable($POST[4])."', SecretAnswer='".clean_variable($POST[5])."'  where memb___id = '".$passnums."'");
		} elseif($mvcore['md5_support'] == 'yes' && $sPassChange == '1') {
			$run = mssql_query("update ".$mvcore_medb_i." set acc_info_text='".clean_variable($POST[6])."', bloc_code='".clean_variable($block_cod)."', admincp='".clean_variable($POST[2])."', memb__pwd= 0x".md5($POST[3])." , mail_addr='".clean_variable($POST[4])."', SecretAnswer='".clean_variable($POST[5])."'  where memb___id = '".$passnums."'");
		} else {
			$run = mssql_query("update ".$mvcore_medb_i." set acc_info_text='".clean_variable($POST[6])."', bloc_code='".clean_variable($block_cod)."', admincp='".clean_variable($POST[2])."', memb__pwd='".clean_variable($POST[3])."', mail_addr='".clean_variable($POST[4])."', SecretAnswer='".clean_variable($POST[5])."'  where memb___id = '".$passnums."'");
		}
		echo'<script>$.jGrowl("Settings successfully saved.", { header: "<font color=green>Success</font>" });</script>';
	
	};
	exit;
}
?>
<?php
if(isset($_POST['tytrwewrretrte'])) { // Account Manage

	$POST = explode("-ids-", $_POST['tytrwewrretrte']);
	
		if(clean_variable($POST[0]) == '') { $has_error = '1'; };

	$sys_startsg = mssql_query("select accountID from character where name = '".$POST[0]."'");
	$drop_infog = mssql_fetch_row($sys_startsg);
	
		if($drop_infog[0] == ''){ $passnums = $POST[0]; } else { $passnums = $drop_infog[0]; };

	if($has_error >= '1'){} else {
		//Update when something changed.
	
	
	if($POST[1] == '' || $POST[1] == 'xc') {
	} else {
		if($POST[1] == '0') { $calcDateVIP = 0; } else { $calcDateVIP = $POST[1] * 86400 + time(); };
		//$calcDateVIP = $calcDateVIP + time();
		
		$run = mssql_query("update ".$mvcore_medb_i." set mvc_vip_date='".clean_variable($calcDateVIP)."'  where memb___id = '".$passnums."'");
		
		echo'<script>$.jGrowl("VIP data successfully saved.", { header: "<font color=green>Success</font>" });</script>';
	};
	
	}
	exit;
}
?>
<?php
if(isset($_POST['onChsubaccfisb'])) { // Account Manage

	$sys_startsg = mssql_query("select accountID from character where name = '".$_POST['onChsubaccfisb']."'");
	$drop_infog = mssql_fetch_row($sys_startsg);
	
		if($drop_infog[0] == ''){ $passnums = $_POST['onChsubaccfisb']; } else { $passnums = $drop_infog[0]; };
		
		$sys_startsgwef = mssql_query("select memb_name from ".$mvcore_medb_i." where memb___id = '".$passnums."'");
		$drop_infogdw = mssql_fetch_row($sys_startsgwef);
		
				if($drop_infogdw[0] == '') { $has_error = '1'; echo'<script>$.jGrowl("User not found.", { header: "<font color=red>Error</font>" });</script>'; };
	if($has_error >= '1'){} else {
		
	$sys_stat = mssql_query("select connectstat from ".$mvcore_medb_s." where memb___id = '".$passnums."'");
	$drop_stat = mssql_fetch_row($sys_stat);
	
	if($drop_stat[0] == '0' || $drop_stat[0] == '') { $use_offOn = '0'; } else { $use_offOn = $drop_stat[0]; }
	
	$sys_starts = mssql_query("select bloc_code,admincp,memb__pwd,mail_addr,SecretAnswer,memb___id,mvc_vip_date,acc_info_text from ".$mvcore_medb_i." where memb___id = '".$passnums."'");
	$drop_infoads = mssql_fetch_row($sys_starts);
	
	if($drop_infoads[6] >= time()) { $VipStatusVal = 'xc'; $vipdateExpire = decode_time(time(),$drop_infoads[6],'short',''); } else { $VipStatusVal = '0'; $vipdateExpire = 'No'; };
		
		if($drop_infoads[0] == '') { $block_cod = '0'; } else { $block_cod = $drop_infoads[0]; };
		if($mvcore['md5_support'] == 'yes') {
			echo''.$block_cod.'-ids-'.$drop_infoads[1].'-ids-MD5Protected-ids-'.$drop_infoads[3].'-ids-'.$drop_infoads[4].'-ids-'.$drop_infoads[5].'-ids-'.$use_offOn.'-ids-'.$VipStatusVal.'-ids-'.$vipdateExpire.'-ids-'.$drop_infoads[7].'-ids-'.$block_cod.'';
		} else {
			echo''.$block_cod.'-ids-'.$drop_infoads[1].'-ids-'.$drop_infoads[2].'-ids-'.$drop_infoads[3].'-ids-'.$drop_infoads[4].'-ids-'.$drop_infoads[5].'-ids-'.$use_offOn.'-ids-'.$VipStatusVal.'-ids-'.$vipdateExpire.'-ids-'.$drop_infoads[7].'-ids-'.$block_cod.'';
		}
	};
	exit;
}
?>
<?php
if($_POST['saqweqwhangerwechar'] == '1532') { // Account Manage
		
	if($has_error >= '1'){} else {
		$run = mssql_query("Delete from MVCore_Money_Data");
		echo'<script>$.jGrowl("Money data successfully cleaned.", { header: "<font color=green>Success</font>" });</script>';
	};
	exit;
}
?>
<?php
if(isset($_POST['onChsubaccfisasada'])) { // Account Manage

	$POST = explode("-ids-", $_POST['onChsubaccfisasada']);
	
		if(clean_variable($POST[1]) == '') { $has_error = '1'; };

	$sys_startsg = mssql_query("select accountID from character where name = '".$POST[0]."'");
	$drop_infog = mssql_fetch_row($sys_startsg);
	
		if($drop_infog[0] == ''){ $passnums = $POST[0]; } else { $passnums = $drop_infog[0]; };
	
		$sys_startsgwef = mssql_query("select memb_name from ".$mvcore_medb_i." where memb___id = '".$passnums."'");
		$drop_infogdw = mssql_fetch_row($sys_startsgwef);
		
				if($drop_infogdw[0] == '') { $has_error = '1'; };
	if($has_error >= '1'){} else {
		
	//wCoins
		$select_charwc_infaso= mssql_query("Select memb_guid,acc_ip from ".$mvcore_medb_i." where memb___id='".$passnums."'");
		$s_charwc_ias= mssql_fetch_row($select_charwc_infaso);
		if($mvcore['guid_column'] == 'memb_guid'){ $fix_wcoins_userass = $s_charwc_ias[0]; } else { $fix_wcoins_userass = $passnums; };
		$v_f_hfwew= mssql_query("Select ".$mvcore['wcoins_column']." from ".$mvcore['wcoins_table']." where ".$mvcore['guid_column']."='".$fix_wcoins_userass."'");
		$mvc_Money_wcoinsssd= mssql_fetch_row($v_f_hfwew);
	//End
	
		$sys_starts = mssql_query("select ".$mvcore['credits_column'].",".$mvcore['credits2_column']." from ".$mvcore['credits_table']." where ".$mvcore['user_column']." = '".$passnums."'");
		$drop_infoa = mssql_fetch_row($sys_starts);
		
		//Update when something changed.
		$run = mssql_query("update ".$mvcore['credits_table']." set ".$mvcore['credits_column']."='".clean_variable($POST[1])."', ".$mvcore['credits2_column']."='".clean_variable($POST[2])."' where ".$mvcore['user_column']." = '".$passnums."'");
		
		
		if($drop_infoa[0] != $POST[1]) {
			$fInfoInt = mssql_query("insert into MVCore_Money_Data (Username,Credits,GoldCredits,Description,Date,VoteType) VALUES ('".$passnums."','".clean_variable($POST[1])."','0','From AdminCP Money ADD','".time()."','0')");
		};
		
		if($drop_infoa[1] != $POST[2]) {
			$fInfoInt = mssql_query("insert into MVCore_Money_Data (Username,Credits,GoldCredits,Description,Date,VoteType) VALUES ('".$passnums."','0','".clean_variable($POST[2])."','From AdminCP Money ADD','".time()."','0')");
		};
		
		
			if($POST[3] != '') {
				$run = mssql_query("update ".$mvcore['wcoins_table']." set ".$mvcore['wcoins_column']."='".clean_variable($POST[3])."' where ".$mvcore['guid_column']." = '".$fix_wcoins_userass."'");
			};

		echo'<script>$.jGrowl("Money successfully saved.", { header: "<font color=green>Success</font>" });</script>';

	};
	exit;
}
?>
<?php
if(isset($_POST['aodsargsdwbrbrbew'])) { // Get IP By Account

	$POST = $_POST['aodsargsdwbrbrbew'];
	
		if(clean_variable($POST) == '') { $has_error = '1'; };

	$sys_startsg = mssql_query("select accountID from character where name = '".$POST."'");
	$drop_infog = mssql_fetch_row($sys_startsg);
	
		if($drop_infog[0] == ''){ $passnums = $POST; } else { $passnums = $drop_infog[0]; };
	
		$sys_startsgwef = mssql_query("select memb_name, acc_ip from ".$mvcore_medb_i." where memb___id = '".$passnums."'");
		$drop_infogdw = mssql_fetch_row($sys_startsgwef);
		
				if($drop_infogdw[0] == '') { $has_error = '1'; echo'<script>$.jGrowl("User not found.", { header: "<font color=red>Error</font>" });</script>'; };
	if($has_error >= '1'){} else {
		
		echo''.$drop_infogdw[1].'';

	};
	exit;
}
?>
<?php
if(isset($_POST['aodsargsdsdwbrbrbdsew'])) { // Get Account By IP

	$POST = $_POST['aodsargsdsdwbrbrbdsew'];
	
		$sys_startsgwef = mssql_query("select top 100 memb_name, memb___id from ".$mvcore_medb_i." where acc_ip = '".$POST."'");

		for( $i = 0 ; $i < mssql_num_rows($sys_startsgwef); $i++ ) {
			$drop_infogdw = mssql_fetch_row($sys_startsgwef);
			echo''.$drop_infogdw[1].' / ';
		};
	exit;
}
?>
<?php
if(isset($_POST['onChsubaccfisasadb'])) { // Account Manage
	
	$sys_startsg = mssql_query("select accountID from character where name = '".$_POST['onChsubaccfisasadb']."'");
	$drop_infog = mssql_fetch_row($sys_startsg);
	
		if($drop_infog[0] == ''){ $passnums = $_POST['onChsubaccfisasadb']; } else { $passnums = $drop_infog[0]; };
		
		$sys_startsgwef = mssql_query("select memb_name from ".$mvcore_medb_i." where memb___id = '".$passnums."'");
		$drop_infogdw = mssql_fetch_row($sys_startsgwef);
		
				if($drop_infogdw[0] == '') { $has_error = '1'; echo'<script>$.jGrowl("User not found.", { header: "<font color=red>Error</font>" });</script>'; };
	
	if($has_error >= '1'){} else {
		
	//wCoins
		$select_charwc_infaso= mssql_query("Select memb_guid,acc_ip from ".$mvcore_medb_i." where memb___id='".$passnums."'");
		$s_charwc_ias= mssql_fetch_row($select_charwc_infaso);
		if($mvcore['guid_column'] == 'memb_guid'){ $fix_wcoins_useras = $s_charwc_ias[0]; } else { $fix_wcoins_useras = $passnums; };
		$v_f_hfwew= mssql_query("Select ".$mvcore['wcoins_column']." from ".$mvcore['wcoins_table']." where ".$mvcore['guid_column']."='".$fix_wcoins_useras."'");
		$mvc_Money_wcoinssd= mssql_fetch_row($v_f_hfwew);
	//End
	
	$sys_starts = mssql_query("select ".$mvcore['credits_column'].",".$mvcore['credits2_column']." from ".$mvcore['credits_table']." where ".$mvcore['user_column']." = '".$passnums."'");
	$drop_info = mssql_fetch_row($sys_starts);
	
		if($mvc_Money_wcoinssd[0] != ''){ $monwCoinsVal = $mvc_Money_wcoinssd[0]; } else { $monwCoinsVal = '01'; };

		echo''.$drop_info[0].'-ids-'.$drop_info[1].'-ids-'.$monwCoinsVal.'';
	};
	exit;
}
?>
<?php
if(isset($_POST['onaccsubCharfacasas'])) { // Account Manage
		
	set_time_limit(300);
	
	$POST = explode("-ids-", $_POST['onaccsubCharfacasas']);

			$serial = $POST[0];
			
			
					//Check Warehouse
					$search_wh = mssql_query('SELECT top 100 AccountId FROM Warehouse WHERE (charindex (0x'.$serial.', Items) %16=4)');
					for( $i = 0 ; $i < mssql_num_rows($search_wh); $i++ ) {
					$wh = mssql_fetch_row($search_wh);
		
if($mvcore['db_season'] >= '9') { $cvbins = '7680'; } elseif($mvcore['db_season'] == '1') { $cvbins = '1200'; } else { $cvbins = '3840'; }; // Warehouse
if($mvcore['db_season'] >= '9') { $cvbinsch = '7584'; } elseif($mvcore['db_season'] == '1') { $cvbinsch = '1080'; } else { $cvbinsch = '3776'; }; // Inventory

						$sqllas= mssql_query("declare @it varbinary(".$cvbins."); set @it=(select [Items] from [warehouse] where [AccountID]='".$wh[0]."'); print @it");
						$qwdwqdq=mssql_get_last_message();
						$sqll	= substr($qwdwqdq,2);
						
						if($mvcore['db_season'] >= '9') { $hexlen = '64'; } elseif($mvcore['db_season'] == '1') { $hexlen = '20'; } else { $hexlen = '32'; };
						if($mvcore['db_season'] >= '9') { $ilc = '480'; } elseif($mvcore['db_season'] == '1') { $ilc = '62'; } else { $ilc = '240'; };
						
						for( $i = 0 ; $i < $ilc; $i++ ) {
						$item			= substr($sqll,($hexlen*$i), $hexlen);		// item Type
						$serialsgew 	= substr($item,6,8); 				// Item Serial
						$sy 			= hexdec(substr($item,0,2)); 		// Item ID
						$itt 			= hexdec(substr($item,18,2)); 		// Item Type
						$itemtype 		= floor($itt/16);					// Item Type Fix
						
		if($mvcore['db_season'] == '1') {
			$type = hexdec(substr($item, 0,2))/32; // Category
			$ioo = hexdec(substr($item, 14,2)); // Excelent
			$ids = hexdec(substr($item, 0,2));	$idss = $ids / 32; $syfd = $ids - (floor($idss) * 32); //ID Algoritm
			if($ioo >= 128) { $ioo = $ioo - 128; $type = $type + 8; }; $itemtype = round($type); $sy = floor($syfd);
		};
		
						include"system/engine_s_fnc.php";
							if($serial == $serialsgew){
								echo'
									<tr>
										<td>'.$inames.'</td>
										<td>'.$item.'</td>
										<td>'.$wh[0].'</td>
										<td> - </td>
									</tr>
								';
							} else { echo''; };
						}
							
					};
						
					//Check Character
					$search_char = mssql_query('SELECT top 100 Name, AccountId FROM Character WHERE (charindex (0x'.$serial.', Inventory) %16=4)');
					for( $i = 0 ; $i < mssql_num_rows($search_char); $i++ ) {
					$char = mssql_fetch_row($search_char);
					
if($mvcore['db_season'] >= '9') { $cvbins = '7680'; } elseif($mvcore['db_season'] == '1') { $cvbins = '1200'; } else { $cvbins = '3840'; }; // Warehouse
if($mvcore['db_season'] >= '9') { $cvbinsch = '7584'; } elseif($mvcore['db_season'] == '1') { $cvbinsch = '1080'; } else { if($mvcore['db_season'] == '8') { $cvbinsch = '3808'; } else { $cvbinsch = '3776'; }; }; // Inventory

						$sqllas= mssql_query("declare @items varbinary(".$cvbinsch."); set @items = (select [Inventory] from [Character] where [name]='".$char[0]."'); print @items;");
						$qwdwqdq=mssql_get_last_message();
						$sqll	= substr($qwdwqdq,2);
						
						if($mvcore['db_season'] >= '9') { $hexlen = '64'; } elseif($mvcore['db_season'] == '1') { $hexlen = '20'; } else { $hexlen = '32'; };
						if($mvcore['db_season'] >= '9') { $ilc = '480'; } elseif($mvcore['db_season'] == '1') { $ilc = '62'; } else { $ilc = '240'; };
						for( $i = 0 ; $i < $ilc; $i++ ) {
						$item			= substr($sqll,($hexlen*$i), $hexlen);		// item Type
						$serialsgew 	= substr($item,6,8); 				// Item Serial
						$sy 			= hexdec(substr($item,0,2)); 		// Item ID
						$itt 			= hexdec(substr($item,18,2)); 		// Item Type
						$itemtype 		= floor($itt/16);					// Item Type Fix
						
		if($mvcore['db_season'] == '1') {
			$type = hexdec(substr($item, 0,2))/32; // Category
			$ioo = hexdec(substr($item, 14,2)); // Excelent
			$ids = hexdec(substr($item, 0,2));	$idss = $ids / 32; $syfd = $ids - (floor($idss) * 32); //ID Algoritm
			if($ioo >= 128) { $ioo = $ioo - 128; $type = $type + 8; }; $itemtype = round($type); $sy = floor($syfd);
		};
		
						include"system/engine_s_fnc.php";
							if($serial == $serialsgew){
								echo'
									<tr>
										<td>'.$inames.'</td>
										<td>'.$item.'</td>
										<td>'.$char[1].'</td>
										<td>'.$char[0].'</td>
									</tr>
								';
							} else { echo''; };
						}
						
						
					};
				
	exit;
}
?>
<?php
if(isset($_POST['onChsubaccfisreefwae'])) { // Game Master manage
	
	$POST = explode("-ids-", $_POST['onChsubaccfisreefwae']);
	
	if($has_error >= '1'){} else {
		$new_db = fopen("system/engine_configs".$db_name_multi."/game_master_settings.php", "w");
		$data = "<?php\n";
		$data .="\$mvcore['allowed_rew_c_p_day'] = \"".$POST[0]."\";\n";
		$data .="\$mvcore['rew_gm_reward'] = \"".$POST[1]."\";\n";
		$data .="\$mvcore['allow_rew_gc'] = \"".$POST[2]."\";\n";
		$data .="\$mvcore['allow_rew_tc'] = \"".$POST[3]."\";\n";
		$data .="\$mvcore['allow_rew_gc_val'] = \"".$POST[4]."\";\n";
		$data .="\$mvcore['rew_gm_for_event'] = \"".$POST[5]."\";\n";
		$data .="?>";
		fwrite($new_db,$data); fclose($new_db); chmod("system/engine_configs".$db_name_multi."/game_master_settings.php", 0777);
		
		echo'<script>$.jGrowl("Settings successfully saved.", { header: "<font color=green>Success</font>" });</script>';
		
	}
	exit;
}
?>
<?php
if(isset($_POST['onChsugmsett'])) { // Game Master manage
	
	$POST = explode("-ids-", $_POST['onChsugmsett']);
	
	if($has_error >= '1'){} else {
		$new_db = fopen("system/engine_configs".$db_name_multi."/game_master_buy_settings.php", "w");
		$data = "<?php\n";
		$data .="\$mvcore['buyGM_cost'] = \"".$POST[0]."\";\n";
		$data .="\$mvcore['buyGM_cost_type'] = \"".$POST[1]."\";\n";
		$data .="\$mvcore['buyGM_expire_days'] = \"".$POST[2]."\";\n";
		$data .="\$mvcore['buyGM_ctlc'] = \"".$POST[3]."\";\n";
		$data .="?>";
		fwrite($new_db,$data); fclose($new_db); chmod("system/engine_configs".$db_name_multi."/game_master_buy_settings.php", 0777);
		
		echo'<script>$.jGrowl("Settings successfully saved.", { header: "<font color=green>Success</font>" });</script>';
		
	}
	exit;
}
?>
<?php
if(isset($_POST['onChsugmsettOnlyNNes'])) { // Game Master manage
	
	$POST = explode("-ids-", $_POST['onChsugmsettOnlyNNes']);
	
	if($has_error >= '1'){} else {
		$new_db = fopen("system/engine_configs".$db_name_multi."/game_master_rule_settings.php", "w");
		$data = "<?php\n";
		$data .="\$mvcore['buyGM_rule_file'] = \"".$_POST['onChsugmsettOnlyNNes']."\";\n";
		$data .="?>";
		fwrite($new_db,$data); fclose($new_db); chmod("system/engine_configs".$db_name_multi."/game_master_rule_settings.php", 0777);
		
		echo'<script>$.jGrowl("Rules successfully saved.", { header: "<font color=green>Success</font>" });</script>';
		
	}
	exit;
}
?>
<?php
if(isset($_POST['emailsmtpvalidp'])) { // SMTP Settings
	
	$POST = explode("-ids-", $_POST['emailsmtpvalidp']);
	
	if($has_error >= '1'){} else {
		$new_db = fopen("system/engine_configs".$db_name_multi."/SMTP_Settings.php", "w");
		$data = "<?php\n";
		$data .="\$mvcore['smtp_mode'] = \"".$POST[0]."\";\n";
		$data .="\$mvcore['smtp_host'] = \"".$POST[1]."\";\n";
		$data .="\$mvcore['smtp_username'] = \"".$POST[2]."\";\n";
		$data .="\$mvcore['smtp_password'] = \"".$POST[3]."\";\n";
		$data .="\$mvcore['smtp_encrypt'] = \"".$POST[4]."\";\n";
		$data .="\$mvcore['smtp_port'] = \"".$POST[5]."\";\n";
		$data .="\$mvcore['smtp_sender_mail'] = \"".$POST[6]."\";\n";
		$data .="\$mvcore['smtp_sender_title'] = \"".$POST[7]."\";\n";
		$data .="?>";
		fwrite($new_db,$data); fclose($new_db); chmod("system/engine_configs".$db_name_multi."/SMTP_Settings.php", 0777);
		
		echo'<script>$.jGrowl("Settings successfully saved.", { header: "<font color=green>Success</font>" });</script>';
		
	}
	exit;
}
?>
<?php
if(isset($_POST['deleteeventpost'])) { // Game Master event post manage
	
	if($has_error >= '1'){} else {
		
		$delFromDB = mssql_query("delete from MVCore_Event_Post where expire_date = '".$_POST['deleteeventpost']."'");
		
		echo'<script>$.jGrowl("Post successfully deleted.", { header: "<font color=green>Success</font>" });</script>';
		
	}
	exit;
}
?>
<?php
if(isset($_POST['onChsugmsettwhtergweef'])) { // Rule manage
	
	if($has_error >= '1'){} else {
		$new_db = fopen("system/engine_configs".$db_name_multi."/register_rule_settings.php", "w");
		$data = "<?php\n";
		$data .="\$mvcore['reg_rule_file'] = \"".$_POST['onChsugmsettwhtergweef']."\";\n";
		$data .="?>";
		fwrite($new_db,$data); fclose($new_db); chmod("system/engine_configs".$db_name_multi."/register_rule_settings.php", 0777);
		
		echo'<script>$.jGrowl("Rules successfully saved.", { header: "<font color=green>Success</font>" });</script>';
		
	}
	exit;
}
?>
<?php
if(isset($_POST['rehh3reerherh'])) { // News Manage

	$POST = explode("-ids-", $_POST['rehh3reerherh']);
	
	$echtest_fix = stripslashes($POST[1]);
	$content_refix = htmlentities($echtest_fix);
	
	$newsTitleFix = str_replace('"','',$POST[0]);
	$newsTitleFix2 = stripslashes(str_replace("'",'',$newsTitleFix));

	if($has_error >= '1'){} else {
		$new_db = fopen("system/engine_ndb".$db_name_multi_news."/".$POST[2].".txt", "w");
		$data ="".$newsTitleFix2."-ids-".$content_refix."";
		fwrite($new_db,$data); fclose($new_db); chmod("system/engine_ndb".$db_name_multi_news."/".$POST[2].".txt", 0777);
		echo'<script>$.jGrowl("News successfully posted.", { header: "<font color=green>Success</font>" });</script>';
	}
	exit;
}
?>
<?php
if(isset($_POST['rehh3reerherasch'])) { // News Manage

	$POST = explode("-ids-", $_POST['rehh3reerherasch']);
	
	$echtest_fix = stripslashes($POST[1]);
	$content_refix = htmlentities($echtest_fix);
	
	$newsTitleFix = str_replace('"','',$POST[0]);
	$newsTitleFix2 = stripslashes(str_replace("'",'',$newsTitleFix));
	
	if($has_error >= '1'){} else {
		$new_db = fopen("system/engine_ndb".$db_name_multi_news."/".$POST[2].".txt", "w");
		$data ="".$newsTitleFix2."-ids-".$content_refix."";
		fwrite($new_db,$data); fclose($new_db); chmod("system/engine_ndb".$db_name_multi_news."/".$POST[2].".txt", 0777);
		
		echo'<script>$.jGrowl("News successfully saved.", { header: "<font color=green>Success</font>" });</script>';
	}
	exit;
}
?>
<?php
if(isset($_POST['delnewsDas'])) { // News Manage

	// News delete
	unlink("system/engine_ndb".$db_name_multi_news."/".$_POST['delnewsDas'].".txt");
	
	echo'<script>$.jGrowl("News file successfully deleted.", { header: "<font color=green>Success</font>" });</script>';
	
	exit;
}
?>
<?php
if(isset($_POST['downlinkm'])) { // Downloads Manage

	$POST = explode("-ids-", $_POST['downlinkm']);
	
	if($has_error >= '1'){} else {

		if($POST[0] == ''){
			//Insert
			$run = mssql_query("INSERT INTO MVCore_DWN (link,name,file_name,add_date,category) VALUES ('".$POST[2]."','".$POST[3]."','".$POST[4]."','".time()."','".$POST[1]."')");
			echo'<script>$.jGrowl("Download link successfully created.", { header: "<font color=green>Success</font>" });</script>';
		} else {
			//Update
			$run = mssql_query("update MVCore_DWN set link='".clean_variable($POST[2])."', name='".clean_variable($POST[3])."', category='".clean_variable($POST[1])."' where add_date = '".$POST[0]."'");	
			echo'<script>$.jGrowl("Download link successfully edited.", { header: "<font color=green>Success</font>" });</script>';
		};

	}
	exit;
}
?>
<?php
if(isset($_POST['etierdownlinkm'])) { // Event Timer 1 Data Save

	$POST = explode("-ids-", $_POST['etierdownlinkm']);
	
	if($has_error >= '1'){} else {

		if($POST[4] == ''){
			//Insert
			$run = mssql_query("INSERT INTO MVCore_Event_Timer (event_name, event_hour, event_min, event_interval, event_run_time, event_reward_info, type, date, event_start_date) VALUES ('".$POST[0]."','0','0','".$POST[1]."','".$POST[2]."','".$POST[3]."','1','".time()."','".$POST[6]."')");
			echo'<script>$.jGrowl("Timer successfully created.", { header: "<font color=green>Success</font>" });</script>';
		} else {
			//Update
			$run = mssql_query("update MVCore_Event_Timer set event_name='".$POST[0]."', event_interval='".$POST[1]."', event_run_time='".$POST[2]."', event_reward_info='".$POST[3]."', event_start_date='".$POST[6]."' where date = '".$POST[5]."'");	
			echo'<script>$.jGrowl("Timer successfully edited.", { header: "<font color=green>Success</font>" });</script>';
		};

	}
	exit;
}
?>
<?php
if(isset($_POST['timerlinksub'])) { // Event Timer 2 Data Save

	$POST = explode("-ids-", $_POST['timerlinksub']);
	
	if($has_error >= '1'){} else {

		if($POST[5] == ''){
			//Insert
			$run = mssql_query("INSERT INTO MVCore_Event_Timer (event_name, event_hour, event_min, event_interval, event_run_time, event_reward_info, type, date, event_start_date) VALUES ('".$POST[0]."','".$POST[1]."','".$POST[2]."','0','".$POST[3]."','".$POST[4]."','2','".time()."','-')");
			echo'<script>$.jGrowl("Timer successfully created.", { header: "<font color=green>Success</font>" });</script>';
		} else {
			//Update
			$run = mssql_query("update MVCore_Event_Timer set event_name='".$POST[0]."', event_hour='".$POST[1]."', event_min='".$POST[2]."', event_run_time='".$POST[3]."', event_reward_info='".$POST[4]."' where date = '".$POST[6]."'");	
			echo'<script>$.jGrowl("Timer successfully edited.", { header: "<font color=green>Success</font>" });</script>';
		};

	}
	exit;
}
?>
<?php
if(isset($_POST['rtfuncediasdsat'])) { // Event Timer 1 Manage

	$sys_startsg = mssql_query("select event_name, event_hour, event_min, event_interval, event_run_time, event_reward_info, type, date, event_start_date from MVCore_Event_Timer where date = '".$_POST['rtfuncediasdsat']."'");
	$drop_infog = mssql_fetch_row($sys_startsg);
	echo''.$drop_infog[0].'-ids-'.$drop_infog[3].'-ids-'.$drop_infog[4].'-ids-'.$drop_infog[5].'-ids-editsa-ids-'.$drop_infog[7].'-ids-'.$drop_infog[8].'';
	
	exit;
}
?>
<?php
if(isset($_POST['rtsfuncdeasdsal'])) { // Event Timer 1 Manage

	$sys_startsg = mssql_query("delete from MVCore_Event_Timer where date = '".$_POST['rtsfuncdeasdsal']."'");
	
	echo'<script>$.jGrowl("Download link successfully deleted.", { header: "<font color=green>Success</font>" });</script>';
	
	exit;
}
?>
<?php
if(isset($_POST['timerfuncediasdsat'])) { // Event Timer 2 Manage

	$sys_startsg = mssql_query("select event_name, event_hour, event_min, event_interval, event_run_time, event_reward_info, type, date, event_start_date from MVCore_Event_Timer where date = '".$_POST['timerfuncediasdsat']."'");
	$drop_infog = mssql_fetch_row($sys_startsg);
	echo''.$drop_infog[0].'-ids-'.$drop_infog[1].'-ids-'.$drop_infog[2].'-ids-'.$drop_infog[4].'-ids-'.$drop_infog[5].'-ids-editsar-ids-'.$drop_infog[7].'';
	
	exit;
}
?>
<?php
if(isset($_POST['timerfuncdeasdsal'])) { // Event Timer 2 Manage

	$sys_startsg = mssql_query("delete from MVCore_Event_Timer where date = '".$_POST['timerfuncdeasdsal']."'");
	
	echo'<script>$.jGrowl("Download link successfully deleted.", { header: "<font color=green>Success</font>" });</script>';
	
	exit;
}
?>
<?php
if(isset($_POST['funcediasdsat'])) { // Downloads Manage

	$sys_startsg = mssql_query("select link,name,file_name,add_date,category from MVCore_DWN where add_date = '".$_POST['funcediasdsat']."'");
	$drop_infog = mssql_fetch_row($sys_startsg);
	echo''.$drop_infog[3].'-ids-'.$drop_infog[4].'-ids-'.$drop_infog[0].'-ids-'.$drop_infog[1].'-ids-'.$drop_infog[2].'';
	
	exit;
}
?>
<?php
if(isset($_POST['funcdeasdsal'])) { // Downloads Manage

	$sys_startsg = mssql_query("delete from MVCore_DWN where add_date = '".$_POST['funcdeasdsal']."'");
	
	echo'<script>$.jGrowl("Download link successfully deleted.", { header: "<font color=green>Success</font>" });</script>';
	
	exit;
}
?>
<?php
if(isset($_POST['votesett'])) { // Vote Settings
	
	$POST = explode("-ids-", $_POST['votesett']);
	
	if($has_error >= '1'){} else {
		$new_db = fopen("system/engine_configs".$db_name_multi."/vote_settings.php", "w");
		$data = "<?php\n";
		$data .="\$mvcore['vote_ipcheck'] = \"".$POST[0]."\";\n";
		$data .="\$mvcore['reward_sys_vote'] = \"".$POST[1]."\";\n";
		$data .="\$mvcore['vote_nchar'] = \"".$POST[2]."\";\n";
		$data .="\$mvcore['vote_chneed_resets'] = \"".$POST[3]."\";\n";
		$data .="?>";
		fwrite($new_db,$data); fclose($new_db); chmod("system/engine_configs".$db_name_multi."/vote_settings.php", 0777);
		
		echo'<script>$.jGrowl("Settings successfully saved.", { header: "<font color=green>Success</font>" });</script>';
		
	}
	exit;
}
?>
<?php
if(isset($_POST['topvotersett'])) { // Vote Settings
	
	$POST = explode("-ids-", $_POST['topvotersett']);
	
	if($has_error >= '1'){} else {
		$new_db = fopen("system/engine_configs".$db_name_multi."/top_voter_settings.php", "w");
		$data = "<?php\n";
		$data .="\$mvcore['vote_top_of'] = \"".$POST[0]."\";\n";
		$data .="\$mvcore['vote_top_top'] = \"".$POST[1]."\";\n";
		$data .="\$mvcore['vote_top_reward'] = \"".$POST[2]."\";\n";
		$data .="\$mvcore['vote_top_int'] = \"".$POST[3]."\";\n";
		$data .="\$mvcore['vote_top_at'] = \"".$POST[4]."\";\n";
		$data .="?>";
		fwrite($new_db,$data); fclose($new_db); chmod("system/engine_configs".$db_name_multi."/top_voter_settings.php", 0777);

$reward_wait = $POST[3];
$realtime = time();
$newtime = $realtime + $reward_wait;

		$new_db = fopen("system/engine_configs".$db_name_multi."/vote_topv_cnf.php", "w"); //configs patch 
		$data = "<?php\n";
		$data .="\$mvcore['vote_top_voters'] = \"".$newtime."\";\n";
		$data .="?>";
		fwrite($new_db,$data); fclose($new_db); chmod("system/engine_configs".$db_name_multi."/vote_topv_cnf.php", 0777);
		
		echo'<script>$.jGrowl("Settings successfully saved.", { header: "<font color=green>Success</font>" });</script>';
	}
	exit;
}
?>
<?php
if(isset($_POST['votebonussett'])) { // Vote Settings
	
	$POST = explode("-ids-", $_POST['votebonussett']);
	
	if($has_error >= '1'){} else {
		$new_db = fopen("system/engine_configs".$db_name_multi."/vote_bonus_settings.php", "w");
		$data = "<?php\n";
		$data .="\$mvcore['vote_bonus_io'] = \"".$POST[0]."\";\n";
		$data .="\$mvcore['vote_rew_bonus'] = \"".$POST[1]."\";\n";
		$data .="\$mvcore['vote_tpday'] = \"".$POST[2]."\";\n";
		$data .="\$mvcore['vote_rew_long'] = \"".$POST[3]."\";\n";
		$data .="?>";
		fwrite($new_db,$data); fclose($new_db); chmod("system/engine_configs".$db_name_multi."/vote_bonus_settings.php", 0777);
		
		echo'<script>$.jGrowl("Settings successfully saved.", { header: "<font color=green>Success</font>" });</script>';
		
	}
	exit;
}
?>
<?php
if(isset($_POST['votedownlinkm'])) { // Vote Manage

	$POST = explode("-ids-", $_POST['votedownlinkm']);
	 
	if($has_error >= '1'){} else {
		if($POST[5] == ''){
			//Insert
			$run = mssql_query("INSERT INTO mvcore_vote (name,reward,date_int,url,img_url,un_id) VALUES ('".$POST[0]."','".$POST[1]."','".$POST[2]."','".$POST[3]."','".$POST[4]."','".rand(3000,79999)."')");
			echo'<script>$.jGrowl("Vote link successfully created.", { header: "<font color=green>Success</font>" });</script>';
		} else {
			//Update
			$run = mssql_query("update mvcore_vote set name='".clean_variable($POST[0])."', reward='".clean_variable($POST[1])."', date_int='".clean_variable($POST[2])."', url='".clean_variable($POST[3])."' , img_url='".clean_variable($POST[4])."' where un_id = '".$POST[5]."'");	
			echo'<script>$.jGrowl("Vote link successfully edited.", { header: "<font color=green>Success</font>" });</script>';
		};

	}
	exit;
}
?>
<?php
if(isset($_POST['sendinstallconfs'])) { // Install MultiDB Folders & Configs.

	$POST = $_POST['sendinstallconfs'];
	 
	if($POST == '') { $has_error = 1; echo'<script>$.jGrowl("Multi database list is empty.", { header: "<font color=red>Error</font>" });</script>'; };
	if(strlen($POST) >= 90) { $has_error = 1; echo'<script>$.jGrowl("Multi database list is to large.", { header: "<font color=red>Error</font>" });</script>'; };
	
	if($has_error >= '1'){} else {
		 $cmulti_dbs = explode(',',$POST);
		for($i=0;$i < count($cmulti_dbs);++$i) {
			echo'<script>$.jGrowl("Started installing '.$cmulti_dbs[$i].' db config files", { header: "<font color=green>Processing...</font>" });</script>';
			
			if(!file_exists("system/engine_configs".$cmulti_dbs[$i]."")) {
				$dirFrom = 'system/engine_configsDefault/';
				$dirTo = 'system/engine_configs'.$cmulti_dbs[$i].'/';
				recurse_copy($dirFrom,$dirTo);
			};
			
			if(!file_exists("system/engine_ndb".$cmulti_dbs[$i]."")) {
				$dirFromn = 'system/engine_ndbDefault/';
				$dirTon = 'system/engine_ndb'.$cmulti_dbs[$i].'/';
				recurse_copy($dirFromn,$dirTon);
			};
			
			if(!file_exists("system/engine_item_configs".$cmulti_dbs[$i]."")) {
				$dirFromi = 'system/engine_item_configsDefault/';
				$dirToi = 'system/engine_item_configs'.$cmulti_dbs[$i].'/';
				recurse_copy($dirFromi,$dirToi);
			};
			
			if(!file_exists("system/engine_annou".$cmulti_dbs[$i]."")) {
				$dirFromi = 'system/engine_annouDefault/';
				$dirToi = 'system/engine_annou'.$cmulti_dbs[$i].'/';
				recurse_copy($dirFromi,$dirToi);
			};
		}
//--------------------------------------------------------------------------------------
	$file_dir = "system/engine_install/Table Create/";
	$file_dirInsrt = "system/engine_install/Data Insert/";	
		
	function execQuery($file) {
		$open = fopen($file, "r");
		$content = fread($open, filesize($file)); chmod($file, 0777);
		if(mssql_query($content) == true) { 
			return true; 
		} 
		else { 
			return false; 
		}
	};
		
	function checkTable($name, $dir) {
			$query = execQuery($dir.''.$name.'.sql'); 
			if($query == true) {
				echo'<script>$.jGrowl("Table: '.$name.' installed", { header: "<font color=green>Success</font>" });</script>';
			}
			else {
				echo'<script>$.jGrowl("Table '.$name.' = '.mssql_get_last_message().'", { header: "<font color=red>Error</font>" });</script>';
				return $error = true;
			}
	};
		
	function checkTable2($name, $dir) {
			$query = execQuery($dir.''.$name.'.sql');
	};
		
	function checkColumn($table, $name, $type, $null, $default) {
		if(mssql_query('SELECT '.$name.' FROM '.$table.'') != false) { 
			echo'<script>$.jGrowl("Alter '.$name.' Already exists", { header: "<font color=green>Success</font>" });</script>';
		} 
		else { 
			if($null == 1) {
				$null = 'NULL';
			}	
			if(mssql_query('ALTER TABLE '.$table.' ADD '.$name.' '.$type.' '.$null.' '.$default.'')) { 
				echo'<script>$.jGrowl("Alter '.$name.' installed", { header: "<font color=green>Success</font>" });</script>';	
			} 
			else { 
				echo'<script>$.jGrowl("Alter '.$name.' = '.mssql_get_last_message().'", { header: "<font color=red>Error</font>" });</script>';	
				return $error = true;
			}
		}	
	};
	
$fdbname = explode(',',$mvcore['multi_dbs_names']);

for($i=0;$i < count($fdbname);++$i) {

			$run = checkTable('Market_Items', $file_dir);
			$run = checkTable('Market_Sold_Item_List', $file_dir);
			$run = checkTable('MVCore_Banned_PPL', $file_dir);
			$run = checkTable('MVCore_Download', $file_dir);
			$run = checkTable('MVCore_Lottery_Data', $file_dir);
			$run = checkTable('MVCore_Lottery_Win_List', $file_dir);
			$run = checkTable('MVCore_PayGol_Pack', $file_dir);
			$run = checkTable('MVCore_Friend_List', $file_dir);
			$run = checkTable('MVCore_PayPal_Pack', $file_dir);
			$run = checkTable('MVCore_Reward_Data', $file_dir);
			$run = checkTable('MVCore_Reward_Player', $file_dir);
			$run = checkTable('MVCore_Item_Upgrade', $file_dir);
			$run = checkTable('MVCore_Transaction_Log', $file_dir);
			$run = checkTable('MVCore_Income_Logs', $file_dir);
			$run = checkTable('MVCore_Money_Data', $file_dir);
			$run = checkTable('MVCore_Vote', $file_dir);
			$run = checkTable('MVCore_Vote_Log', $file_dir);
			$run = checkTable('MVCore_Event_Post', $file_dir);
			$run = checkTable('MVCore_MultiAcc_Voters', $file_dir);
			$run = checkTable('wm_Item_Log', $file_dir);
			$run = checkTable('wm_Item_Table', $file_dir);
			$run = checkTable('wm_Ancient', $file_dir);
			$run = checkTable('wm_Ancient_Option', $file_dir);
			$run = checkTable('wm_Harmony', $file_dir);
			$run = checkTable('wm_Socket', $file_dir);
			$run = checkTable('wm_Ertel', $file_dir);
			$run = checkTable('MVCore_Ancient_Exchange_Log', $file_dir);
			$run = checkTable('MVCore_Register_Count', $file_dir);
			$run = checkTable('MVCore_Event_Timer_Date', $file_dir);
			$run = checkTable('MVCore_Event_Timer', $file_dir);
		
		$run = checkColumn(''.$mvcore_medb_i.'','admincp','int','NOT NULL','DEFAULT 0');
		$run = checkColumn(''.$mvcore_medb_i.'','credits','int','NOT NULL','DEFAULT 0');
		$run = checkColumn(''.$mvcore_medb_i.'','credits2','int','NOT NULL','DEFAULT 0');
		$run = checkColumn(''.$mvcore_medb_i.'','m_Grand_Resets','int','NOT NULL','DEFAULT 0');
		$run = checkColumn(''.$mvcore_medb_i.'','acc_ip','varchar(150)','1','');
		$run = checkColumn(''.$mvcore_medb_i.'','mvc_vip_date','varchar(150)','NOT NULL','DEFAULT 0');
		$run = checkColumn(''.$mvcore_medb_i.'','SecretQuestion','int','1','');
		$run = checkColumn(''.$mvcore_medb_i.'','SecretAnswer','varchar(100)','1','');
		$run = checkColumn(''.$mvcore_medb_i.'','acc_info_text','text','NULL','');
		$run = checkColumn(''.$mvcore_medb_i.'','msponsor_limit','int','NOT NULL','DEFAULT 0');
		$run = checkColumn(''.$mvcore_medb_i.'','msponsor_date','varchar(100)','1','');
		$run = checkColumn(''.$mvcore_medb_i.'','mvc_flag','varchar(100)','1','');
		$run = checkColumn(''.$mvcore_medb_i.'','smtp_block','int','NOT NULL','DEFAULT 0');
		
		//For Scramble Only
			$run = checkColumn(''.$mvcore_medb_i.'','scrable_word','varchar(255)','1','');
			$run = checkColumn(''.$mvcore_medb_i.'','scrable_original','varchar(255)','1','');
			$run = checkColumn(''.$mvcore_medb_i.'','scrable_wrong','int','NOT NULL','DEFAULT 0');
			$run = checkColumn(''.$mvcore_medb_i.'','scrable_level','int','NOT NULL','DEFAULT 0');
		//end
		
		$run = checkColumn('Character','GM_ExpireD','varchar(150)','1','');
		$run = checkColumn('Character','sell_cost','int','NOT NULL','DEFAULT 0');
		$run = checkColumn('Character','selling_char','varchar(150)','1','');
		$run = checkColumn('Character','Resets','int','NOT NULL','DEFAULT 0');
		$run = checkColumn('Character','Grand_Resets','int','NOT NULL','DEFAULT 0');
		$run = checkColumn('Character','m_Grand_Resets','int','NOT NULL','DEFAULT 0');
		$run = checkColumn('Character','Active_char','int','NOT NULL','DEFAULT 0');
		
		$run = checkTable2('Harmony_Data_Insert', $file_dirInsrt);
		$run = checkTable2('Ertel_Data_Insert', $file_dirInsrt);
		$run = checkTable2('Socket_Data_Insert', $file_dirInsrt);
		
		$run = checkTable('Memb_Stat', $file_dir);
		
		if(mssql_query("
			ALTER PROCEDURE [dbo].[WZ_DISCONNECT_MEMB]
			@memb___id varchar(10)
			AS
			Begin	
			set nocount on
				Declare  @find_id varchar(10)
				Declare @ConnectStat tinyint
				Set @ConnectStat = 0 
				Set @find_id = 'NOT'
				select @find_id = S.memb___id COLLATE DATABASE_DEFAULT from ".$mvcore_medb_s." S INNER JOIN ".$mvcore_medb_i." I ON S.memb___id = I.memb___id COLLATE DATABASE_DEFAULT
					   where I.memb___id = @memb___id

				if( @find_id <> 'NOT' )
				begin		
					update ".$mvcore_medb_s." set ConnectStat = @ConnectStat, DisConnectTM = getdate(), OnlineHours = OnlineHours + DATEDIFF(hh,ConnectTM,getdate())
					 where memb___id = @memb___id
				end 
			end

		")) {
			echo'<script>$.jGrowl("Alter WZ_DISCONNECT_MEMB installed", { header: "<font color=green>Success</font>" });</script>';
			
		}
		else { 
			echo'<script>$.jGrowl("Alter WZ_DISCONNECT_MEMB = '.mssql_get_last_message().'", { header: "<font color=red>Error</font>" });</script>';
			
		};
		
		if(mssql_query("

			ALTER PROCEDURE [dbo].[WZ_CONNECT_MEMB]
			@memb___id varchar(10) , 
			@ServerName  varchar(50),
			@IP varchar(20)	
			 AS
			Begin	
			set nocount on
				Declare  @find_id varchar(10) 	
				Declare  @ConnectStat tinyint
				Set @find_id = 'NOT'
				Set @ConnectStat = 1

				select @find_id = S.memb___id COLLATE DATABASE_DEFAULT from ".$mvcore_medb_s." S INNER JOIN ".$mvcore_medb_i." I ON S.memb___id = I.memb___id COLLATE DATABASE_DEFAULT
					   where I.memb___id = @memb___id COLLATE DATABASE_DEFAULT

				if( @find_id = 'NOT' )
				begin		
					insert into ".$mvcore_medb_s." (memb___id,ConnectStat,ServerName,IP,ConnectTM)
					values(@memb___id,  @ConnectStat, @ServerName, @IP, getdate())
				end
				else		
					update ".$mvcore_medb_s." set ConnectStat = @ConnectStat,
								 ServerName = @ServerName,IP = @IP,
								 ConnectTM = getdate()
					 where memb___id = @memb___id COLLATE DATABASE_DEFAULT
			end

		")) {
			echo'<script>$.jGrowl("Alter WZ_CONNECT_MEMB  installed", { header: "<font color=green>Success</font>" });</script>';
			
		}
		else { 
			echo'<script>$.jGrowl("Alter WZ_CONNECT_MEMB = '.mssql_get_last_message().'", { header: "<font color=red>Error</font>" });</script>';
			
		};

		
							$handle = file_get_contents("system/engine_item_configs".$fdbname[$i]."/ItemSetType.txt");
							if($handle) {
								
								$delete_data = mssql_query("DELETE FROM MVCore_Wshopp_Ancient");
									
								$expl_category = explode('EndOfCat', $handle);
								
								for( $isa = 0 ; $isa < count($expl_category); $isa++ ) {
									
									$separator = "\r\n";
									$line = strtok($expl_category[$isa], $separator);
									while ($line !== false) {

										$line = strtok( $separator );
										
										$line_read = explode('	', $line);

										if($line == '' || $line == ' ' || !$line >= '16' || substr($line,0,2) == '//') { 
											//Disables empty and useless lines
										} else {
											$Insert_DB = mssql_query("INSERT INTO MVCore_Wshopp_Ancient (anc_name,anc_name2,item_id,item_cat)VALUES (".$line_read[1].",".$line_read[2].",".$line_read[0].",".$isa.")");
										}
									}
								}
								fclose($handle);
							} else {}

							$handletwo = file_get_contents("system/engine_item_configs".$fdbname[$i]."/ItemSetOption.txt");
							if($handletwo) {
									
									$delete_data = mssql_query("DELETE FROM MVCore_Wshopp_Ancient_Opt");
									
									$separator = "\r\n";
									$line = strtok($handletwo, $separator);
									while ($line !== false) {

										$line = strtok( $separator );
										
										$line_read = explode('	', $line);

										$repl_name = str_replace('"','',$line_read[1]);
										$repl_name = str_replace("'",'',$repl_name);
										
										if($line == '' || $line == ' ' || $line == '	' || $line == 'EndOfCat' || $line == 'end' || !$line >= '16' || substr($line,0,2) == '//') { 
											//Disables empty and useless lines
										} else {

										for( $isa = 0 ; $isa < 39; $isa++ ) { //19 Options Posible
											
											$fs = $isa + 1;
											if($isa >= '2' && $isa <= '39') {
												switch ($line_read[$isa]) {
												case -1: $dfo[$isa] = "" ; break;
												case 0 : $dfo[$isa] = "Strength + ".$line_read[$fs]."<br>" ; break;
												case 1 : $dfo[$isa] = "Agility + ".$line_read[$fs]."<br>" ; break;
												case 2 : $dfo[$isa] = "Energy + ".$line_read[$fs]."<br>" ; break;
												case 3 : $dfo[$isa] = "Stamina + ".$line_read[$fs]."<br>" ; break;
												case 5 : $dfo[$isa] = "Increase minimum attack Damage + ".$line_read[$fs]."<br>" ; break;
												case 6 : $dfo[$isa] = "Increase maximum attack Damage + ".$line_read[$fs]."<br>" ; break;
												case 7 : $dfo[$isa] = "Increase Wizardry Damage + ".$line_read[$fs]."<br>" ; break;
												case 8 : $dfo[$isa] = "Increase Damage + ".$line_read[$fs]."<br>" ; break;
												case 9 : $dfo[$isa] = "Increase attack successfull Rate + ".$line_read[$fs]."<br>" ; break;
												case 10 : $dfo[$isa] = "Increase defence + ".$line_read[$fs]."<br>" ; break;
												case 11 : $dfo[$isa] = "Increase maximum life + ".$line_read[$fs]."<br>" ; break;
												case 12 : $dfo[$isa] = "Increase maximum mana + ".$line_read[$fs]."<br>" ; break;
												case 13 : $dfo[$isa] = "Increase maximum AG + ".$line_read[$fs]."<br>" ; break;
												case 14 : $dfo[$isa] = "Increase AG + ".$line_read[$fs]."<br>" ; break;
												case 15 : $dfo[$isa] = "Increase Critical Damage Rate + ".$line_read[$fs]."<br>" ; break;
												case 16 : $dfo[$isa] = "Increase critical Damage + ".$line_read[$fs]."<br>" ; break;
												case 17 : $dfo[$isa] = "Increase Excellent Damage Rate + ".$line_read[$fs]."<br>" ; break;
												case 18 : $dfo[$isa] = "Increase Excellent Damage + ".$line_read[$fs]."<br>" ; break;
												case 19 : $dfo[$isa] = "Increase Skill Damage + ".$line_read[$fs]."<br>" ; break;
												case 20 : $dfo[$isa] = "Double Damage Rate + ".$line_read[$fs]."<br>" ; break;
												case 21 : $dfo[$isa] = "Ignore Enemy Defense Skill + ".$line_read[$fs]."<br>" ; break;
												case 22 : $dfo[$isa] = "Increase defensive skill while using shields + ".$line_read[$fs]."<br>" ; break;
												case 23 : $dfo[$isa] = "Increase damage with 2 handed weapons + ".$line_read[$fs]."<br>" ; break;
												};

											};
											
											
										};
										
										$options_list = ''.$dfo[2].''.$dfo[4].''.$dfo[6].''.$dfo[8].''.$dfo[10].''.$dfo[12].''.$dfo[14].''.$dfo[16].''.$dfo[18].''.$dfo[20].''.$dfo[22].''.$dfo[24].''.$dfo[26].''.$dfo[28].''.$dfo[30].''.$dfo[32].''.$dfo[34].''.$dfo[36].''.$dfo[38].'';
										
										$Insert_DB = mssql_query("INSERT INTO MVCore_Wshopp_Ancient_Opt (anc_id,anc_name,options)VALUES (".$line_read[0].",'".$repl_name."','".$options_list."')");

										}
									}
								fclose($handletwo);
							} else {}

								$handlef = file_get_contents("system/engine_item_configs".$fdbname[$i]."/Item.txt");
								if($handlef) {
									
									$handle = str_replace('				','	',$handlef);
									$handle = str_replace('			','	',$handle);
									$handle = str_replace('		','	',$handle);
									
									$delete_data = mssql_query("DELETE FROM MVCore_Wshopp");
										
									for( $isa = 0 ; $isa < 16; $isa++ ) {
										$expl_category = explode('EndOfCat', $handle);
									
										$separator = "\r\n";
										$line = strtok($expl_category[$isa], $separator);
										while ($line !== false) {
											
											$line = strtok( $separator );
											
											$line_read = explode('	', $line);
											if($line_read[8] == '' || $line == '' || $line == ' ' || $line == '	' || $line == 'EndOfCat' || $line == 'end' || !$line >= '16' || substr($line,0,2) == '//') { //Disables empty and useless lines
											} else {

												if($line_read[1] == '1') { $isluck = '1'; } else { $isluck = '0'; }; //Luck
												if($line_read[2] >= '1') { $iskill = $line_read[2]; } else { $iskill = '0'; }; //Skill
												if($line_read[9] <= '0') { $cost = '1'; } else { $cost = $line_read[9]; }; //Cost
													
												switch ($line_read[18]) {case 0: $class1="-1"; break;case 1: $class1="00"; break;case 2: $class1="01"; break;case 3: $class1="02"; break;default: $class1="-1"; break;};
												switch ($line_read[19]) {case 0: $class2="-1"; break;Case 1: $class2="016"; break;case 2: $class2="017"; break;case 3: $class2="018"; break;default: $class2="-1"; break;};
												switch ($line_read[20]) {case 0: $class3="-1"; break;Case 1: $class3="032"; break;case 2: $class3="033"; break;case 3: $class3="034"; break;default: $class3="-1"; break;};
												switch ($line_read[21]) {case 0: $class4="-1"; break;Case 1: $class4="048"; break;case 3: $class4="050"; break;default: $class4="-1"; break;};
												switch ($line_read[22]) {case 0: $class5="-1"; break;Case 1: $class5="064"; break;case 3: $class5="066"; break;default: $class5="-1"; break;};
												switch ($line_read[23]) {case 0: $class6="-1"; break;Case 1: $class6="080"; break;case 2: $class6="081"; break;case 3: $class6="082"; break;default: $class6="-1"; break;};
												switch ($line_read[24]) {case 0: $class7="-1"; break;case 1: $class7="096"; break;case 2: $class7="097"; break;default: $class7="-1"; break;};
												switch ($line_read[25]) {case 0: $class8="-1"; break;case 1: $class8="0112"; break;case 2: $class8="0113"; break;default: $class8="-1"; break;};
													
												$classes = ''.$class1.','.$class2.','.$class3.','.$class4.','.$class5.','.$class6.','.$class7.','.$class8.''; //Classes

												$item_name = str_replace('"','',$line_read[8]); //Name
												$item_name = str_replace("'",'',$item_name); //Name
												$item_cost = $cost; //Item Cost Calculation
												$item_cost_zen = $cost * 100; //Item Cost Calculation As Zen
												
													$Insert_DB = mssql_query("INSERT INTO MVCore_Wshopp (category, id, x, y, item_name, item_cost, zen_cost, max_level, has_luck, has_skill, is_ancient, is_harmony, is_socket, has_refinery, max_excellent, clases, durability, equip_level, can_buy, can_buy_w_money1, can_buy_w_money2, can_buy_w_zen, bought_count) VALUES (".$isa.",".$line_read[0].",".$line_read[3].",".$line_read[4].",'".$item_name."',".$item_cost.",".$item_cost_zen.",".$line_read[6].",".$isluck.",".$iskill.",".$line_read[5].",".$line_read[16].",".$line_read[15].",".$line_read[14].",6,'".$classes."',".$line_read[13].",	".$line_read[17].",	".$line_read[7].",	".$line_read[11].",	".$line_read[12].",	".$line_read[10].",	0)");

											}
										}
									}
									fclose($handle);
								} else {}
		
};		
		
//--------------------------------------------------------------------------------------	
		echo'<script>$.jGrowl("Installation finished.", { header: "<font color=green>Success</font>" });</script>';
		
	};
	
	exit;
}
?>
<?php
if(isset($_POST['votefuncediasdsat'])) { // Vote Manage

	$sys_startsg = mssql_query("select name,reward,date_int,url,img_url,un_id from mvcore_vote where un_id = '".$_POST['votefuncediasdsat']."'");
	$drop_infog = mssql_fetch_row($sys_startsg);
	echo''.$drop_infog[0].'-ids-'.$drop_infog[1].'-ids-'.$drop_infog[2].'-ids-'.$drop_infog[3].'-ids-'.$drop_infog[4].'-ids-'.$drop_infog[5].'';
	
	exit;
}
?>
<?php
if(isset($_POST['votefuncdeasdsal'])) { // Vote Manage

	$sys_startsg = mssql_query("delete from mvcore_vote where un_id = '".$_POST['votefuncdeasdsal']."'");
	
	echo'<script>$.jGrowl("Vote link successfully deleted.", { header: "<font color=green>Success</font>" });</script>';
	
	exit;
}
?>
<?php
if(isset($_POST['addstatsss'])) { // Game panel Settings
	
	$POST = explode("-ids-", $_POST['addstatsss']);
	
	if($has_error >= '1'){} else {
		$new_db = fopen("system/engine_configs".$db_name_multi."/gp_add_stats.php", "w");
		$data = "<?php\n";
		$data .="\$mvcore['addstat_cost'] = \"".$POST[0]."\";\n";
		$data .="\$mvcore['addstat_cost_type'] = \"".$POST[1]."\";\n";
		$data .="?>";
		fwrite($new_db,$data); fclose($new_db); chmod("system/engine_configs".$db_name_multi."/gp_add_stats.php", 0777);
		
		echo'<script>$.jGrowl("Settings successfully saved.", { header: "<font color=green>Success</font>" });</script>';
		
	}
	exit;
}
?>
<?php
if(isset($_POST['blupcofd'])) { // Game panel Settings
	
	$POST = explode("-ids-", $_POST['blupcofd']);
	
	if($has_error >= '1'){} else {
		$new_db = fopen("system/engine_configs".$db_name_multi."/gp_buy_level_up_points.php", "w");
		$data = "<?php\n";
		$data .="\$mvcore['blupoints_cost'] = \"".$POST[0]."\";\n";
		$data .="\$mvcore['blupoints_cost_type'] = \"".$POST[1]."\";\n";
		$data .="?>";
		fwrite($new_db,$data); fclose($new_db); chmod("system/engine_configs".$db_name_multi."/gp_buy_level_up_points.php", 0777);
		
		echo'<script>$.jGrowl("Settings successfully saved.", { header: "<font color=green>Success</font>" });</script>';
		
	}
	exit;
}
?>
<?php
if(isset($_POST['cclasssett'])) { // Game panel Settings
	
	$POST = explode("-ids-", $_POST['cclasssett']);
	
	if($has_error >= '1'){} else {
		$new_db = fopen("system/engine_configs".$db_name_multi."/gp_change_class_settings.php", "w");
		$data = "<?php\n";
		$data .="\$mvcore['changeclass_cost'] = \"".$POST[0]."\";\n";
		$data .="\$mvcore['changeclass_cost_type'] = \"".$POST[1]."\";\n";
		$data .="\$mvcore['changeclass_need_ress'] = \"".$POST[2]."\";\n";
		$data .="?>";
		fwrite($new_db,$data); fclose($new_db); chmod("system/engine_configs".$db_name_multi."/gp_change_class_settings.php", 0777);
		
		echo'<script>$.jGrowl("Settings successfully saved.", { header: "<font color=green>Success</font>" });</script>';
		
	}
	exit;
}
?>
<?php
if(isset($_POST['onChsubwqtjwqdmon'])) { // Reset & Grand Reset Column Settings
	
	$POST = explode("-ids-", $_POST['onChsubwqtjwqdmon']);
	
	if($has_error >= '1'){} else {
		$new_db = fopen("system/engine_configs".$db_name_multi."/db_rr_gr_column_names.php", "w");
		$data = "<?php\n";
		$data .="\$mvcore['rr_column_name'] = \"".$POST[0]."\";\n";
		$data .="\$mvcore['gr_column_name'] = \"".$POST[1]."\";\n";
		$data .="?>";
		fwrite($new_db,$data); fclose($new_db); chmod("system/engine_configs".$db_name_multi."/db_rr_gr_column_names.php", 0777);
		
		echo'<script>$.jGrowl("Settings successfully saved.", { header: "<font color=green>Success</font>" });</script>';
		
	}
	exit;
}
?>
<?php
if(isset($_POST['clearpksttt'])) { // Game panel Settings
	
	$POST = explode("-ids-", $_POST['clearpksttt']);
	
	if($has_error >= '1'){} else {
		$new_db = fopen("system/engine_configs".$db_name_multi."/gp_clear_pk.php", "w");
		$data = "<?php\n";
		$data .="\$mvcore['pkstatus_cost'] = \"".$POST[0]."\";\n";
		$data .="\$mvcore['pkstatus_cost_type'] = \"".$POST[1]."\";\n";
		$data .="?>";
		fwrite($new_db,$data); fclose($new_db); chmod("system/engine_configs".$db_name_multi."/gp_clear_pk.php", 0777);
		
		echo'<script>$.jGrowl("Settings successfully saved.", { header: "<font color=green>Success</font>" });</script>';
		
	}
	exit;
}
?>
<?php
if(isset($_POST['cleariventtsttt'])) { // Game panel Settings
	
	$POST = explode("-ids-", $_POST['cleariventtsttt']);
	
	if($has_error >= '1'){} else {
		$new_db = fopen("system/engine_configs".$db_name_multi."/gp_clear_inventory.php", "w");
		$data = "<?php\n";
		$data .="\$mvcore['inventor_cost'] = \"".$POST[0]."\";\n";
		$data .="\$mvcore['inventor_cost_type'] = \"".$POST[1]."\";\n";
		$data .="?>";
		fwrite($new_db,$data); fclose($new_db); chmod("system/engine_configs".$db_name_multi."/gp_clear_inventory.php", 0777);
		
		echo'<script>$.jGrowl("Settings successfully saved.", { header: "<font color=green>Success</font>" });</script>';
		
	}
	exit;
}
?>
<?php
if(isset($_POST['grresett'])) { // Game panel Settings
	
	$POST = explode("-ids-", $_POST['grresett']);
	
	if($has_error >= '1'){} else {
		$new_db = fopen("system/engine_configs".$db_name_multi."/gp_grand_reset_settings.php", "w");
		$data = "<?php\n";
		$data .="\$mvcore['greset_reward'] = \"".$POST[0]."\";\n";
		$data .="\$mvcore['greset_rew_cred'] = \"".$POST[1]."\";\n";
		$data .="\$mvcore['greset_stats'] = \"".$POST[2]."\";\n";
		$data .="\$mvcore['greset_level'] = \"".$POST[3]."\";\n";
		$data .="\$mvcore['greset_ress'] = \"".$POST[4]."\";\n";
		$data .="\$mvcore['greset_zen'] = \"".$POST[5]."\";\n";
		$data .="\$mvcore['greset_lvl_reset'] = \"".$POST[6]."\";\n";
		$data .="\$mvcore['greset_item_check'] = \"".$POST[7]."\";\n";
		$data .="\$mvcore['greset_limit'] = \"".$POST[8]."\";\n";
		$data .="?>";
		fwrite($new_db,$data); fclose($new_db); chmod("system/engine_configs".$db_name_multi."/gp_grand_reset_settings.php", 0777);
		
		echo'<script>$.jGrowl("Settings successfully saved.", { header: "<font color=green>Success</font>" });</script>';
		
	}
	exit;
}
?>
<?php
if(isset($_POST['renamcharsett'])) { // Game panel Settings
	
	$POST = explode("-ids-", $_POST['renamcharsett']);
	
	if($has_error >= '1'){} else {
		$new_db = fopen("system/engine_configs".$db_name_multi."/gp_rename_character.php", "w");
		$data = "<?php\n";
		$data .="\$mvcore['renchar_cost'] = \"".$POST[0]."\";\n";
		$data .="\$mvcore['renchar_cost_type'] = \"".$POST[1]."\";\n";
		$data .="?>";
		fwrite($new_db,$data); fclose($new_db); chmod("system/engine_configs".$db_name_multi."/gp_rename_character.php", 0777);
		
		echo'<script>$.jGrowl("Settings successfully saved.", { header: "<font color=green>Success</font>" });</script>';
		
	}
	exit;
}
?>
<?php
if(isset($_POST['rrresetsett'])) { // Game panel Settings
	
	$POST = explode("-ids-", $_POST['rrresetsett']);
	
	if($has_error >= '1'){} else {
		$new_db = fopen("system/engine_configs".$db_name_multi."/gp_reset_character.php", "w");
		$data = "<?php\n";
		$data .="\$mvcore['reset_reward'] = \"".$POST[0]."\";\n";
		$data .="\$mvcore['reset_rew_cred'] = \"".$POST[1]."\";\n";
		$data .="\$mvcore['reset_stats'] = \"".$POST[2]."\";\n";
		$data .="\$mvcore['reset_level'] = \"".$POST[3]."\";\n";
		$data .="\$mvcore['reset_bonus'] = \"".$POST[4]."\";\n";
		$data .="\$mvcore['reset_zen'] = \"".$POST[5]."\";\n";
		$data .="\$mvcore['reset_item_check'] = \"".$POST[6]."\";\n";
		$data .="\$mvcore['reset_reward_active'] = \"".$POST[7]."\";\n";
		$data .="\$mvcore['reset_ask_money'] = \"".$POST[8]."\";\n";
		$data .="\$mvcore['reset_ask_value'] = \"".$POST[9]."\";\n";
		$data .="\$mvcore['reset_val_inc_opt'] = \"".$POST[10]."\";\n";
		$data .="\$mvcore['reset_limit'] = \"".$POST[11]."\";\n";
		$data .="\$mvcore['reset_lvl_inc'] = \"".$POST[12]."\";\n";
		$data .="\$mvcore['reset_lvl_inc1_min_ress'] = \"".$POST[13]."\";\n";
		$data .="\$mvcore['reset_lvl_inc1_max_ress'] = \"".$POST[14]."\";\n";
		$data .="\$mvcore['reset_lvl_inc1_reset_level'] = \"".$POST[15]."\";\n";
		$data .="\$mvcore['reset_lvl_inc2_min_ress'] = \"".$POST[16]."\";\n";
		$data .="\$mvcore['reset_lvl_inc2_max_ress'] = \"".$POST[17]."\";\n";
		$data .="\$mvcore['reset_lvl_inc2_reset_level'] = \"".$POST[18]."\";\n";
		$data .="\$mvcore['reset_lvl_inc3_min_ress'] = \"".$POST[19]."\";\n";
		$data .="\$mvcore['reset_lvl_inc3_max_ress'] = \"".$POST[20]."\";\n";
		$data .="\$mvcore['reset_lvl_inc3_reset_level'] = \"".$POST[21]."\";\n";
		$data .="\$mvcore['reset_lvl_inc4_min_ress'] = \"".$POST[22]."\";\n";
		$data .="\$mvcore['reset_lvl_inc4_max_ress'] = \"".$POST[23]."\";\n";
		$data .="\$mvcore['reset_lvl_inc4_reset_level'] = \"".$POST[24]."\";\n";
		$data .="\$mvcore['clean_lupw_reset_stats'] = \"".$POST[25]."\";\n";
		$data .="\$mvcore['reset_bonus_opt'] = \"".$POST[26]."\";\n";
		$data .="?>";
		fwrite($new_db,$data); fclose($new_db); chmod("system/engine_configs".$db_name_multi."/gp_reset_character.php", 0777);
		
		echo'<script>$.jGrowl("Settings successfully saved.", { header: "<font color=green>Success</font>" });</script>';
		
	}
	exit;
}
?>
<?php
if(isset($_POST['resskilltrsett'])) { // Game panel Settings
	
	$POST = explode("-ids-", $_POST['resskilltrsett']);
	
	if($has_error >= '1'){} else {
		$new_db = fopen("system/engine_configs".$db_name_multi."/gp_reset_skilltree.php", "w");
		$data = "<?php\n";
		$data .="\$mvcore['skilltreer_cost'] = \"".$POST[0]."\";\n";
		$data .="\$mvcore['skilltreer_type'] = \"".$POST[1]."\";\n";
		$data .="?>";
		fwrite($new_db,$data); fclose($new_db); chmod("system/engine_configs".$db_name_multi."/gp_reset_skilltree.php", 0777);
		
		echo'<script>$.jGrowl("Settings successfully saved.", { header: "<font color=green>Success</font>" });</script>';
		
	}
	exit;
}
?>
<?php
if(isset($_POST['charwarpsett'])) { // Game panel Settings
	
	$POST = explode("-ids-", $_POST['charwarpsett']);
	
	if($has_error >= '1'){} else {
		$new_db = fopen("system/engine_configs".$db_name_multi."/gp_warp_character.php", "w");
		$data = "<?php\n";
		$data .="\$mvcore['warpchar_cost'] = \"".$POST[0]."\";\n";
		$data .="\$mvcore['warpchar_cost_type'] = \"".$POST[1]."\";\n";
		$data .="?>";
		fwrite($new_db,$data); fclose($new_db); chmod("system/engine_configs".$db_name_multi."/gp_warp_character.php", 0777);
		
		echo'<script>$.jGrowl("Settings successfully saved.", { header: "<font color=green>Success</font>" });</script>';
		
	}
	exit;
}
?>
<?php
if(isset($_POST['levelbuysett'])) { // Game panel Settings
	
	$POST = explode("-ids-", $_POST['levelbuysett']);
	
	if($has_error >= '1'){} else {
		$new_db = fopen("system/engine_configs".$db_name_multi."/gp_buy_level.php", "w");
		$data = "<?php\n";
		$data .="\$mvcore['buylevel_cost'] = \"".$POST[0]."\";\n";
		$data .="\$mvcore['buylevel_level_value'] = \"".$POST[1]."\";\n";
		$data .="\$mvcore['buylevel_cost_type'] = \"".$POST[2]."\";\n";
		$data .="?>";
		fwrite($new_db,$data); fclose($new_db); chmod("system/engine_configs".$db_name_multi."/gp_buy_level.php", 0777);
		
		echo'<script>$.jGrowl("Settings successfully saved.", { header: "<font color=green>Success</font>" });</script>';
		
	}
	exit;
}
?>
<?php
if(isset($_POST['ressstatSett'])) { // Game panel Settings
	
	$POST = explode("-ids-", $_POST['ressstatSett']);
	
	if($has_error >= '1'){} else {
		$new_db = fopen("system/engine_configs".$db_name_multi."/gp_reset_stats.php", "w");
		$data = "<?php\n";
		$data .="\$mvcore['resetstats_cost'] = \"".$POST[0]."\";\n";
		$data .="\$mvcore['resetstats_cost_type'] = \"".$POST[1]."\";\n";
		$data .="\$mvcore['resetstats_pUp_add'] = \"".$POST[2]."\";\n";
		$data .="?>";
		fwrite($new_db,$data); fclose($new_db); chmod("system/engine_configs".$db_name_multi."/gp_reset_stats.php", 0777);
		
		echo'<script>$.jGrowl("Settings successfully saved.", { header: "<font color=green>Success</font>" });</script>';
		
	}
	exit;
}
?>
<?php
if(isset($_POST['sellfreestat'])) { // Game panel Settings
	
	$POST = explode("-ids-", $_POST['sellfreestat']);
	
	if($has_error >= '1'){} else {
		$new_db = fopen("system/engine_configs".$db_name_multi."/gp_sell_free_stats.php", "w");
		$data = "<?php\n";
		$data .="\$mvcore['sellfstats_cost'] = \"".$POST[0]."\";\n";
		$data .="\$mvcore['sellfstats_cost_type'] = \"".$POST[1]."\";\n";
		$data .="?>";
		fwrite($new_db,$data); fclose($new_db); chmod("system/engine_configs".$db_name_multi."/gp_sell_free_stats.php", 0777);
		
		echo'<script>$.jGrowl("Settings successfully saved.", { header: "<font color=green>Success</font>" });</script>';
		
	}
	exit;
}
?>
<?php
if(isset($_POST['poll_sett_53gr3b5h'])) { // Poll Settings
	
	$POST = explode("-ids-", $_POST['poll_sett_53gr3b5h']);
	
	if($has_error >= '1'){} else {
		$new_db = fopen("system/engine_configs".$db_name_multi."/Poll_Vote_Settings.php", "w");
		$data = "<?php\n";
		$data .="\$mvcore['poll_onoff'] = \"".$POST[0]."\";\n";
		$data .="\$mvcore['poll_cookie_show'] = \"".$POST[1]."\";\n";
		$data .="\$mvcore['poll_cookie_visit'] = \"".$POST[2]."\";\n";
		$data .="\$mvcore['poll_cookie_depay'] = \"".$POST[3]."\";\n";
		$data .="\$mvcore['poll_question'] = \"".$POST[4]."\";\n";
		$data .="\$mvcore['poll_answer_1'] = \"".$POST[5]."\";\n";
		$data .="\$mvcore['poll_answer_2'] = \"".$POST[6]."\";\n";
		$data .="\$mvcore['poll_answer_3'] = \"".$POST[7]."\";\n";
		$data .="\$mvcore['poll_answer_4'] = \"".$POST[8]."\";\n";
		$data .="\$mvcore['poll_ip_check'] = \"".$POST[9]."\";\n";
		$data .="\$mvcore['poll_cookie_rand'] = \"".$mvcore['poll_cookie_rand']."\";\n";
		$data .="?>";
		fwrite($new_db,$data); fclose($new_db); chmod("system/engine_configs".$db_name_multi."/Poll_Vote_Settings.php", 0777);
		
		echo'<script>$.jGrowl("Settings successfully saved.", { header: "<font color=green>Success</font>" });</script>';
		
	}
	exit;
}
?>
<?php
if(isset($_POST['poll_clean_h53g435j5h'])) { // Poll Clean
	
	$new_db = fopen("system/engine_configs".$db_name_multi."/Poll_Vote_Settings.php", "w");
	$data = "<?php\n";
	$data .="\$mvcore['poll_onoff'] = \"".$mvcore['poll_onoff']."\";\n";
	$data .="\$mvcore['poll_cookie_show'] = \"".$mvcore['poll_cookie_show']."\";\n";
	$data .="\$mvcore['poll_cookie_visit'] = \"".$mvcore['poll_cookie_visit']."\";\n";
	$data .="\$mvcore['poll_cookie_depay'] = \"".$mvcore['poll_cookie_depay']."\";\n";
	$data .="\$mvcore['poll_question'] = \"\";\n";
	$data .="\$mvcore['poll_answer_1'] = \"\";\n";
	$data .="\$mvcore['poll_answer_2'] = \"\";\n";
	$data .="\$mvcore['poll_answer_3'] = \"\";\n";
	$data .="\$mvcore['poll_answer_4'] = \"\";\n";
	$data .="\$mvcore['poll_ip_check'] = \"".$mvcore['poll_ip_check']."\";\n";
	$data .="\$mvcore['poll_cookie_rand'] = \"".rand(100,999999)."\";\n";
	$data .="?>";
	fwrite($new_db,$data); fclose($new_db); chmod("system/engine_configs".$db_name_multi."/Poll_Vote_Settings.php", 0777);
		
	$new_db = fopen("system/engine_configs".$db_name_multi."/Poll_DB_Data.php", "w");
	$data = "<?php\n";
	$data .="\$mvcore['poll_db_vote1_points'] = \"0\";\n";
	$data .="\$mvcore['poll_db_vote2_points'] = \"0\";\n";
	$data .="\$mvcore['poll_db_vote3_points'] = \"0\";\n";
	$data .="\$mvcore['poll_db_vote4_points'] = \"0\";\n";
	$data .="\$mvcore['poll_db_vote_total_points'] = \"0\";\n";
	$data .="?>";
	fwrite($new_db,$data); fclose($new_db); chmod("system/engine_configs".$db_name_multi."/Poll_DB_Data.php", 0777);
	
		$new_db = fopen("system/engine_logs/Poll_Vote_Logs.log", "w");
		$data = "";
		fwrite($new_db,$data); fclose($new_db); chmod("system/engine_logs/Poll_Vote_Logs.log", 0777);

	echo'<script>$.jGrowl("Poll votes & data successfully deleted.", { header: "<font color=green>Success</font>" });</script>';
	
	exit;
}
?>
<?php
if(isset($_POST['Poll_h53h4'])) {
	$poll_answer = $_POST['Poll_h53h4'];
	
	if($poll_answer >= '5' || $poll_answer <= '0') { $error = '1'; echo'Vote id is wrong, contact server admin!'; };
	
	if($mvcore['poll_ip_check'] == 'yes') {
		$VoterIP = getUserIP();
		$handle = fopen('system/engine_logs/Poll_Vote_Logs.log', 'r');
		$valid = true; // init as false
		while (($buffer = fgets($handle)) !== false) {
			if (strpos($buffer, $VoterIP) !== false) {
				$valid = false;
				break;
			}      
		};
		fclose($handle);

		if($valid == false) { $error = '1'; echo'You already voted, for any questions contact server admin!'; };
	};
	
	if($error == '1'){} else {
		
		//Pluss Data
		if($poll_answer == '1') { $mvcore['poll_db_vote1_points'] += '1'; };
		if($poll_answer == '2') { $mvcore['poll_db_vote2_points'] += '1'; };
		if($poll_answer == '3') { $mvcore['poll_db_vote3_points'] += '1'; };
		if($poll_answer == '4') { $mvcore['poll_db_vote4_points'] += '1'; };
		$mvcore['poll_db_vote_total_points'] += '1';
		
		$new_db = fopen("system/engine_configs".$db_name_multi."/Poll_DB_Data.php", "w");
		$data = "<?php\n";
		$data .="\$mvcore['poll_db_vote1_points'] = \"".$mvcore['poll_db_vote1_points']."\";\n";
		$data .="\$mvcore['poll_db_vote2_points'] = \"".$mvcore['poll_db_vote2_points']."\";\n";
		$data .="\$mvcore['poll_db_vote3_points'] = \"".$mvcore['poll_db_vote3_points']."\";\n";
		$data .="\$mvcore['poll_db_vote4_points'] = \"".$mvcore['poll_db_vote4_points']."\";\n";
		$data .="\$mvcore['poll_db_vote_total_points'] = \"".$mvcore['poll_db_vote_total_points']."\";\n";
		$data .="?>";
		fwrite($new_db,$data); fclose($new_db); chmod("system/engine_configs".$db_name_multi."/Poll_DB_Data.php", 0777);
		
		if($mvcore['poll_ip_check'] == 'yes') {
			define("LOG_FILE_PostBackMain", "system/engine_logs/Poll_Vote_Logs.log");
			error_log("".$VoterIP."", 3, LOG_FILE_PostBackMain);
		};
		
		echo'Your vote was counted.';
	}
	exit;
};
?>
<?php
if(isset($_POST['mgrsett'])) { // Game panel Settings
	
	$POST = explode("-ids-", $_POST['mgrsett']);
	
	if($has_error >= '1'){} else {
		$new_db = fopen("system/engine_configs".$db_name_multi."/gp_master_grand_reset.php", "w");
		$data = "<?php\n";
		$data .="\$mvcore['mgreset_reward'] = \"".$POST[0]."\";\n";
		$data .="\$mvcore['mgreset_rew_cred'] = \"".$POST[1]."\";\n";
		$data .="\$mvcore['mgreset_stats'] = \"".$POST[2]."\";\n";
		$data .="\$mvcore['mgreset_level'] = \"".$POST[3]."\";\n";
		$data .="\$mvcore['mgreset_ress'] = \"".$POST[4]."\";\n";
		$data .="\$mvcore['mgreset_grandres'] = \"".$POST[5]."\";\n";
		$data .="\$mvcore['mgreset_zen'] = \"".$POST[6]."\";\n";
		$data .="\$mvcore['mgreset_lvl_reset'] = \"".$POST[7]."\";\n";
		$data .="\$mvcore['mgreset_item_check'] = \"".$POST[8]."\";\n";
		$data .="?>";
		fwrite($new_db,$data); fclose($new_db); chmod("system/engine_configs".$db_name_multi."/gp_master_grand_reset.php", 0777);
		
		echo'<script>$.jGrowl("Settings successfully saved.", { header: "<font color=green>Success</font>" });</script>';
		
	}
	exit;
}
?>
<?php
if(isset($_POST['ocexsett'])) { // Exchange Settings
	
	$POST = explode("-ids-", $_POST['ocexsett']);
	
	if($has_error >= '1'){} else {
		$new_db = fopen("system/engine_configs".$db_name_multi."/exchange_system_settings.php", "w");
		$data = "<?php\n";
		$data .="\$mvcore['oh_t_c_onoff'] = \"".$POST[0]."\";\n";
		$data .="\$mvcore['oh_t_c_rate'] = \"".$POST[1]."\";\n";
		$data .="\$mvcore['c_t_w_onoff'] = \"".$POST[2]."\";\n";
		$data .="\$mvcore['c_t_w_rate'] = \"".$POST[3]."\";\n";
		$data .="\$mvcore['c_t_g_onoff'] = \"".$POST[4]."\";\n";
		$data .="\$mvcore['c_t_g_rate'] = \"".$POST[5]."\";\n";
		$data .="\$mvcore['g_t_c_onoff'] = \"".$POST[6]."\";\n";
		$data .="\$mvcore['g_t_c_rate'] = \"".$POST[7]."\";\n";
		$data .="\$mvcore['c_t_z_onoff'] = \"".$POST[8]."\";\n";
		$data .="\$mvcore['c_t_z_rate'] = \"".$POST[9]."\";\n";
		$data .="\$mvcore['z_t_c_rate'] = \"".$POST[10]."\";\n";
		$data .="\$mvcore['z_t_c_onoff'] = \"".$POST[11]."\";\n";
		$data .="?>";
		fwrite($new_db,$data); fclose($new_db); chmod("system/engine_configs".$db_name_multi."/exchange_system_settings.php", 0777);
		
		echo'<script>$.jGrowl("Settings successfully saved.", { header: "<font color=green>Success</font>" });</script>';
		
	}
	exit;
}
?>
<?php
if(isset($_POST['lotsyssett'])) { // Lottery Settings
	
	$POST = explode("-ids-", $_POST['lotsyssett']);
	
	if($has_error >= '1'){} else {
		$new_db = fopen("system/engine_configs".$db_name_multi."/lottery_system_settings.php", "w");
		$data = "<?php\n";
		$data .="\$mvcore['lot_ticket_cost'] = \"".$POST[0]."\";\n";
		$data .="\$mvcore['lot_cost_type'] = \"".$POST[1]."\";\n";
		$data .="\$mvcore['lot_date_settings'] = \"".$POST[2]."\";\n";
		$data .="\$mvcore['lottery_start_money'] = \"".$POST[3]."\";\n";
		$data .="?>";
		fwrite($new_db,$data); fclose($new_db); chmod("system/engine_configs".$db_name_multi."/lottery_system_settings.php", 0777);
		
		echo'<script>$.jGrowl("Settings successfully saved.", { header: "<font color=green>Success</font>" });</script>';
		
	}
	exit;
}
?>
<?php
if(isset($_POST['ppsetdsfdsfsv'])) { // Payment System Settings
	
	$POST = explode("-ids-", $_POST['ppsetdsfdsfsv']);
	
	if($has_error >= '1'){} else {
		$new_db = fopen("system/engine_configs".$db_name_multi."/paypal_settings.php", "w");
		$data = "<?php\n";
		$data .="\$mvcore['paypal_status'] = \"".$POST[0]."\";\n";
		$data .="\$mvcore['paypal_email'] = \"".$POST[1]."\";\n";
		$data .="\$mvcore['paypal_promo'] = \"".$POST[2]."\";\n";
		$data .="?>";
		fwrite($new_db,$data); fclose($new_db); chmod("system/engine_configs".$db_name_multi."/paypal_settings.php", 0777);
		
		echo'<script>$.jGrowl("Settings successfully saved.", { header: "<font color=green>Success</font>" });</script>';
		
	}
	exit;
}
?>
<?php
if(isset($_POST['pgsettfdsfds'])) { // Payment System Settings
	
	$POST = explode("-ids-", $_POST['pgsettfdsfds']);
	
	if($has_error >= '1'){} else {
		$new_db = fopen("system/engine_configs".$db_name_multi."/paygol_settings.php", "w");
		$data = "<?php\n";
		$data .="\$mvcore['paygol_status'] = \"".$POST[0]."\";\n";
		$data .="\$mvcore['paygol_sid'] = \"".$POST[1]."\";\n";
		$data .="\$mvcore['paygol_promo'] = \"".$POST[2]."\";\n";
		$data .="?>";
		fwrite($new_db,$data); fclose($new_db); chmod("system/engine_configs".$db_name_multi."/paygol_settings.php", 0777);
		
		echo'<script>$.jGrowl("Settings successfully saved.", { header: "<font color=green>Success</font>" });</script>';
		
	}
	exit;
}
?>
<?php
if(isset($_POST['pwsettdsfdsrebbb'])) { // Payment System Settings
	
	$POST = explode("-ids-", $_POST['pwsettdsfdsrebbb']);
	
	if($has_error >= '1'){} else {
		$new_db = fopen("system/engine_configs".$db_name_multi."/paymentwall_settings.php", "w");
		$data = "<?php\n";
		$data .="\$mvcore['paymentwall_status'] = \"".$POST[0]."\";\n";
		$data .="\$mvcore['paymentwall_pkey'] = \"".$POST[1]."\";\n";
		$data .="\$mvcore['paymentwall_skey'] = \"".$POST[2]."\";\n";
		$data .="\$mvcore['paymentwall_widget'] = \"".$POST[3]."\";\n";
		$data .="\$mvcore['paymentwall_widgetnum'] = \"".$POST[4]."\";\n";
		$data .="\$mvcore['paymentwall_width'] = \"".$POST[5]."\";\n";
		$data .="\$mvcore['paymentwall_height'] = \"".$POST[6]."\";\n";
		$data .="\$mvcore['paymentwall_eur_val'] = \"".$POST[7]."\";\n";
		$data .="\$mvcore['paymentwall_widget_link'] = \"".$POST[8]."\";\n";
		$data .="\$mvcore['paymentwall_promo'] = \"".$POST[9]."\";\n";
		$data .="?>";
		fwrite($new_db,$data); fclose($new_db); chmod("system/engine_configs".$db_name_multi."/paymentwall_settings.php", 0777);
		
		echo'<script>$.jGrowl("Settings successfully saved.", { header: "<font color=green>Success</font>" });</script>';
		
	}
	exit;
}
?>
<?php
if(isset($_POST['srsettdsfrgeg3'])) { // Payment System Settings
	
	$POST = explode("-ids-", $_POST['srsettdsfrgeg3']);
	
	if($has_error >= '1'){} else {
		$new_db = fopen("system/engine_configs".$db_name_multi."/super_rewards_settings.php", "w");
		$data = "<?php\n";
		$data .="\$mvcore['superrewards_status'] = \"".$POST[0]."\";\n";
		$data .="\$mvcore['superrewards_api'] = \"".$POST[1]."\";\n";
		$data .="\$mvcore['superrewards_skey'] = \"".$POST[2]."\";\n";
		$data .="\$mvcore['superrewards_width'] = \"".$POST[3]."\";\n";
		$data .="\$mvcore['superrewards_height'] = \"".$POST[4]."\";\n";
		$data .="\$mvcore['superrewards_eur_val'] = \"".$POST[5]."\";\n";
		$data .="\$mvcore['superrewards_promo'] = \"".$POST[6]."\";\n";
		$data .="?>";
		fwrite($new_db,$data); fclose($new_db); chmod("system/engine_configs".$db_name_multi."/super_rewards_settings.php", 0777);
		
		echo'<script>$.jGrowl("Settings successfully saved.", { header: "<font color=green>Success</font>" });</script>';
		
	}
	exit;
}
?>
<?php
if(isset($_POST['trhretrehwgetwe'])) { // Payment System Settings
	
	$POST = explode("-ids-", $_POST['trhretrehwgetwe']);
	
	if($has_error >= '1'){} else {
		$new_db = fopen("system/engine_configs".$db_name_multi."/fortumo_settings.php", "w");
		$data = "<?php\n";
		$data .="\$mvcore['fortumo_status'] = \"".$POST[0]."\";\n";
		$data .="\$mvcore['fortumo_serv_id'] = \"".$POST[1]."\";\n";
		$data .="\$mvcore['fortumo_secre_id'] = \"".$POST[2]."\";\n";
		$data .="\$mvcore['fortumo_promo'] = \"".$POST[3]."\";\n";
		$data .="?>";
		fwrite($new_db,$data); fclose($new_db); chmod("system/engine_configs".$db_name_multi."/fortumo_settings.php", 0777);
		
		echo'<script>$.jGrowl("Settings successfully saved.", { header: "<font color=green>Success</font>" });</script>';
		
	}
	exit;
}
?>
<?php
if(isset($_POST['trhretrtjtrehwe'])) { // pagseguro Settings
	
	$POST = explode("-ids-", $_POST['trhretrtjtrehwe']);
	
	if($has_error >= '1'){} else {
		$new_db = fopen("system/engine_configs".$db_name_multi."/pagseguro_settings.php", "w");
		$data = "<?php\n";
		$data .="\$mvcore['pagseguro_status'] = \"".$POST[0]."\";\n";
		$data .="\$mvcore['pagseguro_email'] = \"".$POST[1]."\";\n";
		$data .="\$mvcore['pagseguro_token'] = \"".$POST[2]."\";\n";
		$data .="\$mvcore['pagseguro_type'] = \"".$POST[3]."\";\n";
		$data .="\$mvcore['pagseguro_tax_val'] = \"".$POST[4]."\";\n";
		$data .="\$mvcore['pagseguro_min_p_tag'] = \"".$POST[5]."\";\n";
		$data .="\$mvcore['pagseguro_max_p_tag'] = \"".$POST[6]."\";\n";
		$data .="?>";
		fwrite($new_db,$data); fclose($new_db); chmod("system/engine_configs".$db_name_multi."/pagseguro_settings.php", 0777);
		
		echo'<script>$.jGrowl("Settings successfully saved.", { header: "<font color=green>Success</font>" });</script>';
		
	}
	exit;
}
?>
<?php
if(isset($_POST['trh2reehwwe'])) { // Interkassa Settings
	
	$POST = explode("-ids-", $_POST['trh2reehwwe']);
	
	if($has_error >= '1'){} else {
		$new_db = fopen("system/engine_configs".$db_name_multi."/interkassa_settings.php", "w");
		$data = "<?php\n";
		$data .="\$mvcore['interkassa_status'] = \"".$POST[0]."\";\n";
		$data .="\$mvcore['interkassa_ch_id'] = \"".$POST[1]."\";\n";
		$data .="\$mvcore['interkassa_val_p1'] = \"".$POST[2]."\";\n";
		$data .="\$mvcore['interkassa_val_p2'] = \"".$POST[3]."\";\n";
		$data .="\$mvcore['interkassa_val_p3'] = \"".$POST[4]."\";\n";
		$data .="\$mvcore['interkassa_val_p4'] = \"".$POST[5]."\";\n";
		$data .="\$mvcore['interkassa_val_p5'] = \"".$POST[6]."\";\n";
		$data .="\$mvcore['interkassa_cred_p1'] = \"".$POST[7]."\";\n";
		$data .="\$mvcore['interkassa_cred_p2'] = \"".$POST[8]."\";\n";
		$data .="\$mvcore['interkassa_cred_p3'] = \"".$POST[9]."\";\n";
		$data .="\$mvcore['interkassa_cred_p4'] = \"".$POST[10]."\";\n";
		$data .="\$mvcore['interkassa_cred_p5'] = \"".$POST[11]."\";\n";
		$data .="\$mvcore['interkassa_cur_code'] = \"".$POST[12]."\";\n";
		$data .="?>";
		fwrite($new_db,$data); fclose($new_db); chmod("system/engine_configs".$db_name_multi."/interkassa_settings.php", 0777);
		
		echo'<script>$.jGrowl("Settings successfully saved.", { header: "<font color=green>Success</font>" });</script>';
		
	}
	exit;
}
?>
<?php
if(isset($_POST['ppfuncdeasdsaasdsal'])) { // Paypal Manage

	$POST = explode("-ids-", $_POST['ppfuncdeasdsaasdsal']);
	
	if($has_error >= '1'){} else {
		if($POST[0] == ''){
			//Insert
			$run = mssql_query("INSERT INTO MVCore_PP_Packs (pack_name,money,cost_eur,cost_usd,cost_gbp) VALUES ('".$POST[1]."','".$POST[2]."','".$POST[3]."','".$POST[4]."','".$POST[5]."')");
			echo'<script>$.jGrowl("Paypal package successfully created.", { header: "<font color=green>Success</font>" });</script>';
		} else {
			//Update
			$run = mssql_query("update MVCore_PP_Packs set pack_name='".clean_variable($POST[1])."', money='".clean_variable($POST[2])."', cost_eur='".clean_variable($POST[3])."', cost_usd='".clean_variable($POST[4])."' , cost_gbp='".clean_variable($POST[5])."' where money = '".$POST[0]."'");	
			echo'<script>$.jGrowl("Paypal package successfully edited.", { header: "<font color=green>Success</font>" });</script>';
		};

	}
	exit;
}
?>
<?php
if(isset($_POST['ppfuncediasdsat'])) { // Paypal Manage

	$sys_startsg = mssql_query("select pack_name,money,cost_eur,cost_usd,cost_gbp from MVCore_PP_Packs where money = '".$_POST['ppfuncediasdsat']."'");
	$drop_infog = mssql_fetch_row($sys_startsg);
	echo''.$drop_infog[1].'-ids-'.$drop_infog[0].'-ids-'.$drop_infog[1].'-ids-'.$drop_infog[2].'-ids-'.$drop_infog[3].'-ids-'.$drop_infog[4].'';
	
	exit;
}
?>
<?php
if(isset($_POST['ppfuncdeasdsal'])) { // Paypal Manage

	$sys_startsg = mssql_query("delete from MVCore_PP_Packs where money = '".$_POST['ppfuncdeasdsal']."'");
	
	echo'<script>$.jGrowl("Paypal package successfully deleted.", { header: "<font color=green>Success</font>" });</script>';
	
	exit;
}
?>
<?php
if(isset($_POST['pgewuncdeasdsaasdsal'])) { // PayGal Manage

	$POST = explode("-ids-", $_POST['pgewuncdeasdsaasdsal']);
	
	if($has_error >= '1'){} else {
		if($POST[0] == ''){
			//Insert
			$run = mssql_query("INSERT INTO MVCore_PG_Packs (p_name,money,currency,cost_eur) VALUES ('".$POST[1]."','".$POST[2]."','".$POST[3]."','".$POST[4]."')");
			echo'<script>$.jGrowl("Paypal package successfully created.", { header: "<font color=green>Success</font>" });</script>';
		} else {
			//Update
			$run = mssql_query("update MVCore_PG_Packs set p_name='".clean_variable($POST[1])."', money='".clean_variable($POST[2])."', currency='".clean_variable($POST[3])."', cost_eur='".clean_variable($POST[4])."' where money = '".$POST[0]."'");	
			echo'<script>$.jGrowl("Paypal package successfully edited.", { header: "<font color=green>Success</font>" });</script>';
		};

	}
	exit;
}
?>
<?php
if(isset($_POST['pguncediasdsat'])) { // PayGal Manage

	$sys_startsg = mssql_query("select p_name,money,currency,cost_eur from MVCore_PG_Packs where money = '".$_POST['pguncediasdsat']."'");
	$drop_infog = mssql_fetch_row($sys_startsg);
	echo''.$drop_infog[1].'-ids-'.$drop_infog[0].'-ids-'.$drop_infog[1].'-ids-'.$drop_infog[2].'-ids-'.$drop_infog[3].'';
	
	exit;
}
?>
<?php
if(isset($_POST['pguncdeasdsal'])) { // PayGal Manage

	$sys_startsg = mssql_query("delete from MVCore_PG_Packs where money = '".$_POST['pguncdeasdsal']."'");
	
	echo'<script>$.jGrowl("Paypal package successfully deleted.", { header: "<font color=green>Success</font>" });</script>';
	
	exit;
}
?>
<?php
if(isset($_POST['pasadsfdsfsv'])) { // Item Upgrade Settings
	
	$POST = explode("-ids-", $_POST['pasadsfdsfsv']);
	
	if($has_error >= '1'){} else {
		$new_db = fopen("system/engine_configs".$db_name_multi."/item_upgrade_settings.php", "w");
		$data = "<?php\n";
		$data .="\$mvcore['upsys_int'] = \"".$POST[0]."\";\n";
		$data .="\$mvcore['upsys_cost_1level'] = \"".$POST[1]."\";\n";
		$data .="\$mvcore['upsys_cost_luck'] = \"".$POST[2]."\";\n";
		$data .="\$mvcore['upsys_cost_skill'] = \"".$POST[3]."\";\n";
		$data .="\$mvcore['upsys_cost_ref'] = \"".$POST[4]."\";\n";
		$data .="?>";
		fwrite($new_db,$data); fclose($new_db); chmod("system/engine_configs".$db_name_multi."/item_upgrade_settings.php", 0777);
		
		echo'<script>$.jGrowl("Settings successfully saved.", { header: "<font color=green>Success</font>" });</script>';
		
	}
	exit;
}
?>
<?php
if(isset($_POST['boidmware'])) { // Market Settings
	
	$POST = explode("-ids-", $_POST['boidmware']);
	
	if($has_error >= '1'){} else {
		$new_db = fopen("system/engine_configs".$db_name_multi."/market_settings.php", "w");
		$data = "<?php\n";
		$data .="\$mvcore['ware_affis'] = \"".$POST[0]."\";\n";
		$data .="\$mvcore['ware_fee_take'] = \"".$POST[1]."\";\n";
		$data .="\$mvcore['market_zen_sell'] = \"".$POST[2]."\";\n";
		$data .="\$mvcore['market_credits_sell'] = \"".$POST[3]."\";\n";
		$data .="\$mvcore['market_credits2_sell'] = \"".$POST[4]."\";\n";
		$data .="\$mvcore['market_wcoins_sell'] = \"".$POST[5]."\";\n";
		$data .="\$mvcore['mark_ip_check'] = \"".$POST[6]."\";\n";
		$data .="?>";
		fwrite($new_db,$data); fclose($new_db); chmod("system/engine_configs".$db_name_multi."/market_settings.php", 0777);
		
		echo'<script>$.jGrowl("Settings successfully saved.", { header: "<font color=green>Success</font>" });</script>';
		
	}
	exit;
}
?>
<?php
if(isset($_POST['onChsubeasdandigmpages'])) { // Market pages
	
	$POST = explode("-ids-", $_POST['onChsubeasdandigmpages']);

	if($has_error >= '1'){} else {
		$new_db = fopen("system/engine_configs".$db_name_multi."/market_page_settings.php", "w");
		$data = "<?php\n";
		$data .="\$mvcore['m_page0'] = \"".$POST[0]."\";\n";
		$data .="\$mvcore['m_page1'] = \"".$POST[1]."\";\n";
		$data .="\$mvcore['m_page2'] = \"".$POST[2]."\";\n";
		$data .="\$mvcore['m_page3'] = \"".$POST[3]."\";\n";
		$data .="\$mvcore['m_page4'] = \"".$POST[4]."\";\n";
		$data .="\$mvcore['m_page5'] = \"".$POST[5]."\";\n";
		$data .="\$mvcore['m_page6'] = \"".$POST[6]."\";\n";
		$data .="\$mvcore['m_page7'] = \"".$POST[7]."\";\n";
		$data .="\$mvcore['m_page8'] = \"".$POST[8]."\";\n";
		$data .="\$mvcore['m_page9'] = \"".$POST[9]."\";\n";
		$data .="\$mvcore['m_page10'] = \"".$POST[10]."\";\n";
		$data .="\$mvcore['m_page11'] = \"".$POST[11]."\";\n";
		$data .="\$mvcore['m_page12'] = \"".$POST[12]."\";\n";
		$data .="\$mvcore['m_page13'] = \"".$POST[13]."\";\n";
		$data .="\$mvcore['m_page14'] = \"".$POST[14]."\";\n";
		$data .="\$mvcore['m_page15'] = \"".$POST[15]."\";\n";
		$data .="\$mvcore['m_page16'] = \"".$POST[16]."\";\n";
		$data .="\$mvcore['mark_default'] = \"".$POST[17]."\";\n";
		$data .="?>";
		fwrite($new_db,$data); fclose($new_db); chmod("system/engine_configs".$db_name_multi."/market_page_settings.php", 0777);
		
		echo'<script>$.jGrowl("Settings successfully saved.", { header: "<font color=green>Success</font>" });</script>';
		
	}
	exit;
}
?>
<?php
if(isset($_POST['boidmwasdsaare'])) { // Webshop Settings
	
	$POST = explode("-ids-", $_POST['boidmwasdsaare']);
	
	
	if($POST[22] != $mvcore['shop_dayname'] || $POST[7] != $mvcore['shop_interv']) {
					
					$DayName = date('l',time());
					
						if($DayName == 'Monday') {
							if($POST[22] == 'Monday') { $DayCalcDs = time(); }
							elseif($POST[22] == 'Tuesday') { $DayCalcDs = time() + 86400; }
							elseif($POST[22] == 'Wednesday') { $DayCalcDs = time() + 172800; }
							elseif($POST[22] == 'Thursday') { $DayCalcDs = time() + 259200; }
							elseif($POST[22] == 'Friday') { $DayCalcDs = time() + 345600; }
							elseif($POST[22] == 'Saturday') { $DayCalcDs = time() + 432000; }
							elseif($POST[22] == 'Sunday') { $DayCalcDs = time() + 518400; };
						}
						elseif($DayName == 'Tuesday') {
							if($POST[22] == 'Monday') { $DayCalcDs = time() - 86400; }
							elseif($POST[22] == 'Tuesday') { $DayCalcDs = time(); }
							elseif($POST[22] == 'Wednesday') { $DayCalcDs = time() + 86400; }
							elseif($POST[22] == 'Thursday') { $DayCalcDs = time() + 172800; }
							elseif($POST[22] == 'Friday') { $DayCalcDs = time() + 259200; }
							elseif($POST[22] == 'Saturday') { $DayCalcDs = time() + 345600; }
							elseif($POST[22] == 'Sunday') { $DayCalcDs = time() + 432000; };
						}
						elseif($DayName == 'Wednesday') {
							if($POST[22] == 'Monday') { $DayCalcDs = time() - 172800; }
							elseif($POST[22] == 'Tuesday') { $DayCalcDs = time() - 86400; }
							elseif($POST[22] == 'Wednesday') { $DayCalcDs = time(); }
							elseif($POST[22] == 'Thursday') { $DayCalcDs = time() + 86400; }
							elseif($POST[22] == 'Friday') { $DayCalcDs = time() + 172800; }
							elseif($POST[22] == 'Saturday') { $DayCalcDs = time() + 259200; }
							elseif($POST[22] == 'Sunday') { $DayCalcDs = time() + 345600; };
						}
						elseif($DayName == 'Thursday') {
							if($POST[22] == 'Monday') { $DayCalcDs = time() - 259200; }
							elseif($POST[22] == 'Tuesday') { $DayCalcDs = time() - 172800; }
							elseif($POST[22] == 'Wednesday') { $DayCalcDs = time() - 86400; }
							elseif($POST[22] == 'Thursday') { $DayCalcDs = time(); }
							elseif($POST[22] == 'Friday') { $DayCalcDs = time() + 86400; }
							elseif($POST[22] == 'Saturday') { $DayCalcDs = time() + 172800; }
							elseif($POST[22] == 'Sunday') { $DayCalcDs = time() + 259200; };
						}
						elseif($DayName == 'Friday') {
							if($POST[22] == 'Monday') { $DayCalcDs = time() - 345600; }
							elseif($POST[22] == 'Tuesday') { $DayCalcDs = time() - 259200; }
							elseif($POST[22] == 'Wednesday') { $DayCalcDs = time() - 172800; }
							elseif($POST[22] == 'Thursday') { $DayCalcDs = time() - 86400; }
							elseif($POST[22] == 'Friday') { $DayCalcDs = time(); }
							elseif($POST[22] == 'Saturday') { $DayCalcDs = time() + 86400; }
							elseif($POST[22] == 'Sunday') { $DayCalcDs = time() + 172800; };
						}
						elseif($DayName == 'Saturday') {
							if($POST[22] == 'Monday') { $DayCalcDs = time() - 432000; }
							elseif($POST[22] == 'Tuesday') { $DayCalcDs = time() - 345600; }
							elseif($POST[22] == 'Wednesday') { $DayCalcDs = time() - 259200; }
							elseif($POST[22] == 'Thursday') { $DayCalcDs = time() - 172800; }
							elseif($POST[22] == 'Friday') { $DayCalcDs = time() - 86400; }
							elseif($POST[22] == 'Saturday') { $DayCalcDs = time(); }
							elseif($POST[22] == 'Sunday') { $DayCalcDs = time() + 86400; };
						}
						elseif($DayName == 'Sunday') {
							if($POST[22] == 'Monday') { $DayCalcDs = time() - 518400; }
							elseif($POST[22] == 'Tuesday') { $DayCalcDs = time() - 432000; }
							elseif($POST[22] == 'Wednesday') { $DayCalcDs = time() - 345600; }
							elseif($POST[22] == 'Thursday') { $DayCalcDs = time() - 259200; }
							elseif($POST[22] == 'Friday') { $DayCalcDs = time() - 172800; }
							elseif($POST[22] == 'Saturday') { $DayCalcDs = time() - 86400; }
							elseif($POST[22] == 'Sunday') { $DayCalcDs = time(); };
						};

						$update_thisds = $DayCalcDs + $mvcore['shop_interv'];
						
					$new_db = fopen("system/engine_configs".$db_name_multi."/shop_drop_date.php", "w"); //configs patch 
					$data = "<?php\n";
					$data .="\$mvcore['shop_new_date'] = \"".$update_thisds."\";\n";
					$data .="?>";
					fwrite($new_db,$data); fclose($new_db); chmod("system/engine_configs".$db_name_multi."/shop_drop_date.php", 0777);
	}
					
	if($has_error >= '1'){} else {
		$new_db = fopen("system/engine_configs".$db_name_multi."/webshop_settings.php", "w");
		$data = "<?php\n";
		$data .="\$mvcore['sockets_parts'] = \"".$POST[0]."\";\n";
		$data .="\$mvcore['eqe_sockets'] = \"".$POST[1]."\";\n";
		$data .="\$mvcore['socket_type'] = \"".$POST[2]."\";\n";
		$data .="\$mvcore['gold_dif'] = \"".$POST[3]."\";\n";
		$data .="\$mvcore['cost_cred_to_zen'] = \"".$POST[4]."\";\n";
		$data .="\$mvcore['shop_disc'] = \"".$POST[5]."\";\n";
		$data .="\$mvcore['shop_perc'] = \"".$POST[6]."\";\n";
		$data .="\$mvcore['shop_interv'] = \"".$POST[7]."\";\n";
		$data .="\$mvcore['cost_level'] = \"".$POST[8]."\";\n";
		$data .="\$mvcore['cost_opt'] = \"".$POST[9]."\";\n";
		$data .="\$mvcore['cost_luck'] = \"".$POST[10]."\";\n";
		$data .="\$mvcore['cost_skill'] = \"".$POST[11]."\";\n";
		$data .="\$mvcore['cost_ref'] = \"".$POST[12]."\";\n";
		$data .="\$mvcore['cost_exe'] = \"".$POST[13]."\";\n";
		$data .="\$mvcore['cost_anc1'] = \"".$POST[14]."\";\n";
		$data .="\$mvcore['cost_anc2'] = \"".$POST[15]."\";\n";
		$data .="\$mvcore['cost_fenblack'] = \"".$POST[16]."\";\n";
		$data .="\$mvcore['cost_fenblue'] = \"".$POST[17]."\";\n";
		$data .="\$mvcore['cost_fengold'] = \"".$POST[18]."\";\n";
		$data .="\$mvcore['cost_cred_to_zena'] = \"".$POST[19]."\";\n";
		$data .="\$mvcore['cost_cred_to_creda'] = \"".$POST[20]."\";\n";
		$data .="\$mvcore['shop_start_at'] = \"".$POST[21]."\";\n";
		$data .="\$mvcore['shop_dayname'] = \"".$POST[22]."\";\n";
		$data .="\$mvcore['sockets_opt_ep'] = \"".$POST[23]."\";\n";
		$data .="\$mvcore['socket_exc_item'] = \"".$POST[24]."\";\n";
		$data .="\$mvcore['anc_opt_buy'] = \"".$POST[25]."\";\n";
		$data .="\$mvcore['har_opt_buy'] = \"".$POST[26]."\";\n";
		$data .="\$mvcore['soc_opt_buy'] = \"".$POST[27]."\";\n";
		$data .="\$mvcore['refi_opt_buy'] = \"".$POST[28]."\";\n";
		$data .="\$mvcore['har_opt_inc'] = \"".$POST[29]."\";\n";
		$data .="\$mvcore['sock_opt_inc'] = \"".$POST[30]."\";\n";
		$data .="\$mvcore['element_socket_max'] = \"".$POST[31]."\";\n";
		$data .="\$mvcore['ertel_slopt'] = \"".$POST[32]."\";\n";
		$data .="\$mvcore['ertel_level'] = \"".$POST[33]."\";\n";
		$data .="\$mvcore['ertel_max_level'] = \"".$POST[34]."\";\n";
		$data .="\$mvcore['pentagram_it_max_lev'] = \"".$POST[35]."\";\n";
		$data .="\$mvcore['w_exc_refin_item'] = \"".$POST[36]."\";\n";
		$data .="\$mvcore['w_exc_anc_item'] = \"".$POST[37]."\";\n";
		$data .="\$mvcore['w_harm_anc_item'] = \"".$POST[38]."\";\n";
		$data .="\$mvcore['shop_disc_start'] = \"".$POST[39]."\";\n";
		
		$data .="?>";
		fwrite($new_db,$data); fclose($new_db); chmod("system/engine_configs".$db_name_multi."/webshop_settings.php", 0777);
		
		echo'<script>$.jGrowl("Settings successfully saved.", { header: "<font color=green>Success</font>" });</script>';
		
	}
	exit;
}
?>
<?php
if(isset($_POST['onChssasubewpages'])) { // Webshop pages
	
	$POST = explode("-ids-", $_POST['onChssasubewpages']);

	if($has_error >= '1'){} else {
		$new_db = fopen("system/engine_configs".$db_name_multi."/webshop_page_settings.php", "w");
		$data = "<?php\n";
		$data .="\$mvcore['wshop_page1'] = \"".$POST[0]."\";\n";
		$data .="\$mvcore['wshop_page2'] = \"".$POST[1]."\";\n";
		$data .="\$mvcore['wshop_page3'] = \"".$POST[2]."\";\n";
		$data .="\$mvcore['wshop_page4'] = \"".$POST[3]."\";\n";
		$data .="\$mvcore['wshop_page5'] = \"".$POST[4]."\";\n";
		$data .="\$mvcore['wshop_page6'] = \"".$POST[5]."\";\n";
		$data .="\$mvcore['wshop_page7'] = \"".$POST[6]."\";\n";
		$data .="\$mvcore['wshop_page8'] = \"".$POST[7]."\";\n";
		$data .="\$mvcore['wshop_page9'] = \"".$POST[8]."\";\n";
		$data .="\$mvcore['wshop_page10'] = \"".$POST[9]."\";\n";
		$data .="\$mvcore['wshop_page11'] = \"".$POST[10]."\";\n";
		$data .="\$mvcore['wshop_page12'] = \"".$POST[11]."\";\n";
		$data .="\$mvcore['wshop_page13'] = \"".$POST[12]."\";\n";
		$data .="\$mvcore['wshop_page14'] = \"".$POST[13]."\";\n";
		$data .="\$mvcore['wshop_page15'] = \"".$POST[14]."\";\n";
		$data .="\$mvcore['wshop_page16'] = \"".$POST[15]."\";\n";
		$data .="\$mvcore['wshop_default'] = \"".$POST[16]."\";\n";
		$data .="?>";
		fwrite($new_db,$data); fclose($new_db); chmod("system/engine_configs".$db_name_multi."/webshop_page_settings.php", 0777);
		
		echo'<script>$.jGrowl("Settings successfully saved.", { header: "<font color=green>Success</font>" });</script>';
	}
	exit;
}
?>
<?php
if(isset($_POST['costcredtozena'])) { // Webshop pages

	$new_db = fopen("system/engine_configs".$db_name_multi."/item_buy_with_zen.php", "w");
	$data = "<?php\n";
	$data .="\$mvcore['it_zen_buy_with'] = \"".$_POST['costcredtozena']."\";\n";
	$data .="?>";
	fwrite($new_db,$data); fclose($new_db); chmod("system/engine_configs".$db_name_multi."/item_buy_with_zen.php", 0777);
	
	echo'<script>$.jGrowl("Settings successfully saved.", { header: "<font color=green>Success</font>" });</script>';
	
	exit;
}
?>
<?php
if(isset($_POST['costcredtocredaa'])) { // Webshop pages
	
	
	$new_db = fopen("system/engine_configs".$db_name_multi."/item_buy_with_credits.php", "w");
	$data = "<?php\n";
	$data .="\$mvcore['it_credits_buy_with'] = \"".$_POST['costcredtocredaa']."\";\n";
	$data .="?>";
	fwrite($new_db,$data); fclose($new_db); chmod("system/engine_configs".$db_name_multi."/item_buy_with_credits.php", 0777);
	
	echo'<script>$.jGrowl("Settings successfully saved.", { header: "<font color=green>Success</font>" });</script>';
	
	exit;
}
?>
<?php
if(isset($_POST['optfeeww'])) { // Webshop Query pages
	
	
	$new_db = fopen("system/engine_configs".$db_name_multi."/item_max_level.php", "w");
	$data = "<?php\n";
	$data .="\$mvcore['it_max_lev'] = \"".$_POST['optfeeww']."\";\n";
	$data .="?>";
	fwrite($new_db,$data); fclose($new_db);  chmod("system/engine_configs".$db_name_multi."/item_max_level.php", 0777);
	
	echo'<script>$.jGrowl("Settings successfully saved.", { header: "<font color=green>Success</font>" });</script>';
	
	exit;
}
?>
<?php
if(isset($_POST['htthyymnetr'])) { // Webshop Query pages
	
	
	$new_db = fopen("system/engine_configs".$db_name_multi."/item_max_ad_opt.php", "w");
	$data = "<?php\n";
	$data .="\$mvcore['max_ad_opt_jof'] = \"".$_POST['htthyymnetr']."\";\n";
	$data .="?>";
	fwrite($new_db,$data); fclose($new_db);  chmod("system/engine_configs".$db_name_multi."/item_max_ad_opt.php", 0777);
	
	echo'<script>$.jGrowl("Settings successfully saved.", { header: "<font color=green>Success</font>" });</script>';
	
	exit;
}
?>
<?php
if(isset($_POST['dssadqwqwq'])) { // Webshop Query pages

	$POST = explode("-ids-", $_POST['dssadqwqwq']);
	
	$new_db = fopen("system/engine_configs".$db_name_multi."/max_excellent_options.php", "w");
	$data = "<?php\n";
	$data .="\$mvcore['max_exc_opt'] = \"".$POST[0]."\";\n";
	$data .="\$mvcore['wing_max_exc_opt'] = \"".$POST[1]."\";\n";
	$data .="?>";
	fwrite($new_db,$data); fclose($new_db);  chmod("system/engine_configs".$db_name_multi."/max_excellent_options.php", 0777);
	
	echo'<script>$.jGrowl("Settings successfully saved.", { header: "<font color=green>Success</font>" });</script>';
	
	exit;
}
?>
<?php
if(isset($_POST['dssawdsdqqwq'])) { // Webshop Query pages

	$new_db = fopen("system/engine_configs".$db_name_multi."/max_socket_options.php", "w");
	$data = "<?php\n";
	$data .="\$mvcore['max_sock_opt'] = \"".$_POST['dssawdsdqqwq']."\";\n";
	$data .="?>";
	fwrite($new_db,$data); fclose($new_db);  chmod("system/engine_configs".$db_name_multi."/max_socket_options.php", 0777);
	
	echo'<script>$.jGrowl("Settings successfully saved.", { header: "<font color=green>Success</font>" });</script>';
	
	exit;
}
?>
<?php	
if(isset($_POST['shcedsa'])) { // Webshop Query pages

	$replQuery = str_replace("\\","'",$_POST['shcedsa']);
	
	//Checking For Admin Account Validation Check.
	$useracc = $_SESSION['username']; // Get Loged In Username 
	
	$get_adminfo_data= mssql_query("Select admincp from ".$mvcore_medb_i." where memb___id ='".$useracc."'");
	$get_adminfo_out= mssql_fetch_row($get_adminfo_data); // Character Data
	
	//Log Create For Debuging.
	define("LOG_FILE_QueryExecute", "system/engine_logs/QueryExecute.log"); // Log Save
	error_log(date('[Y-m-d H:i e] '). "Username: ".$useracc." & IP: ".$_SERVER['REMOTE_ADDR']." - '".$replQuery."'". PHP_EOL, 3, LOG_FILE_QueryExecute);

	if($get_adminfo_out[0] == '1') {
		if(substr($_POST['shcedsa'], 0, 6) == 'select' || substr($_POST['shcedsa'], 0, 6) == 'Select' || substr($_POST['shcedsa'], 0, 6) == 'sELECT' || substr($_POST['shcedsa'], 0, 6) == 'SELECT'){
		
		$runqe = mssql_query($replQuery);
			
			echo'<div class="widget"><div class="whead"><h6>Select Result</h6></div><table class="tDefault" cellpadding="0" cellspacing="0" width="100%"><tbody>';
			for ($i = 0; $i < mssql_num_rows($runqe); ++$i) {
				$quary_dropa = mssql_fetch_row($runqe);
				
				if(!$quary_dropa[0] == '' || strlen($quary_dropa[0]) > '0'){ $extrac1_1 = "<td>"; $extrac1_2 = "</td>"; };
				if(!$quary_dropa[1] == '' || strlen($quary_dropa[1]) > '0'){ $extrac2_1 = "<td>"; $extrac2_2 = "</td>"; };
				if(!$quary_dropa[2] == '' || strlen($quary_dropa[2]) > '0'){ $extrac3_1 = "<td>"; $extrac3_2 = "</td>"; };
				if(!$quary_dropa[3] == '' || strlen($quary_dropa[3]) > '0'){ $extrac4_1 = "<td>"; $extrac4_2 = "</td>"; };
				if(!$quary_dropa[4] == '' || strlen($quary_dropa[4]) > '0'){ $extrac5_1 = "<td>"; $extrac5_2 = "</td>"; };
				if(!$quary_dropa[5] == '' || strlen($quary_dropa[5]) > '0'){ $extrac6_1 = "<td>"; $extrac6_2 = "</td>"; };
				if(!$quary_dropa[6] == '' || strlen($quary_dropa[6]) > '0'){ $extrac7_1 = "<td>"; $extrac7_2 = "</td>"; };
				if(!$quary_dropa[7] == '' || strlen($quary_dropa[7]) > '0'){ $extrac8_1 = "<td>"; $extrac8_2 = "</td>"; };
				if(!$quary_dropa[8] == '' || strlen($quary_dropa[8]) > '0'){ $extrac9_1 = "<td>"; $extrac9_2 = "</td>"; };
				if(!$quary_dropa[9] == '' || strlen($quary_dropa[9]) > '0'){ $extrac10_1 = "<td>"; $extrac10_2 = "</td>"; };
				if(!$quary_dropa[10] == '' || strlen($quary_dropa[10]) > '0'){ $extrac11_1 = "<td>"; $extrac11_2 = "</td>"; };
				if(!$quary_dropa[11] == '' || strlen($quary_dropa[11]) > '0'){ $extrac12_1 = "<td>"; $extrac12_2 = "</td>"; };
				if(!$quary_dropa[12] == '' || strlen($quary_dropa[12]) > '0'){ $extrac13_1 = "<td>"; $extrac13_2 = "</td>"; };
				if(!$quary_dropa[13] == '' || strlen($quary_dropa[13]) > '0'){ $extrac14_1 = "<td>"; $extrac14_2 = "</td>"; };
				if(!$quary_dropa[14] == '' || strlen($quary_dropa[14]) > '0'){ $extrac15_1 = "<td>"; $extrac15_2 = "</td>"; };
				if(!$quary_dropa[15] == '' || strlen($quary_dropa[15]) > '0'){ $extrac16_1 = "<td>"; $extrac16_2 = "</td>"; };
				if(!$quary_dropa[16] == '' || strlen($quary_dropa[16]) > '0'){ $extrac17_1 = "<td>"; $extrac17_2 = "</td>"; };
				if(!$quary_dropa[17] == '' || strlen($quary_dropa[17]) > '0'){ $extrac18_1 = "<td>"; $extrac18_2 = "</td>"; };
				if(!$quary_dropa[18] == '' || strlen($quary_dropa[18]) > '0'){ $extrac19_1 = "<td>"; $extrac19_2 = "</td>"; };
				if(!$quary_dropa[19] == '' || strlen($quary_dropa[19]) > '0'){ $extrac20_1 = "<td>"; $extrac20_2 = "</td>"; };
				if(!$quary_dropa[20] == '' || strlen($quary_dropa[20]) > '0'){ $extrac21_1 = "<td>"; $extrac21_2 = "</td>"; };
				
				echo '<tr>
					'.$extrac1_1.''.$quary_dropa[0].''.$extrac1_2.' 
					'.$extrac2_1.''.$quary_dropa[1].''.$extrac2_2.' 
					'.$extrac3_1.''.$quary_dropa[2].''.$extrac3_2.' 
					'.$extrac4_1.''.$quary_dropa[3].''.$extrac4_2.' 
					'.$extrac5_1.''.$quary_dropa[4].''.$extrac5_2.' 
					'.$extrac6_1.''.$quary_dropa[5].''.$extrac6_2.' 
					'.$extrac7_1.''.$quary_dropa[6].''.$extrac7_2.' 
					'.$extrac8_1.''.$quary_dropa[7].''.$extrac8_2.' 
					'.$extrac9_1.''.$quary_dropa[8].''.$extrac9_2.' 
					'.$extrac10_1.''.$quary_dropa[9].''.$extrac10_2.' 
					'.$extrac11_1.''.$quary_dropa[10].''.$extrac11_2.' 
					'.$extrac12_1.''.$quary_dropa[11].''.$extrac12_2.' 
					'.$extrac13_1.''.$quary_dropa[12].''.$extrac13_2.' 
					'.$extrac14_1.''.$quary_dropa[13].''.$extrac14_2.' 
					'.$extrac15_1.''.$quary_dropa[14].''.$extrac15_2.' 
					'.$extrac16_1.''.$quary_dropa[15].''.$extrac16_2.' 
					'.$extrac17_1.''.$quary_dropa[16].''.$extrac17_2.' 
					'.$extrac18_1.''.$quary_dropa[17].''.$extrac18_2.' 
					'.$extrac19_1.''.$quary_dropa[18].''.$extrac19_2.' 
					'.$extrac20_1.''.$quary_dropa[19].''.$extrac20_2.'
					'.$extrac21_1.''.$quary_dropa[20].''.$extrac21_2.'
					</tr>
				';
			}
			echo'</tbody></table></div>';
		} else {
			if(mssql_query("".$replQuery."") == true) {
				echo'<div class="widget grid6"><div class="whead"><h6>Query Result</h6><h6 style="float:right;">'.$replQuery.'</h6></div><div class="body"><h5 class="pt20" id="dsfwefew">Command(s) completed successfully.</h5></div></div>';
			} else { 
				echo'<div class="widget grid6"><div class="whead"><h6>Query Result</h6><h6 style="float:right;">'.$replQuery.'</h6></div><div class="body"><h5 class="pt20" id="dsfwefew">'.mssql_get_last_message().'</h5></div></div>';
			}
		};
	} else { echo'<div class="widget grid6"><div class="whead"><h6>Query Result</h6><h6 style="float:right;">'.$replQuery.'</h6></div><div class="body"><h5 class="pt20" id="dsfwefew" style="color:red;">Executed code was not accepted, Username: '.$useracc.' & IP: '.$_SERVER['REMOTE_ADDR'].' Saved In Log File.</h5></div></div>'; };	
	exit;
} 
?>
<?php
if(isset($_POST['onChsubwqdqwdwqdmon'])) { // Database Table Settings Credits
	
	$POST = explode("-ids-", $_POST['onChsubwqdqwdwqdmon']);

	if($has_error >= '1'){} else {
		$new_db = fopen("system/engine_configs".$db_name_multi."/Credits_table_Settings.php", "w");
		$data = "<?php\n";
		$data .="\$mvcore['credits_table'] = \"".$POST[0]."\";\n";
		$data .="\$mvcore['user_column'] = \"".$POST[1]."\";\n";
		$data .="\$mvcore['credits_column'] = \"".$POST[2]."\";\n";
		$data .="\$mvcore['credits2_column'] = \"".$POST[3]."\";\n";
		$data .="?>";
		fwrite($new_db,$data); fclose($new_db);  chmod("system/engine_configs".$db_name_multi."/Credits_table_Settings.php", 0777);
		
		echo'<script>$.jGrowl("Settings successfully saved.", { header: "<font color=green>Success</font>" });</script>';
	}
	exit;
}
?>
<?php
if(isset($_POST['onChsubwqjjertrn'])) { // Database Table Settings Gens
	
	$POST = explode("-ids-", $_POST['onChsubwqjjertrn']);

	if($has_error >= '1'){} else {
		$new_db = fopen("system/engine_configs".$db_name_multi."/Gens_table_Settings.php", "w");
		$data = "<?php\n";
		$data .="\$mvcore['gens_tab_name'] = \"".$POST[0]."\";\n";
		$data .="\$mvcore['gens_contricol_name'] = \"".$POST[1]."\";\n";
		$data .="\$mvcore['gens_famicol_name'] = \"".$POST[2]."\";\n";
		$data .="?>";
		fwrite($new_db,$data); fclose($new_db);  chmod("system/engine_configs".$db_name_multi."/Gens_table_Settings.php", 0777);
		
		echo'<script>$.jGrowl("Settings successfully saved.", { header: "<font color=green>Success</font>" });</script>';
	}
	exit;
}
?>
<?php
if(isset($_POST['onChsub4h34h34h3'])) { // Database Table Settings WCoins
	
	$POST = explode("-ids-", $_POST['onChsub4h34h34h3']);

	if($has_error >= '1'){} else {
		$new_db = fopen("system/engine_configs".$db_name_multi."/wCoins_table_Settings.php", "w");
		$data = "<?php\n";
		$data .="\$mvcore['wcoins_table'] = \"".$POST[0]."\";\n";
		$data .="\$mvcore['guid_column'] = \"".$POST[1]."\";\n";
		$data .="\$mvcore['wcoins_column'] = \"".$POST[2]."\";\n";
		$data .="?>";
		fwrite($new_db,$data); fclose($new_db);  chmod("system/engine_configs".$db_name_multi."/wCoins_table_Settings.php", 0777);
		
		echo'<script>$.jGrowl("Settings successfully saved.", { header: "<font color=green>Success</font>" });</script>';
	}
	exit;
}
?>
<?php
if(isset($_POST['tableSkillTree'])) { // Database Table Settings WCoins
	
	$POST = explode("-ids-", $_POST['tableSkillTree']);

	if($has_error >= '1'){} else {
		$new_db = fopen("system/engine_configs".$db_name_multi."/SkillTree_table_Settings.php", "w");
		$data = "<?php\n";
		$data .="\$mvcore['skilltree_table'] = \"".$POST[0]."\";\n";
		$data .="\$mvcore['skilltree_userntable'] = \"".$POST[1]."\";\n";
		$data .="\$mvcore['skilltree_column'] = \"".$POST[2]."\";\n";
		$data .="\$mvcore['skilltree_col_level'] = \"".$POST[3]."\";\n";
		$data .="\$mvcore['skilltree_col_points'] = \"".$POST[4]."\";\n";
		$data .="\$mvcore['skilltree_skill_table'] = \"".$POST[5]."\";\n";
		$data .="\$mvcore['skilltree_skill_userntable'] = \"".$POST[6]."\";\n";
		$data .="\$mvcore['skilltree_skill_column'] = \"".$POST[7]."\";\n";
		
		$data .="?>";
		fwrite($new_db,$data); fclose($new_db);  chmod("system/engine_configs".$db_name_multi."/SkillTree_table_Settings.php", 0777);
		
		echo'<script>$.jGrowl("Settings successfully saved.", { header: "<font color=green>Success</font>" });</script>';
	}
	exit;
}
?>
<?php
if(isset($_POST['FriendSystemsett'])) { // Friend System Save
	
	$POST = explode("-ids-", $_POST['FriendSystemsett']);

	if($has_error >= '1'){} else {
		$new_db = fopen("system/engine_configs".$db_name_multi."/Friend_System_settings.php", "w");
		$data = "<?php\n";
		$data .="\$mvcore['friend_sys_reward'] = \"".$POST[0]."\";\n";
		$data .="\$mvcore['friend_sys_inv_rew'] = \"".$POST[1]."\";\n";
		$data .="\$mvcore['friend_sys_limit'] = \"".$POST[2]."\";\n";
		$data .="\$mvcore['friend_sys_level_tgw'] = \"".$POST[3]."\";\n";
		$data .="\$mvcore['friend_sys_reset_tgw'] = \"".$POST[4]."\";\n";
		$data .="?>";
		fwrite($new_db,$data); fclose($new_db);  chmod("system/engine_configs".$db_name_multi."/Friend_System_settings.php", 0777);
		
		echo'<script>$.jGrowl("Settings successfully saved.", { header: "<font color=green>Success</font>" });</script>';
	}
	exit;
}
?>
<?php
if(isset($_POST['mysponsorsettasd'])) { // My Sponsor Save
	
	$POST = explode("-ids-", $_POST['mysponsorsettasd']);

	if($has_error >= '1'){} else {
		$new_db = fopen("system/engine_configs".$db_name_multi."/My_Sponsor_settings.php", "w");
		$data = "<?php\n";
		$data .="\$mvcore['ms_day_limit'] = \"".$POST[0]."\";\n";
		$data .="?>";
		fwrite($new_db,$data); fclose($new_db);  chmod("system/engine_configs".$db_name_multi."/My_Sponsor_settings.php", 0777);
		
		echo'<script>$.jGrowl("Settings successfully saved.", { header: "<font color=green>Success</font>" });</script>';
	}
	exit;
}
?>
<?php
if(isset($_POST['itemhidesett'])) { // Database Table Settings WCoins
	
	$POST = explode("-ids-", $_POST['itemhidesett']);

	if($has_error >= '1'){} else {
		$new_db = fopen("system/engine_configs".$db_name_multi."/item_hide_settings.php", "w");
		$data = "<?php\n";
		$data .="\$mvcore['hide_iInfo_cost'] = \"".$POST[0]."\";\n";
		$data .="\$mvcore['hide_disc_perc'] = \"".$POST[1]."\";\n";
		$data .="\$mvcore['hide_iffe_imd'] = \"".$POST[2]."\";\n";
		$data .="?>";
		fwrite($new_db,$data); fclose($new_db);  chmod("system/engine_configs".$db_name_multi."/item_hide_settings.php", 0777);
		
		echo'<script>$.jGrowl("Settings successfully saved.", { header: "<font color=green>Success</font>" });</script>';
	}
	exit;
}
?>
<?php
if(isset($_POST['scrambleevensett'])) { // Scramble Event
	
	$POST = explode("-ids-", $_POST['scrambleevensett']);

	if($has_error >= '1'){} else {
		$new_db = fopen("system/engine_configs".$db_name_multi."/scramble_event_settings.php", "w");
		$data = "<?php\n";
		$data .="\$mvcore['scramble_mlevel'] = \"".$POST[0]."\";\n";
		$data .="\$mvcore['scramble_nreward'] = \"".$POST[1]."\";\n";
		$data .="\$mvcore['scramble_grandrew'] = \"".$POST[2]."\";\n";
		$data .="\$mvcore['scramble_lvldel'] = \"".$POST[3]."\";\n";
		$data .="\$mvcore['scramble_starts'] = \"".$POST[4]."\";\n";
		$data .="\$mvcore['scramble_starts_int'] = \"".$POST[5]."\";\n";
		$data .="\$mvcore['scramble_start_timer'] = \"".$POST[6]."\";\n";
		$data .="?>";
		fwrite($new_db,$data); fclose($new_db);  chmod("system/engine_configs".$db_name_multi."/scramble_event_settings.php", 0777);
		
		echo'<script>$.jGrowl("Settings successfully saved.", { header: "<font color=green>Success</font>" });</script>';
	}
	exit;
}
?>
<?php
if(isset($_POST['castleregsett'])) { // Database Table Settings WCoins
	
	$POST = explode("-ids-", $_POST['castleregsett']);

	if($has_error >= '1'){} else {
		$new_db = fopen("system/engine_configs".$db_name_multi."/caslte_siege_settings.php", "w");
		$data = "<?php\n";
		$data .="\$mvcore['regs_cost'] = \"".$POST[0]."\";\n";
		$data .="?>";
		fwrite($new_db,$data); fclose($new_db);  chmod("system/engine_configs".$db_name_multi."/caslte_siege_settings.php", 0777);
		
		echo'<script>$.jGrowl("Settings successfully saved.", { header: "<font color=green>Success</font>" });</script>';
	}
	exit;
}
?>
<?php
if(isset($_POST['sklinksubmitIDsa'])) { // Webshop socket ADD Manage

	$POST = explode("-ids-", $_POST['sklinksubmitIDsa']);
	
		if(clean_variable($POST[1]) == '') { $has_error = '1'; };

	if($has_error >= '1'){} else {
		//Update when something changed.
		$run = mssql_query("INSERT INTO MVCore_Wshopp_Socket (sok_id,sok_name,type,sok_cost,sok_element,sok_on_off) VALUES ('".$POST[0]."','".$POST[1]."','".$POST[2]."','".$POST[3]."','".$POST[4]."','1')");
		echo'<script>$.jGrowl("Socket successfully added", { header: "<font color=green>Success</font>" });</script>';
	}
	exit;
}
?>
<?php
if(isset($_POST['sklinksubmitID'])) { // Webshop socket EDIT Manage

	$POST = explode("-ids-", $_POST['sklinksubmitID']);
	
		if(clean_variable($POST[1]) == '') { $has_error = '1'; };

	if($has_error >= '1'){} else {
		//Update when something changed.
		$run = mssql_query("update MVCore_Wshopp_Socket set sok_on_off = '".clean_variable($POST[5])."', sok_id ='".clean_variable($POST[1])."', sok_name ='".clean_variable($POST[2])."', type ='".clean_variable($POST[3])."', sok_cost ='".clean_variable($POST[4])."' where sok_id = '".$POST[0]."'");
		echo'<script>$.jGrowl("Socket data successfully saved", { header: "<font color=green>Success</font>" });</script>';
	}
	exit;
}
?>
<?php
if(isset($_POST['sklinksubmitdellID'])) { // Webshop socket DELETE Manage

	if($has_error >= '1'){} else {
		//Update when something changed.
		$run = mssql_query("delete from MVCore_Wshopp_Socket where sok_id = '".$_POST['sklinksubmitdellID']."'");
		echo'<script>$.jGrowl("Socket successfully deleted", { header: "<font color=green>Success</font>" });</script>';
	}
	exit;
}
?>
<?php
if(isset($_POST['submitharbuttonadd'])) { // Webshop Harmony ADD Manage

	$POST = explode("-ids-", $_POST['submitharbuttonadd']);

	if($has_error >= '1'){} else {
		//Update when something changed.	
		$run = mssql_query("INSERT INTO MVCore_Wshopp_Harmony (joh_id,joh_val,joh_name,joh_type,joh_cost,joh_onoff) VALUES ('".$POST[0]."','".$POST[1]."','".$POST[2]."','".$POST[3]."','".$POST[4]."','1')");
		echo'<script>$.jGrowl("Harmony successfully added", { header: "<font color=green>Success</font>" });</script>';
	}
	exit;
}
?>
<?php
if(isset($_POST['harrlinksubmitID'])) { // Webshop Harmony EDIT Manage

	$POST = explode("-ids-", $_POST['harrlinksubmitID']);

	if($has_error >= '1'){} else {
		//Update when something changed.
		$runas = mssql_query("update MVCore_Wshopp_Harmony set joh_onoff ='".clean_variable($POST[7])."', joh_id ='".clean_variable($POST[3])."', joh_val ='".clean_variable($POST[4])."', joh_name ='".clean_variable($POST[5])."', joh_cost ='".clean_variable($POST[6])."' where joh_type ='".$POST[2]."' and joh_id = '".$POST[0]."' and joh_val = '".$POST[1]."'");
		echo'<script>$.jGrowl("Harmony data successfully saved", { header: "<font color=green>Success</font>" });</script>';
	}
	exit;
}
?>
<?php
if(isset($_POST['harrlinksubmitdellID'])) { // Webshop Harmony DELETE Manage

	$POST = explode("-ids-", $_POST['harrlinksubmitdellID']);
	
	if($has_error >= '1'){} else {
		//Update when something changed.
		$run = mssql_query("delete from MVCore_Wshopp_Harmony where joh_id = '".$POST[0]."' and joh_val = '".$POST[1]."'");
		echo'<script>$.jGrowl("Harmony successfully deleted", { header: "<font color=green>Success</font>" });</script>';
	}
	exit;
}
?>
<?php
if(isset($_POST['itemSaveButtonadas'])) { // Webshop Item ADD Manage

	$POST = explode("-ids-", $_POST['itemSaveButtonadas']);
		
	if($has_error >= '1'){} else {
			//Update when something changed.	
			$run = mssql_query("INSERT INTO MVCore_Wshopp (item_name, id, category, x, y, can_buy, item_cost, has_luck, has_skill, has_refinery, is_ancient, equip_level, durability, clases, is_harmony, is_socket, max_excellent, zen_cost, max_level, can_buy_w_money1, can_buy_w_money2, can_buy_w_zen, bought_count) VALUES ('".$POST[0]."','".$POST[1]."','".$POST[2]."','".$POST[3]."','".$POST[4]."','".$POST[5]."','".$POST[6]."','".$POST[7]."','".$POST[8]."','".$POST[9]."','".$POST[10]."','".$POST[11]."','".$POST[12]."','".$POST[13]."','".$POST[14]."','".$POST[15]."','".$mvcore['max_exc_opt']."','1','".$mvcore['it_max_lev']."','1','1','1','0')");
			
			//echo"INSERT INTO MVCore_Wshopp (item_name, id, category, x, y, can_buy, item_cost, has_luck, has_skill, has_refinery, is_ancient, equip_level, durability, clases, is_harmony, is_socket, max_excellent, zen_cost, max_level, can_buy_w_money1, can_buy_w_money2, can_buy_w_zen, bought_count) VALUES ('".$POST[0]."','".$POST[1]."','".$POST[2]."','".$POST[3]."','".$POST[4]."','".$POST[5]."','".$POST[6]."','".$POST[7]."','".$POST[8]."','".$POST[9]."','".$POST[10]."','".$POST[11]."','".$POST[12]."','".$POST[13]."','".$POST[14]."','".$POST[15]."','".$mvcore['max_exc_opt']."','1','".$mvcore['it_max_lev']."','1','1','1','0')";
			
			echo'<script>$.jGrowl("Item successfully added", { header: "<font color=green>Success</font>" });</script>';
	}
	exit;
}
?>
<?php
if(isset($_POST['itemSaveafulledit'])) { // Webshop Item FULL EDIT Manage

	$POST = explode("-ids-", $_POST['itemSaveafulledit']);

	if($has_error >= '1'){} else {
		//Update when something changed.
		//$anc_first_wawei = mssql_query("select name,id,cat,x,y,level,luck,skill,ad,anc,sk,refin,exc,cost,class1,class2,class3,class4,class5,class6,class7,dur,lvlreq,onsell,harmony,item_exc_type,class8 from MVCore_Wshopp  where id ='".$POST[0]."' and cat = '".$POST[1]."'");
		//$dids = mssql_fetch_row($anc_first_wawei);
		//echo''.$dids[0].'-idis-'.$dids[1].'-idis-'.$dids[2].'-idis-'.$dids[3].'-idis-'.$dids[4].'-idis-'.$dids[23].'-idis-'.$dids[13].'-idis-'.$dids[6].'-idis-'.$dids[7].'-idis-'.$dids[11].'-idis-'.$dids[9].'-idis-'.$dids[8].'-idis-'.$dids[22].'-idis-'.$dids[21].'-idis-'.$dids[14].'-idis-'.$dids[15].'-idis-'.$dids[16].'-idis-'.$dids[17].'-idis-'.$dids[18].'-idis-'.$dids[19].'-idis-'.$dids[20].'-idis-'.$dids[26].'-idis-'.$dids[24].'-idis-'.$dids[25].'';
	}
	exit;
}
?>
<?php
if(isset($_POST['itemSaveButton'])) { // Webshop Item EDIT Manage

	$POST = explode("-ids-", $_POST['itemSaveButton']);

	if($has_error >= '1'){} else {
		//Update when something changed.
		$runas = mssql_query("update MVCore_Wshopp set item_name='".clean_variable($POST[2])."',id='".clean_variable($POST[3])."',category='".clean_variable($POST[4])."',x='".clean_variable($POST[5])."',y='".clean_variable($POST[6])."',can_buy ='".clean_variable($POST[7])."',item_cost='".clean_variable($POST[8])."' where id ='".$POST[0]."' and category = '".$POST[1]."'");
		echo'<script>$.jGrowl("Item data successfully saved", { header: "<font color=green>Success</font>" });</script>';
	}
	exit;
}
?>
<?php
if(isset($_POST['itemDeleteButton'])) { // Webshop Item DELETE Manage

	$POST = explode("-ids-", $_POST['itemDeleteButton']);
	
	if($has_error >= '1'){} else {
		//Update when something changed.
		$run = mssql_query("delete from MVCore_Wshopp where id = '".$POST[0]."' and category = '".$POST[1]."'");
		echo'<script>$.jGrowl("Item successfully deleted", { header: "<font color=green>Success</font>" });</script>';
	}
	exit;
}
?>
<?php
if(isset($_POST['imgDeleteslider'])) { // Slider Img Delete

	// News delete
	unlink("".$_POST['imgDeleteslider']."");
	
	echo'<script>$.jGrowl("Image successfully deleted.", { header: "<font color=green>Success</font>" });</script>';
	
	exit;
}
?>
<?php
if(isset($_POST['sliderImgSettings'])) { // Database Table Settings WCoins
	
	$POST = explode("-ids-", $_POST['sliderImgSettings']);

	if($has_error >= '1'){} else {
		$new_db = fopen("themes/".$mvcore['theme_dir']."/MvCoreStyling/slider_image_settings.php", "w");
		$data = "<?php\n";
		$data .="\$mvcore['slider_img_main'] = \"".$POST[0]."\";\n";
		$data .="\$mvcore['slider_img_interval'] = \"".$POST[1]."\";\n";
		$data .="\$mvcore['slider_width'] = \"".$POST[2]."\";\n";
		$data .="\$mvcore['slider_height'] = \"".$POST[3]."\";\n";
		$data .="?>";
		fwrite($new_db,$data); fclose($new_db); chmod("themes/".$mvcore['theme_dir']."/MvCoreStyling/slider_image_settings.php", 0777);
		
		echo'<script>$.jGrowl("Settings successfully saved.", { header: "<font color=green>Success</font>" });</script>';
	}
	exit;
}
?>
<?php
if(isset($_POST['imgDeleteGallery'])) { // Slider Img Delete

	// News delete
	unlink("".$_POST['imgDeleteGallery']."");
	
	echo'<script>$.jGrowl("Image successfully deleted.", { header: "<font color=green>Success</font>" });</script>';
	
	exit;
}
?>
<?php
if(isset($_POST['GalleryImgSettings'])) { // Database Table Settings WCoins
	
	$POST = explode("-ids-", $_POST['GalleryImgSettings']);

	if($has_error >= '1'){} else {
		$new_db = fopen("system/engine_configs".$db_name_multi."/gallery_image_settings.php", "w");
		$data = "<?php\n";
		$data .="\$mvcore['gallery_columns'] = \"".$POST[0]."\";\n";
		$data .="\$mvcore['gallery_thumb_padding'] = \"".$POST[1]."\";\n";
		$data .="\$mvcore['gallery_thumb_width'] = \"".$POST[2]."\";\n";
		$data .="\$mvcore['gallery_thumb_height'] = \"".$POST[3]."\";\n";
		$data .="?>";
		fwrite($new_db,$data); fclose($new_db); chmod("system/engine_configs".$db_name_multi."/gallery_image_settings.php", 0777);
		
		echo'<script>$.jGrowl("Settings successfully saved.", { header: "<font color=green>Success</font>" });</script>';
	}
	exit;
}
?>
<?php
if(isset($_POST['tableStyling'])) { // Table Styling
	
	$POST = explode("-ids-", $_POST['tableStyling']);
	
	mkdir("themes/".$mvcore['theme_dir']."/MvCoreStyling", 0700);
	
	if($has_error >= '1'){} else {
		$new_db = fopen("themes/".$mvcore['theme_dir']."/MvCoreStyling/table_styling.php", "w");
		$data = "<?php\n";
		$data .="\$mvcore['table_s_padd'] = \"".$POST[0]."\";\n";
		$data .="\$mvcore['table_s_rcolc'] = \"".$POST[1]."\";\n";
		$data .="\$mvcore['table_s_talign'] = \"".$POST[2]."\";\n";
		$data .="\$mvcore['table_s_textsize'] = \"".$POST[3]."\";\n";
		$data .="\$mvcore['table_s_textcolor'] = \"".$POST[4]."\";\n";
		$data .="\$mvcore['table_s_titletalign'] = \"".$POST[5]."\";\n";
		$data .="\$mvcore['table_s_tittextsize'] = \"".$POST[6]."\";\n";
		$data .="\$mvcore['table_s_trowcolgra'] = \"".$POST[7]."\";\n";
		$data .="\$mvcore['table_s_titletextcolor'] = \"".$POST[8]."\";\n";
		$data .="\$mvcore['table_s_borcolor'] = \"".$POST[9]."\";\n";
		$data .="\$mvcore['table_s_hoverrcolc'] = \"".$POST[10]."\";\n";
		$data .="\$mvcore['table_bg_trans'] = \"".$POST[11]."\";\n";
		$data .="\$mvcore['table_bg_transhov'] = \"".$POST[12]."\";\n";
		$data .="\$mvcore['table_bg_transColor'] = \"".$POST[13]."\";\n";
		$data .="\$mvcore['table_bg_transhovColor'] = \"".$POST[14]."\";\n";
		$data .="?>";
		fwrite($new_db,$data); fclose($new_db); chmod("themes/".$mvcore['theme_dir']."/MvCoreStyling/table_styling.php", 0777);
	}
	exit;
}
?>
<?php
if(isset($_POST['buttonStyling'])) { // Button Styling
	
	$POST = explode("-ids-", $_POST['buttonStyling']);
	
	mkdir("themes/".$mvcore['theme_dir']."/MvCoreStyling", 0700);
	
	if($has_error >= '1'){} else {
		$new_db = fopen("themes/".$mvcore['theme_dir']."/MvCoreStyling/button_styling.php", "w");
		$data = "<?php\n";
		$data .="\$mvcore['button_s_textfontf'] = \"".$POST[0]."\";\n";
		$data .="\$mvcore['button_s_textbold'] = \"".$POST[1]."\";\n";
		$data .="\$mvcore['button_s_textsize'] = \"".$POST[2]."\";\n";
		$data .="\$mvcore['button_s_textcolor'] = \"".$POST[3]."\";\n";
		$data .="\$mvcore['button_s_vsize'] = \"".$POST[4]."\";\n";
		$data .="\$mvcore['button_s_hsize'] = \"".$POST[5]."\";\n";
		$data .="\$mvcore['button_s_bradius'] = \"".$POST[6]."\";\n";
		$data .="\$mvcore['button_s_bsizes'] = \"".$POST[7]."\";\n";
		$data .="\$mvcore['button_s_bordecolor'] = \"".$POST[8]."\";\n";
		$data .="\$mvcore['button_s_bgtcolor'] = \"".$POST[9]."\";\n";
		$data .="\$mvcore['button_s_bgbcolor'] = \"".$POST[10]."\";\n";
		$data .="\$mvcore['button_s_textfonttans'] = \"".$POST[11]."\";\n";
		$data .="\$mvcore['button_s_bgtcolorhover'] = \"".$POST[12]."\";\n";
		$data .="\$mvcore['button_s_bgbcolorhover'] = \"".$POST[13]."\";\n";
		$data .="\$mvcore['button_s_textcolorhover'] = \"".$POST[14]."\";\n";
		$data .="?>";
		fwrite($new_db,$data); fclose($new_db); chmod("themes/".$mvcore['theme_dir']."/MvCoreStyling/button_styling.php", 0777);
	}
	exit;
}
?>
<?php
if(isset($_POST['NewsStylinsg'])) { // News Styling
	
	$POST = explode("-ids-", $_POST['NewsStylinsg']);
	
	mkdir("themes/".$mvcore['theme_dir']."/MvCoreStyling", 0700);
	
	if($has_error >= '1'){} else {
		$new_db = fopen("themes/".$mvcore['theme_dir']."/MvCoreStyling/news_styling.php", "w");
		$data = "<?php\n";
		$data .="\$mvcore['news_s_titlealign'] = \"".$POST[0]."\";\n";
		$data .="\$mvcore['news_s_titlesize'] = \"".$POST[1]."\";\n";
		$data .="\$mvcore['news_s_titlebg'] = \"".$POST[2]."\";\n";
		$data .="\$mvcore['news_s_titlebgHover'] = \"".$POST[3]."\";\n";
		$data .="\$mvcore['news_s_dtextcolor'] = \"".$POST[4]."\";\n";
		$data .="\$mvcore['news_s_dateColor'] = \"".$POST[5]."\";\n";
		$data .="\$mvcore['news_s_bgcolor'] = \"".$POST[6]."\";\n";
		$data .="\$mvcore['news_s_titletextcolor'] = \"".$POST[7]."\";\n";
		$data .="\$mvcore['news_s_bradous'] = \"".$POST[8]."\";\n";
		$data .="\$mvcore['news_s_bsize'] = \"".$POST[9]."\";\n";
		$data .="\$mvcore['news_s_bordcolor'] = \"".$POST[10]."\";\n";
		$data .="\$mvcore['news_bg_trans'] = \"".$POST[11]."\";\n";
		$data .="\$mvcore['news_bg_transColor'] = \"".$POST[12]."\";\n";
		$data .="\$mvcore['news_s_titlebg2Trans'] = \"".$POST[13]."\";\n";
		$data .="\$mvcore['news_s_titlebgTrans'] = \"".$POST[14]."\";\n";
		$data .="\$mvcore['news_title_bg_trans'] = \"".$POST[15]."\";\n";
		
		$data .="?>";
		fwrite($new_db,$data); fclose($new_db); chmod("themes/".$mvcore['theme_dir']."/MvCoreStyling/news_styling.php", 0777);
	}
	exit;
}
?>
<?php
if(isset($_POST['InputSelectStyling'])) { // Input Styling
	
	$POST = explode("-ids-", $_POST['InputSelectStyling']);
	
	mkdir("themes/".$mvcore['theme_dir']."/MvCoreStyling", 0700);
	
	if($has_error >= '1'){} else {
		$new_db = fopen("themes/".$mvcore['theme_dir']."/MvCoreStyling/input_select_styling.php", "w");
		$data = "<?php\n";
		$data .="\$mvcore['inpSelec_s_bradius'] = \"".$POST[0]."\";\n";
		$data .="\$mvcore['inpSelec_s_bsizes'] = \"".$POST[1]."\";\n";
		$data .="\$mvcore['inpSelec_s_borcolor'] = \"".$POST[2]."\";\n";
		$data .="\$mvcore['inpSelec_s_bgcolor'] = \"".$POST[3]."\";\n";
		$data .="\$mvcore['inpSelec_s_bgcoloractiv'] = \"".$POST[4]."\";\n";
		$data .="\$mvcore['inpSelec_s_textfontf'] = \"".$POST[5]."\";\n";
		$data .="\$mvcore['inpSelec_s_textsize'] = \"".$POST[6]."\";\n";
		$data .="\$mvcore['inpSelec_s_textcolor'] = \"".$POST[7]."\";\n";
		$data .="\$mvcore['inpSelec_s_textcoloractiv'] = \"".$POST[8]."\";\n";
		$data .="\$mvcore['inpSelect_bg_transColor'] = \"".$POST[9]."\";\n";
		$data .="\$mvcore['inpSelect_bg_transHoverColor'] = \"".$POST[10]."\";\n";
		$data .="\$mvcore['inpSelect_bg_trans'] = \"".$POST[11]."\";\n";
		$data .="\$mvcore['inpSelect_bg_transHover'] = \"".$POST[12]."\";\n";
		$data .="\$mvcore['inpSelec_s_vsize'] = \"".$POST[13]."\";\n";
		$data .="\$mvcore['inpSelec_s_hsize'] = \"".$POST[14]."\";\n";
		$data .="?>";
		fwrite($new_db,$data); fclose($new_db); chmod("themes/".$mvcore['theme_dir']."/MvCoreStyling/input_select_styling.php", 0777);
	}
	exit;
}
?>
<?php
if(isset($_POST['webshopStyleDiv'])) { // Webshop Styling
	
	$POST = explode("-ids-", $_POST['webshopStyleDiv']);
	
	mkdir("themes/".$mvcore['theme_dir']."/MvCoreStyling", 0700);
	
	if($has_error >= '1'){} else {
		$new_db = fopen("themes/".$mvcore['theme_dir']."/MvCoreStyling/webshop_styling.php", "w");
		$data = "<?php\n";
		$data .="\$mvcore['webshop_s_menuposi'] = \"".$POST[0]."\";\n";
		$data .="\$mvcore['webshop_s_borderradi'] = \"".$POST[1]."\";\n";
		$data .="\$mvcore['webshop_s_textsize'] = \"".$POST[2]."\";\n";
		$data .="\$mvcore['webshop_s_textfontfami'] = \"".$POST[3]."\";\n";
		$data .="\$mvcore['webshop_s_textcolor'] = \"".$POST[4]."\";\n";
		$data .="\$mvcore['webshop_s_bgcolor'] = \"".$POST[5]."\";\n";
		$data .="\$mvcore['webshop_s_itembgcolor'] = \"".$POST[6]."\";\n";
		$data .="\$mvcore['webshop_s_itembgcolordivi'] = \"".$POST[7]."\";\n";
		$data .="\$mvcore['webshop_bg_transColor1'] = \"".$POST[8]."\";\n";
		$data .="\$mvcore['webshop_bg_transColor2'] = \"".$POST[9]."\";\n";
		$data .="\$mvcore['webshop_bg_transColor3'] = \"".$POST[10]."\";\n";
		$data .="\$mvcore['webshop_bg_trans'] = \"".$POST[11]."\";\n";
		$data .="\$mvcore['webshop_bg_transMenu'] = \"".$POST[12]."\";\n";
		$data .="?>";
		fwrite($new_db,$data); fclose($new_db); chmod("themes/".$mvcore['theme_dir']."/MvCoreStyling/webshop_styling.php", 0777);
	}
	exit;
}
?>
<?php
if(isset($_POST['gamePanelStylingsim'])) { // Webshop Styling
	
	$POST = explode("-ids-", $_POST['gamePanelStylingsim']);
	
	mkdir("themes/".$mvcore['theme_dir']."/MvCoreStyling", 0700);
	
	if($has_error >= '1'){} else {
		$new_db = fopen("themes/".$mvcore['theme_dir']."/MvCoreStyling/game_panel_styling.php", "w");
		$data = "<?php\n";
		$data .="\$mvcore['gp_s_borradiu'] = \"".$POST[0]."\";\n";
		$data .="\$mvcore['gp_s_borsize'] = \"".$POST[1]."\";\n";
		$data .="\$mvcore['gp_s_borcolor'] = \"".$POST[2]."\";\n";
		$data .="\$mvcore['gp_s_ltextsize'] = \"".$POST[3]."\";\n";
		$data .="\$mvcore['gp_s_ltextcolor'] = \"".$POST[4]."\";\n";
		$data .="\$mvcore['gp_s_bgcolor'] = \"".$POST[7]."\";\n";
		$data .="\$mvcore['gameP_bg_transColor'] = \"".$POST[8]."\";\n";
		$data .="\$mvcore['gameP_bg_trans'] = \"".$POST[9]."\";\n";
		$data .="\$mvcore['gp_s_width'] = \"".$POST[10]."\";\n";
		$data .="\$mvcore['gp_s_height'] = \"".$POST[11]."\";\n";
		$data .="?>";
		fwrite($new_db,$data); fclose($new_db); chmod("themes/".$mvcore['theme_dir']."/MvCoreStyling/game_panel_styling.php", 0777);
	}
	exit;
}
?>
<?php
if(isset($_POST['getUserInventory'])) { // Character Manage
if($mvcore['db_season'] >= '9') { $cvbins = '7680'; } elseif($mvcore['db_season'] == '1') { $cvbins = '1200'; } else { $cvbins = '3840'; }; // Warehouse
if($mvcore['db_season'] >= '9') { $cvbinsch = '7584'; } elseif($mvcore['db_season'] == '1') { $cvbinsch = '1080'; } else { if($mvcore['db_season'] == '8') { $cvbinsch = '3808'; } else { $cvbinsch = '3776'; }; }; // Inventory
		$sqll= mssql_query("declare @items varbinary(".$cvbinsch."); 
			set @items = (select [Inventory] from [Character] where [name]='".$_POST['getUserInventory']."');
			print @items;");
		$sqll=mssql_get_last_message();

		$sqll	= substr($sqll,2);

		if($sqll == ''){} else {

		if($mvcore['db_season'] >= '9') { $hexlen = '64'; } elseif($mvcore['db_season'] == '1') { $hexlen = '20'; } else { $hexlen = '32'; };
		if($mvcore['db_season'] >= '9') { $ilc = '480'; } elseif($mvcore['db_season'] == '1') { $ilc = '62'; } else { $ilc = '240'; };
			for( $i = 0 ; $i < $ilc ; $i++ ) {

			$item[$i]		= substr($sqll,($hexlen*$i), $hexlen);			// item Type
			$sy 			= hexdec(substr($item[$i],0,2)); 		// Item ID
			$serial 		= hexdec(substr($item[$i],6,8)); 		// Item Serial
			$itt 			= hexdec(substr($item[$i],18,2)); 		// Item Type
			$itemtype 		= floor($itt/16);						// Item Type Fix
			$iop 			= hexdec(substr($item[$i],2,2)); 		// Item Level/Skill/Option Data
			$itemdur		= hexdec(substr($item[$i],4,2)); 		// Item Durability
			$ioo 			= hexdec(substr($item[$i],14,2)); 		// Item Excellent Info/ Option
			$ioosecon 		= hexdec(substr($item[$i],14,1)); 		// AD option 1 2 3 4 5 6 7
			$ac 			= hexdec(substr($item[$i],16,2)); 		// Ancient data

			$item_socket[1] = hexdec(substr($item[$i],22,2)); 		// Socket 1
			$item_socket[2] = hexdec(substr($item[$i],24,2)); 		// Socket 2
			$item_socket[3] = hexdec(substr($item[$i],26,2)); 		// Socket 3
			$item_socket[4] = hexdec(substr($item[$i],28,2));		// Socket 4
			$item_socket[5] = hexdec(substr($item[$i],30,2)); 		// Socket 5

			$item_harmony 	= hexdec(substr($item[$i],20,1)); 		// Item harmony
			$item_harm_val 	= hexdec(substr($item[$i],21,1)); 		// Item harmony Value
			$item_refinary 	= hexdec(substr($item[$i],19,1)); 		// Item Refinery
		
		if($mvcore['db_season'] == '1') {
			$type = hexdec(substr($item[$i], 0,2))/32; // Category
			$ioo = hexdec(substr($item[$i], 14,2)); // Excelent
			$ids = hexdec(substr($item[$i], 0,2));	$idss = $ids / 32; $syfd = $ids - (floor($idss) * 32); //ID Algoritm
			if($ioo >= 128) { $ioo = $ioo - 128; $type = $type + 8; }; $itemtype = round($type); $sy = floor($syfd);
		};
		
			include"system/engine_s_fnc.php";
			
			$drop_item_info ='<table><tr valign=top><td><img src=system/engine_images/webshop/item_images/'.$itemtype.'/'.$sy.'.gif><br>'.$iname.' '.$item_has_def.''.$item_has_dmg.''.$item_need_dur.''.$item_need_level.''.$item_class_need.''.$other_item_infos.''.$fenrir.'<font color=#cc7fcc>'.$ref.'</font>'.$joh_info_drop.'<font color=#7fb2ff>'.$skill.''.$luck.''.$itemoptionname.''.$itemoptionnamess.''.$db_item_info.''.$itemoptionnames.''.$anc_option.'</font><font color=#ff19ff>'.$socketinfos.'</font>'.$sok_info_drop1.''.$sok_info_drop2.''.$sok_info_drop3.''.$sok_info_drop4.''.$sok_info_drop5.'</td></tr></table>';

			$show_on_off = 'onMouseover="ddrivetip(\''.$drop_item_info.'\')" onMouseout="hideddrivetip()"';

			if($mvcore['db_season'] >= '9') { $hexlens = 'FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF'; } elseif($mvcore['db_season'] == '1') { $hexlens = 'FFFFFFFFFFFFFFFFFFFF'; } else { $hexlens = 'FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF'; };
			
				if($item[$i] == $hexlens || $item[$i] == ''){ } else {
					list($Imgwidth[$i], $Imgheight[$i], $Imgtype, $Imgattr) = getimagesize("system/engine_images/webshop/item_images/".$itemtype."/".$sy.".gif");
					if($Imgwidth[$i] > '130') { $imgNewWith[$i] = 'width="130px"'; }
					if($Imgheight[$i] > '130') { $imgNewhegh[$i] = 'height="130px"'; }
					
					echo'				
						<a href="#" title="" class="lightbox" style="width:130px;height:130px;" '.$show_on_off.' ><img src="system/engine_images/webshop/item_images/'.$itemtype.'/'.$sy.'.gif" '.$imgNewWith[$i].' '.$imgNewhegh[$i].' alt=""></a>
					';
				}
			}
		}
	exit;
}
?>
<?php
if(isset($_POST['addannnon'])) { // Announce Manage

	$POST = explode("-ids-", $_POST['addannnon']);
	
	$echtest_fix = stripslashes($POST[2]);
	$content_refix = htmlentities($echtest_fix);
	
	if($POST[1] == '0'){
		$calculate_Expire = $POST[3] + 1000000000;
	} else {
		$calculate_Expire = $POST[3] + $POST[1];
	};
	
	if($has_error >= '1'){} else {
		$new_db = fopen("system/engine_annou".$db_name_multi_annon."/".$calculate_Expire.".txt", "w");
		$data ="".$POST[0]."-ids-".$content_refix."";
		fwrite($new_db,$data); fclose($new_db); chmod("system/engine_annou".$db_name_multi_annon."/".$calculate_Expire.".txt", 0777);
		
		echo'<script>$.jGrowl("Announce successfully added.", { header: "<font color=green>Success</font>" });</script>';
	}
	exit;
}
?>
<?php
if(isset($_POST['anonsettings'])) { // Announce Styling
	
	$POST = explode("-ids-", $_POST['anonsettings']);
	
	if($has_error >= '1'){} else {
		$new_db = fopen("system/engine_configs".$db_name_multi."/announce_settings.php", "w");
		$data = "<?php\n";
		$data .="\$mvcore['anon_shop_discount'] = \"".$POST[0]."\";\n";
		$data .="\$mvcore['anon_vote_bonus'] = \"".$POST[1]."\";\n";
		$data .="\$mvcore['siege_show_countdown'] = \"".$POST[2]."\";\n";
		$data .="\$mvcore['siege_start_time'] = \"".$POST[3]."\";\n";
		$data .="\$mvcore['siege_end_time'] = \"".$POST[4]."\";\n";
		$data .="?>";
		fwrite($new_db,$data); fclose($new_db); chmod("system/engine_configs".$db_name_multi."/announce_settings.php", 0777);
		
		echo'<script>$.jGrowl("Settings successfully saved.", { header: "<font color=green>Success</font>" });</script>';
	}
	exit;
}
?>
<?php
if(isset($_POST['delannoDas'])) { // Announce Manage

	// Announce delete
	unlink("system/engine_annou".$db_name_multi_annon."/".$_POST['delannoDas'].".txt");
	
	echo'<script>$.jGrowl("Announce file successfully deleted.", { header: "<font color=green>Success</font>" });</script>';
	
	exit;
}
?>
<?php
if(isset($_POST['topentryWebshop'])) { // Announce Styling
	
	if($has_error >= '1'){} else {
		$new_db = fopen("system/engine_configs".$db_name_multi."/top_entry_webshop_settings.php", "w");
		$data = "<?php\n";
		$data .="\$mvcore['topentryWebshop'] = \"".$_POST['topentryWebshop']."\";\n";
		$data .="?>";
		fwrite($new_db,$data); fclose($new_db); chmod("system/engine_configs".$db_name_multi."/top_entry_webshop_settings.php", 0777);
		echo'<script>$.jGrowl("Top entrie successfully saved.", { header: "<font color=green>Success</font>" });</script>';
	}
	exit;
}
?>
<?php
if(isset($_POST['get_serach_value_oc'])) { // Search Items... Manage

	$POST = explode(",", $_POST['get_serach_value_oc']);
	$itemName = $POST[0]; // Name & CAT
	$ItemID = $POST[1]; // ID
	if($ItemID == '') { $doquerec = " where (SUBSTRING(item_name, 1, ".strlen($itemName).") = '".$itemName."')"; } else { $doquerec = 'where category = "'.$itemName.'" and id="'.$ItemID.'"'; };
		if($_POST['get_serach_value_oc'] != '') { // FIX
		$anc_first_wawei = mssql_query("select top ".$mvcore['topentryWebshop']." category, id, x, y, item_name, item_cost, zen_cost, can_buy, can_buy_w_money1, can_buy_w_money2, can_buy_w_zen, bought_count from MVCore_Wshopp  ".$doquerec." order by id asc");
			for($i=0;$i < mssql_num_rows($anc_first_wawei);++$i) {
				$drop_info = mssql_fetch_row($anc_first_wawei);
					$calcIDs= ''.$drop_info[0].''.$drop_info[1].''; // << LOOL
									
									if($drop_info[7] == '1') { $isOptSelec1[$i] = 'selected'; } else { $isOptSelec1[$i] = ''; };
									if($drop_info[7] == '0') { $isOptSelec2[$i] = 'selected'; } else { $isOptSelec2[$i] = ''; };
									
								echo'
											<tr>
												<td width="250px">
													<div class="formRow">
													<input id="ori_ititem_id'.$calcIDs.'" type="hidden" value="'.$drop_info[1].'">
													<input id="ori_ititem_cat'.$calcIDs.'" type="hidden" value="'.$drop_info[0].'">
														<div class="grid9"><input id="ititem_name'.$calcIDs.'" type="text" placeholder="" value="'.$drop_info[4].'"></div>
													</div>
												</td>
												<td width="110px">
													<div class="formRow">
														<div class="grid9"><input id="ititem_id'.$calcIDs.'" type="text" placeholder="" value="'.$drop_info[1].'"></div>
													</div>
												</td>
												<td width="110px">
													<div class="formRow">
														<div class="grid9"><input id="ititem_cat'.$calcIDs.'" type="text" placeholder="" value="'.$drop_info[0].'"></div>
													</div>
												</td>
												<td width="90px">
													<div class="formRow">
														<div class="grid9"><input id="ititem_x'.$calcIDs.'" type="text" placeholder="" value="'.$drop_info[2].'"></div>
													</div>
												</td>
												<td width="90px">
													<div class="formRow">
														<div class="grid9"><input id="ititem_y'.$calcIDs.'" type="text" placeholder="" value="'.$drop_info[3].'"></div>
													</div>
												</td>
												<td width="200px">
													<div class="formRow">
														<div class="grid9">
															<select style="width:100%;padding-left:5px;opacity:0.6;" id="ititem_bs'.$calcIDs.'" data-placeholder="Choose a option..." class="select" tabindex="2">
																<option value="1" style="padding-left:5px;" '.$isOptSelec1[$i].'>Yes</option>
																<option value="0" style="padding-left:5px;" '.$isOptSelec2[$i].'>No</option>
															</select>
														</div>             
													</div>
												</td>
												<td width="100px">
													<div class="formRow">
														<div class="grid9"><input id="ititem_cost'.$calcIDs.'" type="text" placeholder="" value="'.$drop_info[5].'"></div>
													</div>
												</td>
												<td align="center" width="250px">
													<a href="#" onclick="itemSaveButton('.$calcIDs.'); return false;" class="buttonM bGreen" style="color:#ffffff;">Save Settings</a>
													<a href="#" onclick="itemDeleteButton('.$calcIDs.'); return false;" class="buttonM bDefault mb10 mt5">Delete Item</a>
												</td>
											</tr>
											
								';
			}
		} else { echo'0'; };
	exit;
}
?>
<?php
if(isset($_POST['usercharnameseach'])) { // Search Items... Manage

	$POST = $_POST['usercharnameseach'];
	
	$UserName = $POST; // Name

	$doquerec = " where (SUBSTRING(to_who_uid, 1, ".strlen($UserName).") = '".$UserName."')";
	
		if($_POST['usercharnameseach'] != '') { // FIX
		$anc_first_wawei = mssql_query("select top 100 friend_uid,to_who_uid,date from MVCore_Friend_List ".$doquerec."");
			for($i=0;$i < mssql_num_rows($anc_first_wawei);++$i) {
				$drop_info = mssql_fetch_row($anc_first_wawei);

								$sql103s = mssql_query("SELECT count(*) FROM MVCore_Friend_List where to_who_uid = '".$drop_info[1]."'");
								$acr4s =mssql_result($sql103s, 0, 0);
								
								$guild_querysd = mssql_query("SELECT top 1 friend_uid,to_who_uid,date from MVCore_Friend_List where to_who_uid = '".$drop_info[1]."' order by date desc");
								$sdasdas= mssql_fetch_row($guild_querysd);
								
								echo'
											<tr>
												<td>'.$drop_info[1].'</td>
												<td>'.$acr4s.'</td>
												<td>'.$sdasdas[0].'</td>
											</tr>
											
								';
			}
		} else { echo'0'; };
	exit;
}
?>
<?php
if(isset($_POST['userchaergrnamesweach'])) { // Search Money

	$POST = $_POST['userchaergrnamesweach'];
	
	$sys_startsg = mssql_query("select accountID from character where name = '".$POST."'");
	$drop_infog = mssql_fetch_row($sys_startsg);
	
	if($drop_infog[0] == ''){ $passnums = $POST; } else { $passnums = $drop_infog[0]; };
		
		$DateLim = time() - 2629743;
		if($_POST['userchaergrnamesweach'] != '') { // FIX
		$anc_first_wawei = mssql_query("select top 999 Username,Credits,GoldCredits,Description,Date,VoteType from MVCore_Money_Data where Username = '".$passnums."' and Date >= '".$DateLim."' order by Date desc");
			for($i=0;$i < mssql_num_rows($anc_first_wawei);++$i) {
				$drop_info = mssql_fetch_row($anc_first_wawei);
				$date = date("F j, Y, g:i a",$drop_info[4]);
								echo'
											<tr>
												<td>'.$drop_info[0].'</td>
												<td>'.$drop_info[1].'</td>
												<td>'.$drop_info[2].'</td>
												<td>'.$drop_info[3].'</td>
												<td>'.$date.'</td>
											</tr>
											
								';
			}
		} else { echo'0'; };
	exit;
}
?>
<?php
if(isset($_POST['AnnounceStylinsg'])) { // Database Table Settings Credits
	
	$POST = explode("-ids-", $_POST['AnnounceStylinsg']);

	mkdir("themes/".$mvcore['theme_dir']."/MvCoreStyling", 0700);
	
	if($has_error >= '1'){} else {
		$new_db = fopen("themes/".$mvcore['theme_dir']."/MvCoreStyling/announce_styling.php", "w");
		$data = "<?php\n";
		$data .="\$mvcore['annon_s_bradous'] = \"".$POST[0]."\";\n";
		$data .="\$mvcore['annon_s_bsize'] = \"".$POST[1]."\";\n";
		$data .="\$mvcore['annon_s_bordcolor'] = \"".$POST[2]."\";\n";
		$data .="\$mvcore['annon_s_size'] = \"".$POST[3]."\";\n";
		$data .="\$mvcore['annon_s_textcolor'] = \"".$POST[4]."\";\n";
		$data .="\$mvcore['annon_s_bgcolor'] = \"".$POST[5]."\";\n";
		$data .="\$mvcore['annon_s_bgcolor2'] = \"".$POST[6]."\";\n";
		$data .="\$mvcore['annon_s_bgcolorTrans'] = \"".$POST[7]."\";\n";
		$data .="\$mvcore['annon_s_bgcolor2Trans'] = \"".$POST[8]."\";\n";
		$data .="\$mvcore['annon_bg_trans'] = \"".$POST[9]."\";\n";
		$data .="?>";
		fwrite($new_db,$data); fclose($new_db); chmod("themes/".$mvcore['theme_dir']."/MvCoreStyling/announce_styling.php", 0777);
		
	}
	exit;
}
?>
<?php
if(isset($_POST['item_c_getName'])) { // item_c_getName
	
	echo'<option value="" selected></option>';
	$check_itema = mssql_query("Select top 300 item_name,id from MVCore_Wshopp where category='".$_POST['item_c_getName']."' order by id asc");
	for($i=0;$i < mssql_num_rows($check_itema);++$i) {
	$check_item_oka = mssql_fetch_row($check_itema);
	
	if( 
	$_POST['item_c_getName'] >= 0 && $_POST['item_c_getName'] <= 11 ||
	$_POST['item_c_getName'] == 12 && $check_item_oka[1] >= 262 && $check_item_oka[1] <= 267 ||
	$_POST['item_c_getName'] == 12 && $check_item_oka[1] >= 0 && $check_item_oka[1] <= 6 || 
	$_POST['item_c_getName'] == 12 && $check_item_oka[1] >= 36 && $check_item_oka[1] <= 43 || 
	$_POST['item_c_getName'] == 12 && $check_item_oka[1] >= 49 && $check_item_oka[1] <= 50 ||  
	$_POST['item_c_getName'] == 13 && $check_item_oka[1] >= 8 && $check_item_oka[1] <= 9 || 
	$_POST['item_c_getName'] == 13 && $check_item_oka[1] >= 12 && $check_item_oka[1] <= 13 || 
	$_POST['item_c_getName'] == 13 && $check_item_oka[1] >= 21 && $check_item_oka[1] <= 28) {
	echo'
		<option value="'.$check_item_oka[1].'" style="padding-left:5px;">'.$check_item_oka[0].'</option>
	'; } else {};
	}
	exit;
}
?>
<?php
if(isset($_POST['item_c_getLASR'])) { // item_c_getLASR
	
	$POST = explode("-ids-", $_POST['item_c_getLASR']);
	
	if($POST[0] == '' || $POST[1] == '') { } else {
		
	$check_itema = mssql_query("Select item_name, max_level, has_luck, has_skill, has_refinery, category, id  from MVCore_Wshopp  where id='".$POST[1]."' and category='".$POST[0]."'");
	$check_item_ok = mssql_fetch_row($check_itema);
	
	if($mvcore['it_max_lev'] >= '14') {
		$dropL45 = '
		<option value="14" style="padding-left:5px;">Level + 14</option>
		<option value="15" style="padding-left:5px;" selected>Level + 15</option>
		';
	}
									
		if($check_item_ok[1] >= '1') { echo'
									<option value="0" style="padding-left:5px;">No Level</option>
									<option value="1" style="padding-left:5px;">Level + 1</option>
									<option value="2" style="padding-left:5px;">Level + 2</option>
									<option value="3" style="padding-left:5px;">Level + 3</option>
									<option value="4" style="padding-left:5px;">Level + 4</option>
									<option value="5" style="padding-left:5px;">Level + 5</option>
									<option value="6" style="padding-left:5px;">Level + 6</option>
									<option value="7" style="padding-left:5px;">Level + 7</option>
									<option value="8" style="padding-left:5px;">Level + 8</option>
									<option value="9" style="padding-left:5px;">Level + 9</option>
									<option value="10" style="padding-left:5px;">Level + 10</option>
									<option value="11" style="padding-left:5px;">Level + 11</option>
									<option value="12" style="padding-left:5px;">Level + 12</option>
									<option value="13" style="padding-left:5px;" selected>Level + 13</option>
									'.$dropL45.'
		'; }
	echo'-ids-';
				if($check_item_ok[2] >= '1') {
					if($check_item_ok[5] >= 0 && $check_item_ok[5] <= 4) { // Swords, Axe, Spears, Mace, Scepters, Bows, Crossbows
									echo'<option value="0" style="padding-left:5px;">Additional Damage + 0</option>
									<option value="1" style="padding-left:5px;">Additional Damage + 4</option>
									<option value="2" style="padding-left:5px;">Additional Damage + 8</option>
									<option value="3" style="padding-left:5px;">Additional Damage + 12</option>
									<option value="4" style="padding-left:5px;">Additional Damage + 16</option>
									<option value="5" style="padding-left:5px;">Additional Damage + 20</option>
									<option value="6" style="padding-left:5px;">Additional Damage + 24</option>
									<option value="7" style="padding-left:5px;" selected>Additional Damage + 28</option>
					';} elseif($check_item_ok[5] == 13 && $check_item_ok[6] == 30 || $check_item_ok[5] == 5 || $check_item_ok[5] >= 6 && $check_item_ok[5] <= 11 || $check_item_ok[5] == 12 && $check_item_ok[6] >= 0 && $check_item_ok[6] <= 6) { // Stafs, Shield, Set Items, Wings Level 1 , Wings level 2
									echo'<option value="0" style="padding-left:5px;">Additional Defense + 0</option>
									<option value="1" style="padding-left:5px;">Additional Defense + 4</option>
									<option value="2" style="padding-left:5px;">Additional Defense + 8</option>
									<option value="3" style="padding-left:5px;">Additional Defense + 12</option>
									<option value="4" style="padding-left:5px;">Additional Defense + 16</option>
									<option value="5" style="padding-left:5px;">Additional Defense + 20</option>
									<option value="6" style="padding-left:5px;">Additional Defense + 24</option>
									<option value="7" style="padding-left:5px;" selected>Additional Defense + 28</option>
					';} elseif($check_item_ok[5] == 12 && $check_item_ok[6] >= 36 && $check_item_ok[6] <= 43 || $check_item_ok[5] == 12 && $check_item_ok[6] >= 49 && $check_item_ok[6] <= 50 || $check_item_ok[5] == 12 && $check_item_ok[6] >= 262 && $check_item_ok[6] <= 267 || $check_item_ok[5] == 13 && $check_item_ok[6] >= 8 && $check_item_ok[6] <= 9 || $check_item_ok[5] == 13 && $check_item_ok[6] >= 12 && $check_item_ok[6] <= 13 || $check_item_ok[5] == 13 && $check_item_ok[6] >= 21 && $check_item_ok[6] <= 28) { // Rings, Pendant, Wings level 3
									echo'<option value="0" style="padding-left:5px;">Automatic HP Recovery + 0%</option>
									<option value="1" style="padding-left:5px;">Automatic HP Recovery + 1%</option>
									<option value="2" style="padding-left:5px;">Automatic HP Recovery + 2%</option>
									<option value="3" style="padding-left:5px;">Automatic HP Recovery + 3%</option>
									<option value="4" style="padding-left:5px;">Automatic HP Recovery + 4%</option>
									<option value="5" style="padding-left:5px;">Automatic HP Recovery + 5%</option>
									<option value="6" style="padding-left:5px;">Automatic HP Recovery + 6%</option>
									<option value="7" style="padding-left:5px;" selected>Automatic HP Recovery + 7%</option>	
					';} elseif($check_item_ok[5] == 13 && $check_item_ok[6] == 24) { // Rings of Magic
									echo'<option value="0" style="padding-left:5px;">Max Mana Increase + 0%</option>
									<option value="1" style="padding-left:5px;">Max Mana Increase + 1%</option>
									<option value="2" style="padding-left:5px;">Max Mana Increase + 2%</option>
									<option value="3" style="padding-left:5px;">Max Mana Increase + 3%</option>
									<option value="4" style="padding-left:5px;">Max Mana Increase + 4%</option>
									<option value="5" style="padding-left:5px;">Max Mana Increase + 5%</option>
									<option value="6" style="padding-left:5px;">Max Mana Increase + 6%</option>
									<option value="7" style="padding-left:5px;" selected>Max Mana Increase + 7%</option>
					';}
				};
	echo'-ids-';
		if($check_item_ok[2] >= '1') {
			echo'1';
		}
	echo'-ids-';
		if($check_item_ok[3] >= '1') {
			echo'1';
		}
	echo'-ids-';
		if($check_item_ok[4] >= '1') {
			echo'1';
		}
	}
	exit;
}
?>
<?php
if(isset($_POST['item_c_getAH'])) { // item_c_getAH
	
	$POST = explode("-ids-", $_POST['item_c_getAH']);
	
	if($POST[0] == '' || $POST[1] == '') { } else {
		
	$check_itema = mssql_query("Select is_harmony, is_ancient, category, id  from MVCore_Wshopp  where id='".$POST[1]."' and category='".$POST[0]."'");
	$check_item_ok = mssql_fetch_row($check_itema);
	
		$sanci= mssql_query("Select anc_name from MVCore_Wshopp_Ancient where item_id='".$POST[1]."' and item_cat='".$POST[0]."'");$sanci= mssql_fetch_row($sanci); if($sanci[0] != '') {
										$select_anc_info= mssql_query("Select anc_name,anc_name2,item_id,item_cat from MVCore_Wshopp_Ancient where item_id='".$POST[1]."' and item_cat='".$POST[0]."'");
										$s_anc_i= mssql_fetch_row($select_anc_info);
	
										$select_anc_info1= mssql_query("Select anc_name,options from MVCore_Wshopp_Ancient_Opt where anc_id='".$s_anc_i[0]."'");
										$s_anc_opt1= mssql_fetch_row($select_anc_info1);
																	
										$select_anc_info2= mssql_query("Select anc_name,options from MVCore_Wshopp_Ancient_Opt where anc_id='".$s_anc_i[1]."'");
										$s_anc_opt2= mssql_fetch_row($select_anc_info2);
																	
										echo'<option value="0" style="padding-left:5px;">No Ancient</option>';
																	
										if($s_anc_opt1[0] != '' && $s_anc_opt1[0] != ' ') { echo'<option value="5" style="padding-left:5px;">Set '.$s_anc_opt1[0].'</option>'; };
										if($s_anc_opt2[0] != '' && $s_anc_opt2[0] != ' ') { echo'<option value="10" style="padding-left:5px;">Set '.$s_anc_opt2[0].'</option>'; };

		}
	echo'-ids-';
		if($check_item_ok[0] >= '1') {
										echo'<option value="0" style="padding-left:5px;">No Harmony</option>';
									if($check_item_ok[2] >= 0 && $check_item_ok[2] <= 4) { // Swords
										$select_joh_info= mssql_query("Select top 99 joh_name,joh_id,joh_val,joh_type from MVCore_Wshopp_Harmony where joh_type='1'");
										for($i=0;$i < mssql_num_rows($select_joh_info);++$i) {
											$s_joh_i= mssql_fetch_row($select_joh_info);
											echo'<option value="'.$s_joh_i[1].','.$s_joh_i[2].','.$s_joh_i[3].'" style="padding-left:5px;" '.$seledc.'>'.$s_joh_i[0].'</option>';
										};
									} elseif($check_item_ok[2] == 5) { // Staffs
										$select_joh_info= mssql_query("Select top 99 joh_name,joh_id,joh_val,joh_type from MVCore_Wshopp_Harmony where joh_type='2'");
										for($i=0;$i < mssql_num_rows($select_joh_info);++$i) {
											$s_joh_i= mssql_fetch_row($select_joh_info);
											echo'<option value="'.$s_joh_i[1].','.$s_joh_i[2].','.$s_joh_i[3].'" style="padding-left:5px;" '.$seledc.'>'.$s_joh_i[0].'</option>';
										};
									} elseif($check_item_ok[2] >= 6 && $check_item_ok[2] <= 11) { // Sets & Shields
										$select_joh_info= mssql_query("Select top 99 joh_name,joh_id,joh_val,joh_type from MVCore_Wshopp_Harmony where joh_type='3'");
										for($i=0;$i < mssql_num_rows($select_joh_info);++$i) {
											$s_joh_i= mssql_fetch_row($select_joh_info);
											echo'<option value="'.$s_joh_i[1].','.$s_joh_i[2].','.$s_joh_i[3].'" style="padding-left:5px;" '.$seledc.'>'.$s_joh_i[0].'</option>';
										};
									}
		}
	}
	
	
	exit;
}
?>
<?php
if(isset($_POST['item_c_getExc'])) { // item_c_getExc
	
	$POST = explode("-ids-", $_POST['item_c_getExc']);
	
	if($POST[0] == '' || $POST[1] == '') { } else {
			
	$check_itema = mssql_query("Select category, id  from MVCore_Wshopp  where id='".$POST[1]."' and category='".$POST[0]."'");
	$check_item_ok = mssql_fetch_row($check_itema);
	
					if($check_item_ok[0] >= 0 && $check_item_ok[0] <= 5 || $check_item_ok[0] == 13 && $check_item_ok[1] >= 12 && $check_item_ok[1] <= 13 || $check_item_ok[0] == 13 && $check_item_ok[1] >= 25 && $check_item_ok[1] <= 28) { // Weapons, Pendants
						echo'0';
					} elseif($check_item_ok[0] >= 6 && $check_item_ok[0] <= 11) { // Sets & Shields
						echo'1';
					} elseif($check_item_ok[0] == 13 && $check_item_ok[1] == 30 || $check_item_ok[0] == 12 && $check_item_ok[1] >= 0 && $check_item_ok[1] <= 6 || $check_item_ok[0] == 12 && $check_item_ok[1] == 49) { // Wings level 1 & 2
						echo'2';
					} elseif($check_item_ok[0] == 12 && $check_item_ok[1] >= 36 && $check_item_ok[1] <= 43 || $check_item_ok[0] == 12 && $check_item_ok[1] == 50 || $check_item_ok[0] == 12 && $check_item_ok[1] >= 262 && $check_item_ok[1] <= 267) { // Wings level 3
						echo'3';
					} elseif($check_item_ok[0] == 13 && $check_item_ok[1] >= 8 && $check_item_ok[1] <= 9 || $check_item_ok[0] == 13 && $check_item_ok[1] >= 21 && $check_item_ok[1] <= 24) { // Rings
						echo'4';
					};

	}				
	exit;
}
?>
<?php
if(isset($_POST['item_c_getSocket'])) { // item_c_getSocket
	
	$POST = explode("-ids-", $_POST['item_c_getSocket']);
	
	if($POST[0] == '' || $POST[1] == '') { } else {
		
	$check_itema = mssql_query("Select is_socket from MVCore_Wshopp  where id='".$POST[1]."' and category='".$POST[0]."'");
	$check_item_oka = mssql_fetch_row($check_itema);
	
					if($check_item_oka[0] >= '1') {
						echo'1-ids-';
								echo'<option value="254" style="padding-left:5px;" selected>EMPTY (No Mounting Socket)</option>';
										$select_sk_info= mssql_query("Select top 120 sok_name, sok_id from MVCore_Wshopp_Socket where type >= 1");
										for($i=0;$i < mssql_num_rows($select_sk_info);++$i) {
											$s_sk_i= mssql_fetch_row($select_sk_info);
												if($mvcore['sockets_opt_ep'] == 'yes' && $s_sk_i[1] <= '36' || $mvcore['sockets_opt_ep'] == 'yes' && $s_sk_i[1] == '254') {
													echo'<option value="'.$s_sk_i[1].'" style="padding-left:5px;" '.$seledc.'>'.$s_sk_i[0].'</option>';
												} elseif($mvcore['sockets_opt_ep'] != 'yes') {
													echo'<option value="'.$s_sk_i[1].'" style="padding-left:5px;" '.$seledc.'>'.$s_sk_i[0].'</option>';
												};
										};
					}			
	}
	exit;
}
?>
<?php
if(isset($_POST['invitemedit4354erweun'])) { //
		
		$POST = explode("-ids-", $_POST['invitemedit4354erweun']);
		
		$sys_startsg = mssql_query("select accountID from character where name = '".$POST[0]."'");
		$drop_infog = mssql_fetch_row($sys_startsg);
	
		$char_name =  $POST[0];
		$item_hex = $POST[1]; // Skiped
		if($POST[2] == 'undefined') { $item_level = 0; } else { $item_level = $POST[2]; };
		if($POST[3] == 'undefined') { $item_opt = 0; } else { $item_opt = $POST[3]; };
		if($POST[4] == 'undefined') { $item_luck = 0; } else { $item_luck = $POST[4]; };
		if($POST[5] == 'undefined') { $item_skill = 0; } else { $item_skill = $POST[5]; };
		if($POST[6] == 'undefined') { $item_ref = 0; } else { $item_ref = $POST[6]; };
		if($POST[7] == 'undefined') { $item_anc = 0; } else { $item_anc = $POST[7]; };
		if($POST[8] == 'undefined' || $POST[8] == 'No Harmony') { $item_har_data = ''; } else { $item_har_data = $POST[8]; };
		if($POST[9] == 'undefined') { $item_exe1 = 0; } else { $item_exe1 = $POST[9]; };
		if($POST[10] == 'undefined') { $item_exe2 = 0; } else { $item_exe2 = $POST[10]; };
		if($POST[11] == 'undefined') { $item_exe3 = 0; } else { $item_exe3 = $POST[11]; };
		if($POST[12] == 'undefined') { $item_exe4 = 0; } else { $item_exe4 = $POST[12]; };
		if($POST[13] == 'undefined') { $item_exe5 = 0; } else { $item_exe5 = $POST[13]; };
		if($POST[14] == 'undefined') { $item_exe6 = 0; } else { $item_exe6 = $POST[14]; };
		if($mvcore['socket_type'] == 'scfmt'){
			if($POST[15] == 'undefined') { $item_socket1 = ''; } else { $item_socket1 = $POST[15] + 1; };
			if($POST[16] == 'undefined') { $item_socket2 = ''; } else { $item_socket2 = $POST[16] + 1; };
			if($POST[17] == 'undefined') { $item_socket3 = ''; } else { $item_socket3 = $POST[17] + 1; };
			if($POST[18] == 'undefined') { $item_socket4 = ''; } else { $item_socket4 = $POST[18] + 1; };
			if($POST[19] == 'undefined') { $item_socket5 = ''; } else { $item_socket5 = $POST[19] + 1; };
		} else {
			if($POST[15] == 'undefined') { $item_socket1 = ''; } else { $item_socket1 = $POST[15]; };
			if($POST[16] == 'undefined') { $item_socket2 = ''; } else { $item_socket2 = $POST[16]; };
			if($POST[17] == 'undefined') { $item_socket3 = ''; } else { $item_socket3 = $POST[17]; };
			if($POST[18] == 'undefined') { $item_socket4 = ''; } else { $item_socket4 = $POST[18]; };
			if($POST[19] == 'undefined') { $item_socket5 = ''; } else { $item_socket5 = $POST[19]; };
		}
		
		$item_cat = $POST[20];
		$item_id = $POST[21];
		
		echo''.$char_name.'-ids-';
		
			//ID
			$check_item_data = mssql_query("Select item_name, item_cost, zen_cost, can_buy_w_money2, can_buy_w_money1, can_buy_w_zen, is_harmony, bought_count, equip_level, id, category, x, y, durability, is_socket from MVCore_Wshopp  where id='".$item_id."' and category='".$item_cat."'");
			$check_item_dat = mssql_fetch_row($check_item_data);

if( $check_item_dat[9] >= '256' ){
	
	$calcRightID = $check_item_dat[9] - 256;
	
	if(strlen(dechex($calcRightID)) == '1') { $it_id = '0'.dechex($calcRightID).''; } else { $it_id = ''.dechex($calcRightID).''; }; //Fix id
	
	echo''.$check_item_dat[9].' && '.$it_id.'';
	
} else {
	if(strlen(dechex($check_item_dat[9])) == '1') { $it_id = '0'.dechex($check_item_dat[9]).''; } else { $it_id = ''.dechex($check_item_dat[9]).''; }; //Fix id
};
			
			//Random serial
			function generateRandomString($length = 8) {
				$characters = '0123456789ABCDE';
				$charactersLength = strlen($characters);
				$randomString = '';
				for ($i = 0; $i < $length; $i++) {
					$randomString .= $characters[rand(0, $charactersLength - 1)];
				}
				return $randomString;
			}

			//Option data
			if($item_luck == '1') { $item_luck = '4'; } else { $item_luck = '0'; };
			if($item_skill == '1') { $item_skill = '128'; } else { $item_skill = '0'; };
			if($item_opt > '3') { $item_opt_add = '64'; } else { $item_opt_add = '0'; };
			if($item_opt == '4') { $item_opt = '0'; } 
			elseif($item_opt == '5' || $item_opt == '1') { $item_opt = '1'; }
			elseif($item_opt == '6' || $item_opt == '2') { $item_opt = '2'; }
			elseif($item_opt == '7' || $item_opt == '3') { $item_opt = '3'; };
			$item_level_calc = $item_level * 8;
			$optwo_count = $item_luck + $item_level_calc + $item_skill + $item_opt;
			if(strlen(dechex($optwo_count)) == '1') { $optwo_count = '0'.dechex($optwo_count).''; } else { $optwo_count = dechex($optwo_count); }; //Fix opts

			//Item Duration
			$item_dur_c = $check_item_dat[13];
			if(strlen(dechex($item_dur_c)) == '1') { $item_dur_c = '0'.dechex($item_dur_c).''; } else { $item_dur_c = dechex($item_dur_c); }; //Fix Exc

			//Exc option
			if($item_exe1 == '1') { $item_exe1 = '1'; } else { $item_exe1 = '0'; };
			if($item_exe2 == '1') { $item_exe2 = '2'; } else { $item_exe2 = '0'; };
			if($item_exe3 == '1') { $item_exe3 = '4'; } else { $item_exe3 = '0'; };
			if($item_exe4 == '1') { $item_exe4 = '8'; } else { $item_exe4 = '0'; };
			if($item_exe5 == '1') { $item_exe5 = '16'; } else { $item_exe5 = '0'; };
			if($item_exe6 == '1') { $item_exe6 = '32'; } else { $item_exe6 = '0'; };
		
			if( $check_item_dat[9] >= '256' ){
					$calc_item_exc = $item_opt_add + $item_exe1 + $item_exe2 + $item_exe3 + $item_exe4 + $item_exe5 + $item_exe6 + 128;
			} else {
					$calc_item_exc = $item_opt_add + $item_exe1 + $item_exe2 + $item_exe3 + $item_exe4 + $item_exe5 + $item_exe6;
			};
			//end IF
			
			if($is_fenrir1 == '1') { $calc_item_exc = '1'; } elseif($is_fenrir1 == '2') { $calc_item_exc = '2'; } elseif($is_fenrir1 == '4') { $calc_item_exc = '4'; };

			if(strlen(dechex($calc_item_exc)) == '1') { $calc_item_exc = '0'.dechex($calc_item_exc).''; } else { $calc_item_exc = dechex($calc_item_exc); }; //Fix Exc

			//Ancient option
			if($item_anc == '5') { $addhex = '05'; } elseif($item_anc == '10') { $addhex = '0A'; } else { $addhex = '00'; };

			//Item Category
			$item_cat_calc = $check_item_dat[10] ;
			if(strlen(dechex($item_cat_calc)) == '1') { $item_cat_calc = ''.dechex($item_cat_calc).''; } else { $item_cat_calc = dechex($item_cat_calc); }; //Fix cat

			//item refinary
			
			
			if($item_ref == '1') { $item_ref = '8'; } else { $item_ref = '0'; }; //refin

			//if($item_har_data == '') { $item_har_data='0'; } else {
				
			//	$harData = explode(",", $item_har_data);
				
				//$select_joh_info= mssql_query("Select joh_id, joh_val, joh_cost from MVCore_Wshopp_Harmony where joh_id = '".$harData[0]."' and joh_val = '".$harData[1]."' and joh_type='".$harData[2]."'");
				//$check_joh_info = mssql_fetch_row($select_joh_info);
			//}
			
				$harData = explode(",", $item_har_data);
				
			//Item harmony
			$item_har_data = ''.dechex($harData[0]).''.dechex($harData[1]).''; // Might be wrong.

			//Socket option
			if(strlen(dechex($item_socket1)) == '1') { $item_socket1 = '0'.dechex($item_socket1).''; } else { $item_socket1 = dechex($item_socket1); }; //Fix sk
			if(strlen(dechex($item_socket2)) == '1') { $item_socket2 = '0'.dechex($item_socket2).''; } else { $item_socket2 = dechex($item_socket2); }; //Fix sk
			if(strlen(dechex($item_socket3)) == '1') { $item_socket3 = '0'.dechex($item_socket3).''; } else { $item_socket3 = dechex($item_socket3); }; //Fix sk
			if(strlen(dechex($item_socket4)) == '1') { $item_socket4 = '0'.dechex($item_socket4).''; } else { $item_socket4 = dechex($item_socket4); }; //Fix sk
			if(strlen(dechex($item_socket5)) == '1') { $item_socket5 = '0'.dechex($item_socket5).''; } else { $item_socket5 = dechex($item_socket5); }; //Fix sk

			if($check_item_dat[14] >= '1') {
				if($mvcore['socket_type'] == 'scfmt'){
					if($item_socket1 == '0' || $item_socket1 == '255' || $item_socket1 == '00') { $item_socket1 = dechex(255); } else { $item_socket1 = $item_socket1; }; //Fix sk2
					if($item_socket2 == '0' || $item_socket2 == '255' || $item_socket2 == '00') { $item_socket2 = dechex(255); } else { $item_socket2 = $item_socket2; }; //Fix sk2
					if($item_socket3 == '0' || $item_socket3 == '255' || $item_socket3 == '00') { $item_socket3 = dechex(255); } else { $item_socket3 = $item_socket3; }; //Fix sk2
					if($item_socket4 == '0' || $item_socket4 == '255' || $item_socket4 == '00') { $item_socket4 = dechex(255); } else { $item_socket4 = $item_socket4; }; //Fix sk2
					if($item_socket5 == '0' || $item_socket5 == '255' || $item_socket5 == '00') { $item_socket5 = dechex(255); } else { $item_socket5 = $item_socket5; }; //Fix sk2
				} else {
					if($item_socket1 == '254') { $item_socket1 = dechex(254); } else { $item_socket1 = $item_socket1; }; //Fix sk2
					if($item_socket2 == '254') { $item_socket2 = dechex(254); } else { $item_socket2 = $item_socket2; }; //Fix sk2
					if($item_socket3 == '254') { $item_socket3 = dechex(254); } else { $item_socket3 = $item_socket3; }; //Fix sk2
					if($item_socket4 == '254') { $item_socket4 = dechex(254); } else { $item_socket4 = $item_socket4; }; //Fix sk2
					if($item_socket5 == '254') { $item_socket5 = dechex(254); } else { $item_socket5 = $item_socket5; }; //Fix sk2
				};
			} else {
				if($item_socket1 == '0' || $item_socket1 == '254' || $item_socket1 == '00') { $item_socket1 = '00'; } else { $item_socket1 = $item_socket1; }; //Fix sk2
				if($item_socket2 == '0' || $item_socket2 == '254' || $item_socket2 == '00') { $item_socket2 = '00'; } else { $item_socket2 = $item_socket2; }; //Fix sk2
				if($item_socket3 == '0' || $item_socket3 == '254' || $item_socket3 == '00') { $item_socket3 = '00'; } else { $item_socket3 = $item_socket3; }; //Fix sk2
				if($item_socket4 == '0' || $item_socket4 == '254' || $item_socket4 == '00') { $item_socket4 = '00'; } else { $item_socket4 = $item_socket4; }; //Fix sk2
				if($item_socket5 == '0' || $item_socket5 == '254' || $item_socket5 == '00') { $item_socket5 = '00'; } else { $item_socket5 = $item_socket5; }; //Fix sk2	
			};

			if($mvcore['socket_type'] == 'scfmt'){
			if($check_item_dat[14] >= '1') { $item_socket1 = $item_socket1; } else { $item_socket1 = '00'; };
			if($check_item_dat[14] >= '2') { $item_socket2 = $item_socket2; } else { $item_socket2 = '00'; };
			if($check_item_dat[14] >= '3') { $item_socket3 = $item_socket3; } else { $item_socket3 = '00'; };
			if($check_item_dat[14] >= '4') { $item_socket4 = $item_socket4; } else { $item_socket4 = '00'; };
			if($check_item_dat[14] == '5') { $item_socket5 = $item_socket5; } else { $item_socket5 = '00'; };
			} else {
			if($check_item_dat[14] >= '1') { $item_socket1 = $item_socket1; } else { $item_socket1 = dechex(255); };
			if($check_item_dat[14] >= '2') { $item_socket2 = $item_socket2; } else { $item_socket2 = dechex(255); };
			if($check_item_dat[14] >= '3') { $item_socket3 = $item_socket3; } else { $item_socket3 = dechex(255); };
			if($check_item_dat[14] >= '4') { $item_socket4 = $item_socket4; } else { $item_socket4 = dechex(255); };
			if($check_item_dat[14] == '5') { $item_socket5 = $item_socket5; } else { $item_socket5 = dechex(255); };
			}

			$NewHexOut = "".$it_id."".$optwo_count."".$item_dur_c."".generateRandomString()."".$calc_item_exc."".$addhex."".$item_cat_calc."".$item_ref."".$item_har_data."".$item_socket1."".$item_socket2."".$item_socket3."".$item_socket4."".$item_socket5."";
if($mvcore['db_season'] == '1') {
	
	$item_cat_calc = ''.hexdec($item_cat_calc).''; $item_cat_calc = $item_cat_calc * 2; 
	if($item_cat_calc >= '16') {
		$item_cat_calc = $item_cat_calc - 16; $item_cat_calc = ''.dechex($item_cat_calc).'0';
		$calc_item_exc = hexdec($calc_item_exc); $calc_item_exc = $calc_item_exc + 128; $calc_item_exc = ''.dechex($calc_item_exc).'';
	} else { $item_cat_calc = ''.dechex($item_cat_calc).'0'; };
	$it_id_cat = hexdec($item_cat_calc) + hexdec($it_id); $it_id_cat = dechex($it_id_cat);
	if(strlen($it_id_cat) == '1') { $it_id_cat = '0'.$it_id_cat.''; };
	
	function generateRandomString2($length = 6) {
		$characters = '0123456789ABCDE';
		$charactersLength = strlen($characters);
		$randomString = '';
		for ($i = 0; $i < $length; $i++) {
			$randomString .= $characters[rand(0, $charactersLength - 1)];
		}
		return $randomString;
	};
	$NewHexOut = "".$it_id_cat."".$optwo_count."".$item_dur_c."00".generateRandomString2()."".$calc_item_exc."".$addhex."00";	

};
		//end

			if($mvcore['db_season'] >= '9' && strlen($NewHexOut) == '32') { $exHex = 'FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF'; } else { $exHex = ''; };
			$Final_Result_hex = ''.$NewHexOut.''.$exHex.'';


//--------------------------------------------------------------------------------------------------------------
function smartsearch($whbin,$itemX,$itemY,$incSeason) {

	if($incSeason >= '9') { $hexlen = '64'; } elseif($incSeason == '1') { $hexlen = '20'; } else { $hexlen = '32'; };
	if($incSeason >= '9') { $ilc = '480'; } elseif($incSeason == '1') { $ilc = '60'; } else { $ilc = '240'; };
	
	if (substr($whbin,0,2)=='0x') $whbin=substr($whbin,2);	
	$items 	= str_repeat('0', $ilc);
	$itemsm = str_repeat('1', $ilc);
	$i	= 0; 
	while ($i<$ilc) {
		$_item	= substr($whbin,($hexlen*$i), $hexlen);
		$check_ref = hexdec(substr($_item, 19,1))/16;	
		$check_wid = hexdec(substr($_item, 14,2));		
			if($check_ref == 0.5)
				$type	= floor(hexdec(substr($_item,18,2))/16);
			else
				$type	= round(hexdec(substr($_item,18,2))/16);

			if ($check_wid <= '127') { $last_try=hexdec(substr($_item,0,2)); $check_two = $last_try; }
			elseif ($check_wid >= '128') { $last_try=hexdec(substr($_item,0,2)); $check_two = $last_try+'256'; }

		if($incSeason == '1') {
			$type = hexdec(substr($_item, 0,2))/32; // Category
			$ioo = hexdec(substr($_item, 14,2)); // Excelent
			$ids = hexdec(substr($_item, 0,2));	$idss = $ids / 32; $syfd = $ids - (floor($idss) * 32); //ID Algoritm
			if($ioo >= 128) { $ioo = $ioo - 128; $type = $type + 8; }; $type = round($type); $check_two = floor($syfd);
		};
				
		$res= mssql_fetch_row(mssql_query("select [x],[y] from [MVCore_Wshopp] where [id]='".$check_two."' and [category]='".$type."'"));
		
		$y	= 0;
		while($y<$res[1]) {
			$y++;$x=0;
			while($x<$res[0]) {
				$items	= substr_replace($items, '1', ($i+$x)+(($y-1)*8), 1);
				$x++;	
			} 
		}	
		$i++;
	}
				
	$y	= 0;
	while($y<$itemY) {
		$y++;$x=0;
		while($x<$itemX) {
			$x++;
			$spacerq[$x+(8*($y-1))] = true;
		} 
	}
	$walked	= 0;
	$i	= 0;
	while($i<$ilc) {
		if (isset($spacerq[$i])) {
			$itemsm	= substr_replace($itemsm, '0', $i-1, 1);
			$last	= $i;
			$walked++;
		}
		if ($walked==count($spacerq)) $i=$ilc;
		$i++;
	}
	$useforlength	= substr($itemsm,0,$last);
	$findslotlikethis='^'.str_replace('++','+',str_replace('1','+[0-1]+', $useforlength));
	$i=0;$nx=0;$ny=0;
	while ($i<$ilc) {
		if ($nx==8) { $ny++; $nx=0; }
		if ((eregi($findslotlikethis,substr($items, $i, strlen($useforlength)))) && ($itemX+$nx<9) && ($itemY+$ny<16))
			return $i;
		$i++;
		$nx++;
	}
	return 1337;
}

if($mvcore['db_season'] >= '9') { $hexlen = '64'; } elseif($mvcore['db_season'] == '1') { $hexlen = '20'; } else { $hexlen = '32'; };

if($mvcore['db_season'] >= '9') { $cvbins = '7680'; } elseif($mvcore['db_season'] == '1') { $cvbins = '1200'; } else { $cvbins = '3840'; }; // Warehouse
if($mvcore['db_season'] >= '9') { $cvbinsch = '7584'; } elseif($mvcore['db_season'] == '1') { $cvbinsch = '1080'; } else { if($mvcore['db_season'] == '8') { $cvbinsch = '3808'; } else { $cvbinsch = '3776'; }; }; // Inventory

$query		= mssql_query("declare @it varbinary(".$cvbinsch."); set @it=(select [inventory] from [character] where [name]='".$char_name."'); print @it");
$mycuritems	= mssql_get_last_message();

$newitem	= $Final_Result_hex;
$test		= 0;
$slot 		= smartsearch($mycuritems,$check_item_dat[11],$check_item_dat[12],$mvcore['db_season']);
$test		= $slot*$hexlen;

$mynewitems = substr_replace($addfirst, $newitem, ($test+2), $hexlen);

if($slot == '1337' ) { $has_error = '1'; echo'<script>$.jGrowl("Inventory seems to be full, clean and try again!.", { header: "<font color=red>Error</font>" });</script>'; };
	
		if($has_error >= '1'){} else {
			
			
			$run_qe = mssql_query("UPDATE character SET inventory = ".$mynewitems." WHERE name='".$char_name."'");
			
			echo'<script>$.jGrowl("Item successfully saved in '.$char_name.' inventory.", { header: "<font color=green>Success</font>" });</script>';
			
		};
	exit;
}
?>
<?php
if(isset($_POST['acccharlogsearch'])) { // Webshop Log Search By Username

		$POST = $_POST['acccharlogsearch'];
		
		$sys_startsg = mssql_query("select accountID from character where name = '".$POST."'");
		$drop_infog = mssql_fetch_row($sys_startsg);
		
	
		if($drop_infog[0] == ''){ $passnums = $POST; } else { $passnums = $drop_infog[0]; };
		
		$sys_startsgwef = mssql_query("select memb_name from ".$mvcore_medb_i." where memb___id = '".$passnums."'");
		$drop_infogdw = mssql_fetch_row($sys_startsgwef);
		
				if($drop_infogdw[0] == '') { $has_error = '1'; echo'<script>$.jGrowl("User not found.", { header: "<font color=red>Error</font>" });</script>'; };
				
	if($has_error >= '1'){} else {
		
						$sys_starts = mssql_query("select top 500 name,hex,cost,boughtby,date,type from MVCore_Wshopp_Item_Log where boughtby = '".$passnums."' order by date desc");
						for($i=0;$i < mssql_num_rows($sys_starts);++$i) {
							$drop_info = mssql_fetch_row($sys_starts);
					
							$sys_startold = mssql_query("select name from character where AccountId = '".$drop_info[3]."'");
							$drop_infsold = mssql_fetch_row($sys_startold);
							
							if($mvcore['db_season'] >= '9') { $hexlen = '64'; } elseif($mvcore['db_season'] == '1') { $hexlen = '20'; } else { $hexlen = '32'; };
							
							$item[$i]		= substr($drop_info[1],(0), $hexlen);			// item Type
							$sy 			= hexdec(substr($item[$i],0,2)); 		// Item ID
							$serial 		= hexdec(substr($item[$i],6,8)); 		// Item Serial
							$itt 			= hexdec(substr($item[$i],18,2)); 		// Item Type
							$itemtype 		= floor($itt/16);						// Item Type Fix
							$iop 			= hexdec(substr($item[$i],2,2)); 		// Item Level/Skill/Option Data
							$itemdur		= hexdec(substr($item[$i],4,2)); 		// Item Durability
							$ioo 			= hexdec(substr($item[$i],14,2)); 		// Item Excellent Info/ Option
							$ioosecon 		= hexdec(substr($item[$i],14,1)); 		// AD option 1 2 3 4 5 6 7
							$ac 			= hexdec(substr($item[$i],16,2)); 		// Ancient data

							$item_socket[1] = hexdec(substr($item[$i],22,2)); 		// Socket 1
							$item_socket[2] = hexdec(substr($item[$i],24,2)); 		// Socket 2
							$item_socket[3] = hexdec(substr($item[$i],26,2)); 		// Socket 3
							$item_socket[4] = hexdec(substr($item[$i],28,2));		// Socket 4
							$item_socket[5] = hexdec(substr($item[$i],30,2)); 		// Socket 5

							$item_harmony 	= hexdec(substr($item[$i],20,1)); 		// Item harmony
							$item_harm_val 	= hexdec(substr($item[$i],21,1)); 		// Item harmony Value
							$item_refinary 	= hexdec(substr($item[$i],19,1)); 		// Item Refinery

								$itemSerial 		= substr($item[$i],6,8); 		// Item Serial
								
		if($mvcore['db_season'] == '1') {
			$type = hexdec(substr($item[$i], 0,2))/32; // Category
			$ioo = hexdec(substr($item[$i], 14,2)); // Excelent
			$ids = hexdec(substr($item[$i], 0,2));	$idss = $ids / 32; $syfd = $ids - (floor($idss) * 32); //ID Algoritm
			if($ioo >= 128) { $ioo = $ioo - 128; $type = $type + 8; }; $itemtype = round($type); $sy = floor($syfd);
		};
		
							include"system/engine_s_fnc.php";
							
							$drop_item_info[$i] ='<table><tr valign=top><td><img src=system/engine_images/webshop/item_images/'.$itemtype.'/'.$sy.'.gif><br>'.$iname.' '.$item_has_def.''.$item_has_dmg.''.$item_need_dur.''.$item_need_level.''.$item_class_need.''.$other_item_infos.''.$fenrir.'<font color=#cc7fcc>'.$ref.'</font>'.$joh_info_drop.'<font color=#7fb2ff>'.$skill.''.$luck.''.$itemoptionname.''.$itemoptionnamess.''.$db_item_info.''.$itemoptionnames.''.$anc_option.'</font><font color=#ff19ff>'.$socketinfos.'</font>'.$sok_info_drop1.''.$sok_info_drop2.''.$sok_info_drop3.''.$sok_info_drop4.''.$sok_info_drop5.'</td></tr></table>';
							$show_on_off[$i] = 'onMouseover="ddrivetip(\''.$drop_item_info[$i].'\')" onMouseout="hideddrivetip()"';
							
								if($drop_info[5] == '3') {
									$Cost_Type = ''.$drop_info[2].' Zen';
								}
								elseif($drop_info[5] == '2') {
									$Cost_Type = ''.$drop_info[2].' '.$mvcore['money_name1'].'';
								}
								elseif($drop_info[5] == '1') {
									$Cost_Type = ''.$drop_info[2].' '.$mvcore['money_name2'].'';
								};
								
								$date = date ("Y-m-d H:i", $drop_info[4]);
								
							echo'
										<tr '.$show_on_off[$i].'>
											<td>'.$inames.'</td>
											<td style="text-transform: uppercase;">'.$drop_info[1].' ( '.$itemSerial.' )</td>
											<td>'.$drop_infsold[0].' ( '.$drop_info[3].' )</td>
											<td>'.$Cost_Type.'</td>
											<td>'.$date.'</td>
										</tr>
							';
						};
						
	}
	exit;
}
?>
<?php
if(isset($_POST['waremedit4354erweun'])) { //
		
		$POST = explode("-ids-", $_POST['waremedit4354erweun']);
		
		$sys_startsg = mssql_query("select accountID from character where name = '".$POST[0]."'");
		$drop_infog = mssql_fetch_row($sys_startsg);
		
	
		if($drop_infog[0] == ''){ $passnums = $POST[0]; } else { $passnums = $drop_infog[0]; };
		
		$sys_startsgwef = mssql_query("select memb_name from ".$mvcore_medb_i." where memb___id = '".$passnums."'");
		$drop_infogdw = mssql_fetch_row($sys_startsgwef);
		
				if($drop_infogdw[0] == '') { $has_error = '1'; echo'<script>$.jGrowl("User not found.", { header: "<font color=red>Error</font>" });</script>'; };
	if($has_error >= '1'){} else {
		
		$char_name =  $passnums;
		$item_hex = $POST[1]; // Skiped
		if($POST[2] == 'undefined') { $item_level = 0; } else { $item_level = $POST[2]; };
		if($POST[3] == 'undefined') { $item_opt = 0; } else { $item_opt = $POST[3]; };
		if($POST[4] == 'undefined') { $item_luck = 0; } else { $item_luck = $POST[4]; };
		if($POST[5] == 'undefined') { $item_skill = 0; } else { $item_skill = $POST[5]; };
		if($POST[6] == 'undefined') { $item_ref = 0; } else { $item_ref = $POST[6]; };
		if($POST[7] == 'undefined') { $item_anc = 0; } else { $item_anc = $POST[7]; };
		if($POST[8] == 'undefined' || $POST[8] == 'No Harmony') { $item_har_data = ''; } else { $item_har_data = $POST[8]; };
		if($POST[9] == 'undefined') { $item_exe1 = 0; } else { $item_exe1 = $POST[9]; };
		if($POST[10] == 'undefined') { $item_exe2 = 0; } else { $item_exe2 = $POST[10]; };
		if($POST[11] == 'undefined') { $item_exe3 = 0; } else { $item_exe3 = $POST[11]; };
		if($POST[12] == 'undefined') { $item_exe4 = 0; } else { $item_exe4 = $POST[12]; };
		if($POST[13] == 'undefined') { $item_exe5 = 0; } else { $item_exe5 = $POST[13]; };
		if($POST[14] == 'undefined') { $item_exe6 = 0; } else { $item_exe6 = $POST[14]; };
		if($mvcore['socket_type'] == 'scfmt'){
			if($POST[15] == 'undefined') { $item_socket1 = ''; } else { $item_socket1 = $POST[15] + 1; };
			if($POST[16] == 'undefined') { $item_socket2 = ''; } else { $item_socket2 = $POST[16] + 1; };
			if($POST[17] == 'undefined') { $item_socket3 = ''; } else { $item_socket3 = $POST[17] + 1; };
			if($POST[18] == 'undefined') { $item_socket4 = ''; } else { $item_socket4 = $POST[18] + 1; };
			if($POST[19] == 'undefined') { $item_socket5 = ''; } else { $item_socket5 = $POST[19] + 1; };
		} else {
			if($POST[15] == 'undefined') { $item_socket1 = ''; } else { $item_socket1 = $POST[15]; };
			if($POST[16] == 'undefined') { $item_socket2 = ''; } else { $item_socket2 = $POST[16]; };
			if($POST[17] == 'undefined') { $item_socket3 = ''; } else { $item_socket3 = $POST[17]; };
			if($POST[18] == 'undefined') { $item_socket4 = ''; } else { $item_socket4 = $POST[18]; };
			if($POST[19] == 'undefined') { $item_socket5 = ''; } else { $item_socket5 = $POST[19]; };
		}
		
		$item_cat = $POST[20];
		$item_id = $POST[21];
		
		echo''.$char_name.'-ids-';

			//ID
			$check_item_data = mssql_query("Select item_name, item_cost, zen_cost, can_buy_w_money2, can_buy_w_money1, can_buy_w_zen, is_harmony, bought_count, equip_level, id, category, x, y, durability, is_socket from MVCore_Wshopp  where id='".$item_id."' and category='".$item_cat."'");
			$check_item_dat = mssql_fetch_row($check_item_data);

if( $check_item_dat[9] >= '256' ){
	
	$calcRightID = $check_item_dat[9] - 256;
	
	if(strlen(dechex($calcRightID)) == '1') { $it_id = '0'.dechex($calcRightID).''; } else { $it_id = ''.dechex($calcRightID).''; }; //Fix id
	
	echo''.$check_item_dat[9].' && '.$it_id.'';
	
} else {
	if(strlen(dechex($check_item_dat[9])) == '1') { $it_id = '0'.dechex($check_item_dat[9]).''; } else { $it_id = ''.dechex($check_item_dat[9]).''; }; //Fix id
};
			
			//Random serial
			function generateRandomString($length = 8) {
				$characters = '0123456789ABCDE';
				$charactersLength = strlen($characters);
				$randomString = '';
				for ($i = 0; $i < $length; $i++) {
					$randomString .= $characters[rand(0, $charactersLength - 1)];
				}
				return $randomString;
			}

			//Option data
			if($item_luck == '1') { $item_luck = '4'; } else { $item_luck = '0'; };
			if($item_skill == '1') { $item_skill = '128'; } else { $item_skill = '0'; };
			if($item_opt > '3') { $item_opt_add = '64'; } else { $item_opt_add = '0'; };
			if($item_opt == '4') { $item_opt = '0'; } 
			elseif($item_opt == '5' || $item_opt == '1') { $item_opt = '1'; }
			elseif($item_opt == '6' || $item_opt == '2') { $item_opt = '2'; }
			elseif($item_opt == '7' || $item_opt == '3') { $item_opt = '3'; };
			$item_level_calc = $item_level * 8;
			$optwo_count = $item_luck + $item_level_calc + $item_skill + $item_opt;
			if(strlen(dechex($optwo_count)) == '1') { $optwo_count = '0'.dechex($optwo_count).''; } else { $optwo_count = dechex($optwo_count); }; //Fix opts

			//Item Duration
			$item_dur_c = $check_item_dat[13];
			if(strlen(dechex($item_dur_c)) == '1') { $item_dur_c = '0'.dechex($item_dur_c).''; } else { $item_dur_c = dechex($item_dur_c); }; //Fix Exc

			//Exc option
			if($item_exe1 == '1') { $item_exe1 = '1'; } else { $item_exe1 = '0'; };
			if($item_exe2 == '1') { $item_exe2 = '2'; } else { $item_exe2 = '0'; };
			if($item_exe3 == '1') { $item_exe3 = '4'; } else { $item_exe3 = '0'; };
			if($item_exe4 == '1') { $item_exe4 = '8'; } else { $item_exe4 = '0'; };
			if($item_exe5 == '1') { $item_exe5 = '16'; } else { $item_exe5 = '0'; };
			if($item_exe6 == '1') { $item_exe6 = '32'; } else { $item_exe6 = '0'; };
		
			//If Item ID 256+
			if( $check_item_dat[9] >= '256' ){
					$calc_item_exc = $item_opt_add + $item_exe1 + $item_exe2 + $item_exe3 + $item_exe4 + $item_exe5 + $item_exe6 + 128;
			} else {
					$calc_item_exc = $item_opt_add + $item_exe1 + $item_exe2 + $item_exe3 + $item_exe4 + $item_exe5 + $item_exe6;
			};
			//end IF
			
			if($is_fenrir1 == '1') { $calc_item_exc = '1'; } elseif($is_fenrir1 == '2') { $calc_item_exc = '2'; } elseif($is_fenrir1 == '4') { $calc_item_exc = '4'; };

			if(strlen(dechex($calc_item_exc)) == '1') { $calc_item_exc = '0'.dechex($calc_item_exc).''; } else { $calc_item_exc = dechex($calc_item_exc); }; //Fix Exc

			//Ancient option
			if($item_anc == '5') { $addhex = '05'; } elseif($item_anc == '10') { $addhex = '0A'; } else { $addhex = '00'; };

			//Item Category
			$item_cat_calc = $check_item_dat[10] ;
			if(strlen(dechex($item_cat_calc)) == '1') { $item_cat_calc = ''.dechex($item_cat_calc).''; } else { $item_cat_calc = dechex($item_cat_calc); }; //Fix cat

			//item refinary
			
			
			if($item_ref == '1') { $item_ref = '8'; } else { $item_ref = '0'; }; //refin

			//if($item_har_data == '') { $item_har_data='0'; } else {
				
			//	$harData = explode(",", $item_har_data);
				
				//$select_joh_info= mssql_query("Select joh_id, joh_val, joh_cost from MVCore_Wshopp_Harmony where joh_id = '".$harData[0]."' and joh_val = '".$harData[1]."' and joh_type='".$harData[2]."'");
				//$check_joh_info = mssql_fetch_row($select_joh_info);
			//}
			
				$harData = explode(",", $item_har_data);
				
			//Item harmony
			$item_har_data = ''.dechex($harData[0]).''.dechex($harData[1]).''; // Might be wrong.

			//Socket option
			if(strlen(dechex($item_socket1)) == '1') { $item_socket1 = '0'.dechex($item_socket1).''; } else { $item_socket1 = dechex($item_socket1); }; //Fix sk
			if(strlen(dechex($item_socket2)) == '1') { $item_socket2 = '0'.dechex($item_socket2).''; } else { $item_socket2 = dechex($item_socket2); }; //Fix sk
			if(strlen(dechex($item_socket3)) == '1') { $item_socket3 = '0'.dechex($item_socket3).''; } else { $item_socket3 = dechex($item_socket3); }; //Fix sk
			if(strlen(dechex($item_socket4)) == '1') { $item_socket4 = '0'.dechex($item_socket4).''; } else { $item_socket4 = dechex($item_socket4); }; //Fix sk
			if(strlen(dechex($item_socket5)) == '1') { $item_socket5 = '0'.dechex($item_socket5).''; } else { $item_socket5 = dechex($item_socket5); }; //Fix sk

			if($check_item_dat[14] >= '1') {
				if($mvcore['socket_type'] == 'scfmt'){
					if($item_socket1 == '0' || $item_socket1 == '255' || $item_socket1 == '00') { $item_socket1 = dechex(255); } else { $item_socket1 = $item_socket1; }; //Fix sk2
					if($item_socket2 == '0' || $item_socket2 == '255' || $item_socket2 == '00') { $item_socket2 = dechex(255); } else { $item_socket2 = $item_socket2; }; //Fix sk2
					if($item_socket3 == '0' || $item_socket3 == '255' || $item_socket3 == '00') { $item_socket3 = dechex(255); } else { $item_socket3 = $item_socket3; }; //Fix sk2
					if($item_socket4 == '0' || $item_socket4 == '255' || $item_socket4 == '00') { $item_socket4 = dechex(255); } else { $item_socket4 = $item_socket4; }; //Fix sk2
					if($item_socket5 == '0' || $item_socket5 == '255' || $item_socket5 == '00') { $item_socket5 = dechex(255); } else { $item_socket5 = $item_socket5; }; //Fix sk2
				} else {
					if($item_socket1 == '254') { $item_socket1 = dechex(254); } else { $item_socket1 = $item_socket1; }; //Fix sk2
					if($item_socket2 == '254') { $item_socket2 = dechex(254); } else { $item_socket2 = $item_socket2; }; //Fix sk2
					if($item_socket3 == '254') { $item_socket3 = dechex(254); } else { $item_socket3 = $item_socket3; }; //Fix sk2
					if($item_socket4 == '254') { $item_socket4 = dechex(254); } else { $item_socket4 = $item_socket4; }; //Fix sk2
					if($item_socket5 == '254') { $item_socket5 = dechex(254); } else { $item_socket5 = $item_socket5; }; //Fix sk2
				};
			} else {
				if($item_socket1 == '0' || $item_socket1 == '254' || $item_socket1 == '00') { $item_socket1 = '00'; } else { $item_socket1 = $item_socket1; }; //Fix sk2
				if($item_socket2 == '0' || $item_socket2 == '254' || $item_socket2 == '00') { $item_socket2 = '00'; } else { $item_socket2 = $item_socket2; }; //Fix sk2
				if($item_socket3 == '0' || $item_socket3 == '254' || $item_socket3 == '00') { $item_socket3 = '00'; } else { $item_socket3 = $item_socket3; }; //Fix sk2
				if($item_socket4 == '0' || $item_socket4 == '254' || $item_socket4 == '00') { $item_socket4 = '00'; } else { $item_socket4 = $item_socket4; }; //Fix sk2
				if($item_socket5 == '0' || $item_socket5 == '254' || $item_socket5 == '00') { $item_socket5 = '00'; } else { $item_socket5 = $item_socket5; }; //Fix sk2	
			};

			if($mvcore['socket_type'] == 'scfmt'){
			if($check_item_dat[14] >= '1') { $item_socket1 = $item_socket1; } else { $item_socket1 = '00'; };
			if($check_item_dat[14] >= '2') { $item_socket2 = $item_socket2; } else { $item_socket2 = '00'; };
			if($check_item_dat[14] >= '3') { $item_socket3 = $item_socket3; } else { $item_socket3 = '00'; };
			if($check_item_dat[14] >= '4') { $item_socket4 = $item_socket4; } else { $item_socket4 = '00'; };
			if($check_item_dat[14] == '5') { $item_socket5 = $item_socket5; } else { $item_socket5 = '00'; };
			} else {
			if($check_item_dat[14] >= '1') { $item_socket1 = $item_socket1; } else { $item_socket1 = dechex(255); };
			if($check_item_dat[14] >= '2') { $item_socket2 = $item_socket2; } else { $item_socket2 = dechex(255); };
			if($check_item_dat[14] >= '3') { $item_socket3 = $item_socket3; } else { $item_socket3 = dechex(255); };
			if($check_item_dat[14] >= '4') { $item_socket4 = $item_socket4; } else { $item_socket4 = dechex(255); };
			if($check_item_dat[14] == '5') { $item_socket5 = $item_socket5; } else { $item_socket5 = dechex(255); };
			}

			$NewHexOut = "".$it_id."".$optwo_count."".$item_dur_c."".generateRandomString()."".$calc_item_exc."".$addhex."".$item_cat_calc."".$item_ref."".$item_har_data."".$item_socket1."".$item_socket2."".$item_socket3."".$item_socket4."".$item_socket5."";
if($mvcore['db_season'] == '1') {
	
	$item_cat_calc = ''.hexdec($item_cat_calc).''; $item_cat_calc = $item_cat_calc * 2; 
	if($item_cat_calc >= '16') {
		$item_cat_calc = $item_cat_calc - 16; $item_cat_calc = ''.dechex($item_cat_calc).'0';
		$calc_item_exc = hexdec($calc_item_exc); $calc_item_exc = $calc_item_exc + 128; $calc_item_exc = ''.dechex($calc_item_exc).'';
	} else { $item_cat_calc = ''.dechex($item_cat_calc).'0'; };
	$it_id_cat = hexdec($item_cat_calc) + hexdec($it_id); $it_id_cat = dechex($it_id_cat);
	if(strlen($it_id_cat) == '1') { $it_id_cat = '0'.$it_id_cat.''; };
	
	function generateRandomString2($length = 6) {
		$characters = '0123456789ABCDE';
		$charactersLength = strlen($characters);
		$randomString = '';
		for ($i = 0; $i < $length; $i++) {
			$randomString .= $characters[rand(0, $charactersLength - 1)];
		}
		return $randomString;
	};
	$NewHexOut = "".$it_id_cat."".$optwo_count."".$item_dur_c."00".generateRandomString2()."".$calc_item_exc."".$addhex."00";	

};
		//end
			
			if($mvcore['db_season'] >= '9' && strlen($NewHexOut) == '32') { $exHex = 'FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF'; } else { $exHex = ''; };
			$Final_Result_hex = ''.$NewHexOut.''.$exHex.'';

function smartsearch($whbin,$itemX,$itemY,$incSeason) {

	if($incSeason >= '9') { $hexlen = '64'; } elseif($incSeason == '1') { $hexlen = '20'; } else { $hexlen = '32'; };
	if($incSeason >= '9') { $ilc = '480'; } elseif($incSeason == '1') { $ilc = '60'; } else { $ilc = '240'; };
	
	if (substr($whbin,0,2)=='0x') $whbin=substr($whbin,2);	
	$items 	= str_repeat('0', $ilc);
	$itemsm = str_repeat('1', $ilc);
	$i	= 0; 
	while ($i<$ilc) {
		$_item	= substr($whbin,($hexlen*$i), $hexlen);
		$check_ref = hexdec(substr($_item, 19,1))/16;	
		$check_wid = hexdec(substr($_item, 14,2));		
			if($check_ref == 0.5)
				$type	= floor(hexdec(substr($_item,18,2))/16);
			else
				$type	= round(hexdec(substr($_item,18,2))/16);

			if ($check_wid <= '127') { $last_try=hexdec(substr($_item,0,2)); $check_two = $last_try; }
			elseif ($check_wid >= '128') { $last_try=hexdec(substr($_item,0,2)); $check_two = $last_try+'256'; }

		if($incSeason == '1') {
			$type = hexdec(substr($_item, 0,2))/32; // Category
			$ioo = hexdec(substr($_item, 14,2)); // Excelent
			$ids = hexdec(substr($_item, 0,2));	$idss = $ids / 32; $syfd = $ids - (floor($idss) * 32); //ID Algoritm
			if($ioo >= 128) { $ioo = $ioo - 128; $type = $type + 8; }; $type = round($type); $check_two = floor($syfd);
		};
				
		$res= mssql_fetch_row(mssql_query("select [x],[y] from [MVCore_Wshopp] where [id]='".$check_two."' and [category]='".$type."'"));
		
		$y	= 0;
		while($y<$res[1]) {
			$y++;$x=0;
			while($x<$res[0]) {
				$items	= substr_replace($items, '1', ($i+$x)+(($y-1)*8), 1);
				$x++;	
			} 
		}	
		$i++;
	}
				
	$y	= 0;
	while($y<$itemY) {
		$y++;$x=0;
		while($x<$itemX) {
			$x++;
			$spacerq[$x+(8*($y-1))] = true;
		} 
	}
	$walked	= 0;
	$i	= 0;
	while($i<$ilc) {
		if (isset($spacerq[$i])) {
			$itemsm	= substr_replace($itemsm, '0', $i-1, 1);
			$last	= $i;
			$walked++;
		}
		if ($walked==count($spacerq)) $i=$ilc;
		$i++;
	}
	$useforlength	= substr($itemsm,0,$last);
	$findslotlikethis='^'.str_replace('++','+',str_replace('1','+[0-1]+', $useforlength));
	$i=0;$nx=0;$ny=0;
	while ($i<$ilc) {
		if ($nx==8) { $ny++; $nx=0; }
		if ((eregi($findslotlikethis,substr($items, $i, strlen($useforlength)))) && ($itemX+$nx<9) && ($itemY+$ny<16))
			return $i;
		$i++;
		$nx++;
	}
	return 1337;
}

if($mvcore['db_season'] >= '9') { $hexlen = '64'; } elseif($mvcore['db_season'] == '1') { $hexlen = '20'; } else { $hexlen = '32'; };

if($mvcore['db_season'] >= '9') { $cvbins = '7680'; } elseif($mvcore['db_season'] == '1') { $cvbins = '1200'; } else { $cvbins = '3840'; }; // Warehouse
if($mvcore['db_season'] >= '9') { $cvbinsch = '7584'; } elseif($mvcore['db_season'] == '1') { $cvbinsch = '1080'; } else { $cvbinsch = '3776'; }; // Inventory

$query		= mssql_query("declare @it varbinary(".$cvbins."); set @it=(select [items] from [warehouse] where [AccountID]='".$char_name."'); print @it");
$mycuritems	= mssql_get_last_message();

$newitem	= $Final_Result_hex;
$test		= 0;
$slot 		= smartsearch($mycuritems,$check_item_dat[11],$check_item_dat[12],$mvcore['db_season']);
$test		= $slot*$hexlen;

$mynewitems = substr_replace($mycuritems, $newitem, ($test+2), $hexlen);

if($slot == '1337' ) { $has_error = '1'; echo'<script>$.jGrowl("Warehouse seems to be full, clean and try again!.", { header: "<font color=red>Error</font>" });</script>'; };
	
		if($has_error >= '1'){} else {
			
			$run_qe = mssql_query("UPDATE warehouse SET items = ".$mynewitems." WHERE AccountID='".$char_name."'");
			
			echo'<script>$.jGrowl("Item successfully saved in '.$char_name.' warehouse.", { header: "<font color=green>Success</font>" });</script>';
			
		};
	};
	exit;
}
?>
<?php
if(isset($_POST['preview_bg'])) { // Preview BG
	
	mkdir("themes/".$mvcore['theme_dir']."/MvCoreStyling", 0700);
	
	if($has_error >= '1'){} else {
		$new_db = fopen("themes/".$mvcore['theme_dir']."/MvCoreStyling/preview_background.php", "w");
		$data = "<?php\n";
		$data .="\$mvcore['preview_bg'] = \"".$_POST['preview_bg']."\";\n";
		$data .="?>";
		fwrite($new_db,$data); fclose($new_db); chmod("themes/".$mvcore['theme_dir']."/MvCoreStyling/preview_background.php", 0777);
			
	}
	exit;
}
?>
<?php
if(isset($_POST['onChsubDBmdasdqw5'])) { // Vip Main sett
	
	$POST = explode("-ids-", $_POST['onChsubDBmdasdqw5']);
	
	if($has_error >= '1'){} else {
		$new_db = fopen("system/engine_configs".$db_name_multi."/vip_main_settings.php", "w");
		$data = "<?php\n";
		$data .="\$mvcore['Vip_System'] = \"".$POST[0]."\";\n";
		$data .="\$mvcore['vip_day_cost'] = \"".$POST[1]."\";\n";
		$data .="\$mvcore['vip_cost_type'] = \"".$POST[2]."\";\n";
		$data .="\$mvcore['vip_day_counts'] = \"".$POST[3]."\";\n";
		$data .="?>";
		fwrite($new_db,$data); fclose($new_db); chmod("system/engine_configs".$db_name_multi."/vip_main_settings.php", 0777);
		
		echo'<script>$.jGrowl("Settings successfully saved.", { header: "<font color=green>Success</font>" });</script>';
		
	}
	exit;
}
?>
<?php
if(isset($_POST['serversetthide'])) { // Vip Table Sett
	
	$POST = explode("-ids-", $_POST['serversetthide']);

	if($has_error >= '1'){} else {
		$new_db = fopen("system/engine_configs".$db_name_multi."/vip_server_settings.php", "w");
		$data = "<?php\n";
		$data .="\$mvcore['vip_table_name'] = \"".$POST[0]."\";\n";
		$data .="\$mvcore['vip_user_name'] = \"".$POST[1]."\";\n";
		$data .="\$mvcore['vip_col1_name'] = \"".$POST[2]."\";\n";
		$data .="\$mvcore['vip_col1_val'] = \"".$POST[3]."\";\n";
		$data .="\$mvcore['vip_col2_name'] = \"".$POST[4]."\";\n";
		$data .="\$mvcore['vip_col2_val'] = \"".$POST[5]."\";\n";
		$data .="\$mvcore['vip_file_path'] = \"".$POST[6]."\";\n";
		$data .="\$mvcore['vip_file_insert_onoff'] = \"".$POST[7]."\";\n";
		$data .="\$mvcore['vip_team_selct'] = \"".$POST[8]."\";\n";
		$data .="\$mvcore['vip_col1_valt1'] = \"".$POST[9]."\";\n";
		$data .="\$mvcore['vip_col1_valt1_cost'] = \"".$POST[10]."\";\n";
		$data .="\$mvcore['vip_col1_valt2'] = \"".$POST[11]."\";\n";
		$data .="\$mvcore['vip_col1_valt2_cost'] = \"".$POST[12]."\";\n";
		$data .="\$mvcore['vip_col1_valt3'] = \"".$POST[13]."\";\n";
		$data .="\$mvcore['vip_col1_valt3_cost'] = \"".$POST[14]."\";\n";
		$data .="\$mvcore['vip_col1_valt4'] = \"".$POST[15]."\";\n";
		$data .="\$mvcore['vip_col1_valt4_cost'] = \"".$POST[16]."\";\n";
		$data .="?>";
		fwrite($new_db,$data); fclose($new_db); chmod("system/engine_configs".$db_name_multi."/vip_server_settings.php", 0777);
		
		echo'<script>$.jGrowl("Settings successfully saved.", { header: "<font color=green>Success</font>" });</script>';
		
	}
	exit;
}
?>
<?php
if(isset($_POST['websetthide'])) { // Vip Website sett
	
	$POST = explode("-ids-", $_POST['websetthide']);

	if($has_error >= '1'){} else {
		$new_db = fopen("system/engine_configs".$db_name_multi."/vip_website_settings.php", "w");
		$data = "<?php\n";
		$data .="\$mvcore['web_shop_disc_vip'] = \"".$POST[0]."\";\n";
		$data .="\$mvcore['web_lott_disc_vip'] = \"".$POST[1]."\";\n";
		$data .="\$mvcore['web_it_upgr_vip'] = \"".$POST[2]."\";\n";
		$data .="\$mvcore['web_res_reward_vip'] = \"".$POST[3]."\";\n";
		$data .="\$mvcore['web_gr_reward_vip'] = \"".$POST[4]."\";\n";
		$data .="\$mvcore['web_master_gr_reward_vip'] = \"".$POST[5]."\";\n";
		$data .="\$mvcore['web_rgm_level_vip'] = \"".$POST[6]."\";\n";
		$data .="?>";
		fwrite($new_db,$data); fclose($new_db); chmod("system/engine_configs".$db_name_multi."/vip_website_settings.php", 0777);
		
		echo'<script>$.jGrowl("Settings successfully saved.", { header: "<font color=green>Success</font>" });</script>';
		
	}
	exit;
}
?>
<?php
if(isset($_POST['resetearndata'])) { // Preview BG
	
	$sys_startsg = mssql_query("delete from MVCore_Income_Logs");
	
	echo'<script>$.jGrowl("Data successfully deleted.", { header: "<font color=green>Success</font>" });</script>';
	
	exit;
}
?>
<?php
if(isset($_POST['voteDoMultiAccDelete'])) { // MultiAccount Voters
	
	$sasdsaa = mssql_query("select IP,memb___id from MVCore_MultiAcc_Voters where IP = '".$_POST['voteDoMultiAccDelete']."'");
	$dfinfwefwefo = mssql_fetch_row($sasdsaa); 
	$accounts_found = explode(',' , $dfinfwefwefo[1]);
				
		for($i=0;$i < count($accounts_found) ;++$i) {
			
			$sys_startsg = mssql_query("delete from MVCore_MultiAcc_Voters where IP = '".$_POST['voteDoMultiAccDelete']."'");
			
			$sys_startsg = mssql_query("delete from MVCore_Vote_Log where vote_ip = '".$_POST['voteDoMultiAccBan']."'");
			
			//Basic Data Delete.
			$sys_startsg = mssql_query("DELETE FROM AccountCharacter where ID = '".$accounts_found[$i]."'");
			$sys_startsg = mssql_query("DELETE FROM Character where AccountID = '".$accounts_found[$i]."'");
			$sys_startsg = mssql_query("DELETE FROM ".$mvcore_medb_i." where memb___id = '".$accounts_found[$i]."'");
			$sys_startsg = mssql_query("DELETE FROM ".$mvcore_medb_s." where memb___id = '".$accounts_found[$i]."'");
			$sys_startsg = mssql_query("DELETE FROM warehouse where memb___id = '".$accounts_found[$i]."'");
			$sys_startsg = mssql_query("DELETE FROM OptionData where memb___id = '".$accounts_found[$i]."'");
			$sys_startsg = mssql_query("DELETE FROM T_Cguid where memb___id = '".$accounts_found[$i]."'");
			$sys_startsg = mssql_query("DELETE FROM T_FriendList where memb___id = '".$accounts_found[$i]."'");
			$sys_startsg = mssql_query("DELETE FROM T_FriendMail where memb___id = '".$accounts_found[$i]."'");
			$sys_startsg = mssql_query("DELETE FROM T_FriendMain where memb___id = '".$accounts_found[$i]."'");
			$sys_startsg = mssql_query("DELETE FROM T_PetItem_Info where memb___id = '".$accounts_found[$i]."'");
			$sys_startsg = mssql_query("DELETE FROM T_WaitFriend where memb___id = '".$accounts_found[$i]."'");
			$sys_startsg = mssql_query("DELETE FROM VI_CURR_INFO where memb___id = '".$accounts_found[$i]."'");
			$sys_startsg = mssql_query("DELETE FROM T_CGuid where memb___id = '".$accounts_found[$i]."'");
			$sys_startsg = mssql_query("DELETE FROM BotPet where memb___id = '".$accounts_found[$i]."'");
			$sys_startsg = mssql_query("DELETE FROM DmN_Shop_Credits where memb___id = '".$accounts_found[$i]."'");
			$sys_startsg = mssql_query("DELETE FROM GuildWarehouse where memb___id = '".$accounts_found[$i]."'");
			$sys_startsg = mssql_query("DELETE FROM SCFS5Quest where memb___id = '".$accounts_found[$i]."'");
										
		};	
			
		echo'<script>$.jGrowl("Accouns successfully deleted.", { header: "<font color=green>Success</font>" });</script>';
	
	exit;
}
?>
<?php
if(isset($_POST['voteDoMultiAccBan'])) { // MultiAccount Voters
	
	$sasdsaa = mssql_query("select IP,memb___id from MVCore_MultiAcc_Voters where IP = '".$_POST['voteDoMultiAccBan']."'");
	$dfinfwefwefo = mssql_fetch_row($sasdsaa); 
	$accounts_found = explode(',' , $dfinfwefwefo[1]);
		for($i=0;$i < count($accounts_found) ;++$i) {

			$edit_site = mssql_query("UPDATE ".$mvcore_medb_i." set bloc_code = '1' where memb___id='".$accounts_found[$i]."'");
			
			$sys_startsg = mssql_query("delete from MVCore_Vote_Log where vote_ip = '".$_POST['voteDoMultiAccBan']."'");
			
			if($i == 0) {
				$sys_startsg = mssql_query("delete from MVCore_MultiAcc_Voters where IP = '".$_POST['voteDoMultiAccBan']."'");
				$edit_site = mssql_query("INSERT INTO MVCore_Banned_PPL (name,type,reason,banned_by,unban_date) VALUES ('".$accounts_found[0]."', '1', 'Multi Account Voting', 'ADMIN', '0')");
			};
				
		};	
		
		echo'<script>$.jGrowl("Accouns successfully banned.", { header: "<font color=green>Success</font>" });</script>';
					
	exit;
}
?>
<?php 
//}
?>